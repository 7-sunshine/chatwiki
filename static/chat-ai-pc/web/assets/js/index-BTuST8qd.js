const __vite__fileDeps=["./en-US-BkGuVzjK.js","./vue-chunks-B2Nrv7Kp.js","./axios-B4uVmeYG.js","./qs-DrHefV6n.js","./dayjs-C4iS2aBk.js","./crypto-js-BJ7SvduI.js","./zh-CN-uLXA6Q8T.js","./index-CXMdQLqy.js","../css/index-cOql1q-t.css","./index-Chsx_LQq.js","../css/index-iEkVsS7E.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Tr=Object.defineProperty;var Cr=(e,t,n)=>t in e?Tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ne=(e,t,n)=>(Cr(e,typeof t!="symbol"?t+"":t,n),n);import{o as Kt,a as bt,i as Ar,w as Y,r as I,b as yt,n as Ae,c as Zt,u as Ft,d as he,g as wt,e as te,f as ae,h as T,j as Ci,p as Ai,k as xr,l as Ir,m as We,T as xi,q as Ii,v as Di,s as Dr,F as kr,t as ki,x as Lr,y as Gt,z as Pr,A as Nr,B as Rr,C as ct,D as jr,R as zr,E as vn,G as gn,H as Bt,I as Mr,J as Fr,K as Br,L as $r}from"./vue-chunks-B2Nrv7Kp.js";import{a as Vr}from"./axios-B4uVmeYG.js";import{q as Ur}from"./qs-DrHefV6n.js";import"./dayjs-C4iS2aBk.js";import"./crypto-js-BJ7SvduI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol  fill="none" viewBox="0 0 16 16" id="close"><path fill="currentColor" d="M5.46 4.54a.65.65 0 0 0-.92.92L7.08 8l-2.54 2.54a.65.65 0 1 0 .92.92L8 8.92l2.54 2.54a.65.65 0 1 0 .92-.92L8.92 8l2.54-2.54a.65.65 0 1 0-.92-.92L8 7.08 5.46 4.54Z" data-follow-fill="#000" /></symbol><symbol fill="none"  viewBox="0 0 16 16" id="down-arrow"><path d="m12 6-4 4-4-4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" /></symbol><symbol fill="none"  viewBox="0 0 40 40" class="design-iconfont" id="paper-airplane-new-active"><path fill="url(#paper-airplane-new-active_a)" d="M20 0a20 20 0 1 0 0 40 20 20 0 1 0 0-40Z" /><path d="M20.997 10.248c.43.202.77.545.975.957l7.799 15.57c.536 1.105.099 2.438-.975 2.998a2.26 2.26 0 0 1-1.65.127l-5.502-1.703a1.208 1.208 0 0 1-.847-1.156c0-1.09-.8-6.766-.8-6.766s-.8 5.69-.8 6.762c0 .533-.346 1.003-.853 1.157l-5.521 1.68a2.184 2.184 0 0 1-2.725-1.486 2.134 2.134 0 0 1 .15-1.638l7.8-15.545c.55-1.086 1.874-1.523 2.949-.957Z" fill="#F5F9FF" /><defs><linearGradient id="paper-airplane-new-active_a" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#36ABFF" /><stop offset="1" stop-color="#2476FF" /></linearGradient></defs></symbol><symbol fill="none"  viewBox="0 0 40 40" class="design-iconfont" id="paper-airplane-new"><g opacity=".5"><path fill="url(#paper-airplane-new_a)" d="M20 0a20 20 0 1 0 0 40 20 20 0 1 0 0-40Z" /><path d="M20.997 10.248c.43.202.77.545.975.957l7.799 15.57c.536 1.105.099 2.438-.975 2.998a2.26 2.26 0 0 1-1.65.127l-5.502-1.703a1.208 1.208 0 0 1-.847-1.156c0-1.09-.8-6.766-.8-6.766s-.8 5.69-.8 6.762c0 .533-.346 1.003-.853 1.157l-5.521 1.68a2.184 2.184 0 0 1-2.725-1.486 2.134 2.134 0 0 1 .15-1.638l7.8-15.545c.55-1.086 1.874-1.523 2.949-.957Z" fill="#F5F9FF" /></g><defs><linearGradient id="paper-airplane-new_a" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#36ABFF" /><stop offset="1" stop-color="#2476FF" /></linearGradient></defs></symbol><symbol fill="none"  viewBox="0 0 20 20" id="paper-airplane"><path d="M17.5 3.333 12.543 17.5 9.71 11.125 3.334 8.292l14.167-4.959ZM17.5 3.333 9.71 11.125" stroke="currentColor" stroke-width="1.625" stroke-linecap="round" stroke-linejoin="round" /></symbol>',t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function qr(){}const oe=Object.assign,Jt=typeof window<"u",_t=e=>e!==null&&typeof e=="object",se=e=>e!=null,$t=e=>typeof e=="function",Wr=e=>_t(e)&&$t(e.then)&&$t(e.catch),Li=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Yr=()=>Jt?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function pn(e,t){const n=t.split(".");let i=e;return n.forEach(r=>{var o;i=_t(i)&&(o=i[r])!=null?o:""}),i}function Hr(e,t,n){return t.reduce((i,r)=>(i[r]=e[r],i),{})}const ut=null,H=[Number,String],de={type:Boolean,default:!0},Xr=e=>({type:Number,default:e}),V=e=>({type:String,default:e});var Qt=typeof window<"u";function Pi(e){let t;yt(()=>{e(),Ae(()=>{t=!0})}),Zt(()=>{t&&e()})}function Ni(e,t,n={}){if(!Qt)return;const{target:i=window,passive:r=!1,capture:o=!1}=n;let a=!1,s;const c=f=>{if(a)return;const d=Ft(f);d&&!s&&(d.addEventListener(e,t,{capture:o,passive:r}),s=!0)},l=f=>{if(a)return;const d=Ft(f);d&&s&&(d.removeEventListener(e,t,o),s=!1)};Kt(()=>l(i)),bt(()=>l(i)),Pi(()=>c(i));let u;return Ar(i)&&(u=Y(i,(f,d)=>{l(d),c(f)})),()=>{u==null||u(),l(i),a=!0}}var Ge,Dt;function Kr(){if(!Ge&&(Ge=I(0),Dt=I(0),Qt)){const e=()=>{Ge.value=window.innerWidth,Dt.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Ge,height:Dt}}var Zr=/scroll|auto|overlay/i,Gr=Qt?window:void 0;function Jr(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Qr(e,t=Gr){let n=e;for(;n&&n!==t&&Jr(n);){const{overflowY:i}=window.getComputedStyle(n);if(Zr.test(i))return n;n=n.parentNode}return t}Yr();const eo=e=>e.stopPropagation();function en(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&eo(e)}Kr();function Q(e){if(se(e))return Li(e)?`${e}px`:String(e)}function to(e){if(se(e)){if(Array.isArray(e))return{width:Q(e[0]),height:Q(e[1])};const t=Q(e);return{width:t,height:t}}}function no(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const io=/-(\w)/g,Ri=e=>e.replace(io,(t,n)=>n.toUpperCase()),ro=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:oo}=Object.prototype;function ao(e,t,n){const i=t[n];se(i)&&(!oo.call(e,n)||!_t(i)?e[n]=i:e[n]=ji(Object(e[n]),i))}function ji(e,t){return Object.keys(t).forEach(n=>{ao(e,t,n)}),e}var zi={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const bn=I("zh-CN"),yn=he({"zh-CN":zi}),Mi={messages(){return yn[bn.value]},use(e,t){bn.value=e,this.add({[e]:t})},add(e={}){ji(yn,e)}};var so=Mi;function lo(e){const t=Ri(e)+".";return(n,...i)=>{const r=so.messages(),o=pn(r,t+n)||pn(r,n);return $t(o)?o(...i):o}}function Vt(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,i)=>n+Vt(e,i),""):Object.keys(t).reduce((n,i)=>n+(t[i]?Vt(e,i):""),""):""}function co(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Vt(t,n)}`)}function le(e){const t=`van-${e}`;return[t,co(t),lo(t)]}const uo="van-hairline",fo=`${uo}--surround`,ho="van-haptics-feedback",wn=5;function mo(e,{args:t=[],done:n,canceled:i,error:r}){if(e){const o=e.apply(null,t);Wr(o)?o.then(a=>{a?n():i&&i()}).catch(r||qr):o?n():i&&i()}else n()}function ce(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Ri(`-${n}`),e))},e}const vo=Symbol();function Fi(e){const t=wt();t&&oe(t.proxy,e)}const go={to:[String,Object],url:String,replace:Boolean};function po({to:e,url:t,replace:n,$router:i}){e&&i?i[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function bo(){const e=wt().proxy;return()=>po(e)}const[yo,_n]=le("badge"),wo={dot:Boolean,max:H,tag:V("div"),color:String,offset:Array,content:H,showZero:de,position:V("top-right")};var _o=te({name:yo,props:wo,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:s,showZero:c}=e;return se(s)&&s!==""&&(c||s!==0&&s!=="0")},i=()=>{const{dot:s,max:c,content:l}=e;if(!s&&n())return t.content?t.content():se(c)&&Li(l)&&+l>+c?`${c}+`:l},r=s=>s.startsWith("-")?s.replace("-",""):`-${s}`,o=ae(()=>{const s={background:e.color};if(e.offset){const[c,l]=e.offset,{position:u}=e,[f,d]=u.split("-");t.default?(typeof l=="number"?s[f]=Q(f==="top"?l:-l):s[f]=f==="top"?Q(l):r(l),typeof c=="number"?s[d]=Q(d==="left"?c:-c):s[d]=d==="left"?Q(c):r(c)):(s.marginTop=Q(l),s.marginLeft=Q(c))}return s}),a=()=>{if(n()||e.dot)return T("div",{class:_n([e.position,{dot:e.dot,fixed:!!t.default}]),style:o.value},[i()])};return()=>{if(t.default){const{tag:s}=e;return T(s,{class:_n("wrapper")},{default:()=>[t.default(),a()]})}return a()}}});const Eo=ce(_o);let Bi=2e3;const So=()=>++Bi,Oo=e=>{Bi=e},[$i,To]=le("config-provider"),Vi=Symbol($i),Co={tag:V("div"),theme:V("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:V("local"),iconPrefix:String};function Ao(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function xo(e){const t={};return Object.keys(e).forEach(n=>{const i=Ao(ro(n));t[`--van-${i}`]=e[n]}),t}function Je(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var Io=te({name:$i,props:Co,setup(e,{slots:t}){const n=ae(()=>xo(oe({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(Jt){const i=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(o=e.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};Y(()=>e.theme,(o,a)=>{a&&r(a),i()},{immediate:!0}),Zt(i),bt(r),Ci(r),Y(n,(o,a)=>{e.themeVarsScope==="global"&&Je(o,a)}),Y(()=>e.themeVarsScope,(o,a)=>{a==="global"&&Je({},n.value),o==="global"&&Je(n.value,{})}),e.themeVarsScope==="global"&&Je(n.value,{})}return Ai(Vi,e),xr(()=>{e.zIndex!==void 0&&Oo(e.zIndex)}),()=>T(e.tag,{class:To(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}});const[Do,En]=le("icon"),ko=e=>e==null?void 0:e.includes("/"),Lo={dot:Boolean,tag:V("i"),name:String,size:H,badge:H,color:String,badgeProps:Object,classPrefix:String};var Po=te({name:Do,props:Lo,setup(e,{slots:t}){const n=Ir(Vi,null),i=ae(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||En());return()=>{const{tag:r,dot:o,name:a,size:s,badge:c,color:l}=e,u=ko(a);return T(Eo,We({dot:o,tag:r,class:[i.value,u?"":`${i.value}-${a}`],style:{color:l,fontSize:Q(s)},content:c},e.badgeProps),{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t),u&&T("img",{class:En("image"),src:a},null)]}})}}});const Et=ce(Po),[No,$e]=le("loading"),Ro=Array(12).fill(null).map((e,t)=>T("i",{class:$e("line",String(t+1))},null)),jo=T("svg",{class:$e("circular"),viewBox:"25 25 50 50"},[T("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),zo={size:H,type:V("circular"),color:String,vertical:Boolean,textSize:H,textColor:String};var Mo=te({name:No,props:zo,setup(e,{slots:t}){const n=ae(()=>oe({color:e.color},to(e.size))),i=()=>{const o=e.type==="spinner"?Ro:jo;return T("span",{class:$e("spinner",e.type),style:n.value},[t.icon?t.icon():o])},r=()=>{var o;if(t.default)return T("span",{class:$e("text"),style:{fontSize:Q(e.textSize),color:(o=e.textColor)!=null?o:e.color}},[t.default()])};return()=>{const{type:o,vertical:a}=e;return T("div",{class:$e([o,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[i(),r()])}}});const Ui=ce(Mo),[Fo,be]=le("button"),Bo=oe({},go,{tag:V("button"),text:String,icon:String,type:V("default"),size:V("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:V("button"),loadingSize:H,loadingText:String,loadingType:String,iconPosition:V("left")});var $o=te({name:Fo,props:Bo,emits:["click"],setup(e,{emit:t,slots:n}){const i=bo(),r=()=>n.loading?n.loading():T(Ui,{size:e.loadingSize,type:e.loadingType,class:be("loading")},null),o=()=>{if(e.loading)return r();if(n.icon)return T("div",{class:be("icon")},[n.icon()]);if(e.icon)return T(Et,{name:e.icon,class:be("icon"),classPrefix:e.iconPrefix},null)},a=()=>{let l;if(e.loading?l=e.loadingText:l=n.default?n.default():e.text,l)return T("span",{class:be("text")},[l])},s=()=>{const{color:l,plain:u}=e;if(l){const f={color:u?l:"white"};return u||(f.background=l),l.includes("gradient")?f.border=0:f.borderColor=l,f}},c=l=>{e.loading?en(l):e.disabled||(t("click",l),i())};return()=>{const{tag:l,type:u,size:f,block:d,round:m,plain:g,square:p,loading:E,disabled:S,hairline:x,nativeType:O,iconPosition:N}=e,j=[be([u,f,{plain:g,block:d,round:m,square:p,loading:E,disabled:S,hairline:x}]),{[fo]:x}];return T(l,{type:O,class:j,style:s(),disabled:S,onClick:c},{default:()=>[T("div",{class:be("content")},[N==="left"&&o(),a(),N==="right"&&o()])]})}}});const Vo=ce($o),Uo={show:Boolean,zIndex:H,overlay:de,duration:H,teleport:[String,Object],lockScroll:de,lazyRender:de,beforeClose:Function,overlayStyle:Object,overlayClass:ut,transitionAppear:Boolean,closeOnClickOverlay:de};function qo(e,t){return e>t?"horizontal":t>e?"vertical":""}function Wo(){const e=I(0),t=I(0),n=I(0),i=I(0),r=I(0),o=I(0),a=I(""),s=I(!0),c=()=>a.value==="vertical",l=()=>a.value==="horizontal",u=()=>{n.value=0,i.value=0,r.value=0,o.value=0,a.value="",s.value=!0};return{move:m=>{const g=m.touches[0];n.value=(g.clientX<0?0:g.clientX)-e.value,i.value=g.clientY-t.value,r.value=Math.abs(n.value),o.value=Math.abs(i.value);const p=10;(!a.value||r.value<p&&o.value<p)&&(a.value=qo(r.value,o.value)),s.value&&(r.value>wn||o.value>wn)&&(s.value=!1)},start:m=>{u(),e.value=m.touches[0].clientX,t.value=m.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:r,offsetY:o,direction:a,isVertical:c,isHorizontal:l,isTap:s}}let je=0;const Sn="van-overflow-hidden";function Yo(e,t){const n=Wo(),i="01",r="10",o=u=>{n.move(u);const f=n.deltaY.value>0?r:i,d=Qr(u.target,e.value),{scrollHeight:m,offsetHeight:g,scrollTop:p}=d;let E="11";p===0?E=g>=m?"00":"01":p+g>=m&&(E="10"),E!=="11"&&n.isVertical()&&!(parseInt(E,2)&parseInt(f,2))&&en(u,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),je||document.body.classList.add(Sn),je++},s=()=>{je&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),je--,je||document.body.classList.remove(Sn))},c=()=>t()&&a(),l=()=>t()&&s();Pi(c),bt(l),Ci(l),Y(t,u=>{u?a():s()})}function qi(e){const t=I(!1);return Y(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const On=()=>{var e;const{scopeId:t}=((e=wt())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Ho,Xo]=le("overlay"),Ko={show:Boolean,zIndex:H,duration:H,className:ut,lockScroll:de,lazyRender:de,customStyle:Object};var Zo=te({name:Ho,props:Ko,setup(e,{slots:t}){const n=I(),i=qi(()=>e.show||!e.lazyRender),r=a=>{e.lockScroll&&en(a,!0)},o=i(()=>{var a;const s=oe(no(e.zIndex),e.customStyle);return se(e.duration)&&(s.animationDuration=`${e.duration}s`),Ii(T("div",{ref:n,style:s,class:[Xo(),e.className]},[(a=t.default)==null?void 0:a.call(t)]),[[Di,e.show]])});return Ni("touchmove",r,{target:n}),()=>T(xi,{name:"van-fade",appear:!0},{default:o})}});const Go=ce(Zo),Jo=oe({},Uo,{round:Boolean,position:V("center"),closeIcon:V("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:V("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Qo,Tn]=le("popup");var ea=te({name:Qo,inheritAttrs:!1,props:Jo,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:i}){let r,o;const a=I(),s=I(),c=qi(()=>e.show||!e.lazyRender),l=ae(()=>{const v={zIndex:a.value};if(se(e.duration)){const C=e.position==="center"?"animationDuration":"transitionDuration";v[C]=`${e.duration}s`}return v}),u=()=>{r||(r=!0,a.value=e.zIndex!==void 0?+e.zIndex:So(),t("open"))},f=()=>{r&&mo(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},d=v=>{t("clickOverlay",v),e.closeOnClickOverlay&&f()},m=()=>{if(e.overlay)return T(Go,We({show:e.show,class:e.overlayClass,zIndex:a.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},On(),{onClick:d}),{default:i["overlay-content"]})},g=v=>{t("clickCloseIcon",v),f()},p=()=>{if(e.closeable)return T(Et,{role:"button",tabindex:0,name:e.closeIcon,class:[Tn("close-icon",e.closeIconPosition),ho],classPrefix:e.iconPrefix,onClick:g},null)};let E;const S=()=>{E&&clearTimeout(E),E=setTimeout(()=>{t("opened")})},x=()=>t("closed"),O=v=>t("keydown",v),N=c(()=>{var v;const{round:C,position:D,safeAreaInsetTop:W,safeAreaInsetBottom:U}=e;return Ii(T("div",We({ref:s,style:l.value,role:"dialog",tabindex:0,class:[Tn({round:C,[D]:D}),{"van-safe-area-top":W,"van-safe-area-bottom":U}],onKeydown:O},n,On()),[(v=i.default)==null?void 0:v.call(i),p()]),[[Di,e.show]])}),j=()=>{const{position:v,transition:C,transitionAppear:D}=e,W=v==="center"?"van-fade":`van-popup-slide-${v}`;return T(xi,{name:C||W,appear:D,onAfterEnter:S,onAfterLeave:x},{default:N})};return Y(()=>e.show,v=>{v&&!r&&(u(),n.tabindex===0&&Ae(()=>{var C;(C=s.value)==null||C.focus()})),!v&&r&&(r=!1,t("close"))}),Fi({popupRef:s}),Yo(s,()=>e.show&&e.lockScroll),Ni("popstate",()=>{e.closeOnPopstate&&(f(),o=!1)}),yt(()=>{e.show&&u()}),Zt(()=>{o&&(t("update:show",!0),o=!1)}),bt(()=>{e.show&&e.teleport&&(f(),o=!0)}),Ai(vo,()=>e.show),()=>e.teleport?T(Dr,{to:e.teleport},{default:()=>[m(),j()]}):T(kr,null,[m(),j()])}});const ta=ce(ea);let ze=0;function na(e){e?(ze||document.body.classList.add("van-toast--unclickable"),ze++):ze&&(ze--,ze||document.body.classList.remove("van-toast--unclickable"))}const[ia,ye]=le("toast"),ra=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],oa={icon:String,show:Boolean,type:V("text"),overlay:Boolean,message:H,iconSize:H,duration:Xr(2e3),position:V("middle"),teleport:[String,Object],wordBreak:String,className:ut,iconPrefix:String,transition:V("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:ut,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:H};var Wi=te({name:ia,props:oa,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,r=!1;const o=()=>{const f=e.show&&e.forbidClick;r!==f&&(r=f,na(r))},a=f=>t("update:show",f),s=()=>{e.closeOnClick&&a(!1)},c=()=>clearTimeout(i),l=()=>{const{icon:f,type:d,iconSize:m,iconPrefix:g,loadingType:p}=e;if(f||d==="success"||d==="fail")return T(Et,{name:f||d,size:m,class:ye("icon"),classPrefix:g},null);if(d==="loading")return T(Ui,{class:ye("loading"),size:m,type:p},null)},u=()=>{const{type:f,message:d}=e;if(n.message)return T("div",{class:ye("text")},[n.message()]);if(se(d)&&d!=="")return f==="html"?T("div",{key:0,class:ye("text"),innerHTML:String(d)},null):T("div",{class:ye("text")},[d])};return Y(()=>[e.show,e.forbidClick],o),Y(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(i=setTimeout(()=>{a(!1)},e.duration))}),yt(o),Kt(o),()=>T(ta,We({class:[ye([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:c,"onUpdate:show":a},Hr(e,ra)),{default:()=>[l(),u()]})}});function aa(){const e=he({show:!1}),t=r=>{e.show=r},n=r=>{oe(e,r,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return Fi({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function sa(e){const t=ki(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const la={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Qe=[],ca=!1,Cn=oe({},la);const ua=new Map;function fa(e){return _t(e)?e:{message:e}}function da(){const{instance:e,unmount:t}=sa({setup(){const n=I(""),{open:i,state:r,close:o,toggle:a}=aa(),s=()=>{},c=()=>T(Wi,We(r,{onClosed:s,"onUpdate:show":a}),null);return Y(n,l=>{r.message=l}),wt().render=c,{open:i,close:o,message:n}}});return e}function ha(){if(!Qe.length||ca){const e=da();Qe.push(e)}return Qe[Qe.length-1]}function Yi(e={}){if(!Jt)return{};const t=ha(),n=fa(e);return t.open(oe({},Cn,ua.get(n.type||Cn.type),n)),t}ce(Wi);const ma=ce(Io),va=e=>{e.use(ma),e.use(Vo),e.use(Et)},ga="modulepreload",pa=function(e,t){return new URL(e,t).href},An={},ft=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(n.map(c=>{if(c=pa(c,i),c in An)return;An[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!i)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===c&&(!l||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":ga,l||(d.as="script",d.crossOrigin=""),d.href=c,s&&d.setAttribute("nonce",s),document.head.appendChild(d),l)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}return r.then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},ba=(e,t,n)=>{const i=e[t];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function ya(e){return typeof e=="object"&&e!==null}function xn(e,t){return e=ya(e)?e:Object.create(null),new Proxy(e,{get(n,i,r){return i==="key"?Reflect.get(n,i,r):Reflect.get(n,i,r)||Reflect.get(t,i,r)}})}function wa(e,t){return t.reduce((n,i)=>n==null?void 0:n[i],e)}function _a(e,t,n){return t.slice(0,-1).reduce((i,r)=>/^(__proto__)$/.test(r)?{}:i[r]=i[r]||{},e)[t[t.length-1]]=n,e}function Ea(e,t){return t.reduce((n,i)=>{const r=i.split(".");return _a(n,r,wa(e,r))},{})}function Sa(e,t){return n=>{var i;try{const{storage:r=localStorage,beforeRestore:o=void 0,afterRestore:a=void 0,serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:u=!1}=n;return{storage:r,beforeRestore:o,afterRestore:a,serializer:s,key:((i=e.key)!=null?i:f=>f)(typeof c=="string"?c:c(t.$id)),paths:l,debug:u}}catch(r){return n.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function In(e,{storage:t,serializer:n,key:i,debug:r}){try{const o=t==null?void 0:t.getItem(i);o&&e.$patch(n==null?void 0:n.deserialize(o))}catch(o){r&&console.error("[pinia-plugin-persistedstate]",o)}}function Dn(e,{storage:t,serializer:n,key:i,paths:r,debug:o}){try{const a=Array.isArray(r)?Ea(e,r):e;t.setItem(i,n.serialize(a))}catch(a){o&&console.error("[pinia-plugin-persistedstate]",a)}}function Oa(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:i=n},store:r,pinia:o}=t;if(!i)return;if(!(r.$id in o.state.value)){const s=o._s.get(r.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const a=(Array.isArray(i)?i.map(s=>xn(s,e)):[xn(i,e)]).map(Sa(e,r)).filter(Boolean);r.$persist=()=>{a.forEach(s=>{Dn(r.$state,s)})},r.$hydrate=({runHooks:s=!0}={})=>{a.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;s&&(l==null||l(t)),In(r,c),s&&(u==null||u(t))})},a.forEach(s=>{const{beforeRestore:c,afterRestore:l}=s;c==null||c(t),In(r,s),l==null||l(t),r.$subscribe((u,f)=>{Dn(f,s)},{detached:!0})})}}const tn=Lr();tn.use(Oa({key:e=>`__persisted__${e}`,auto:!1}));const Ta=e=>{e.use(tn)};var Ca={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const Aa=({prefixKey:e="chatwiki::pc::",storage:t=localStorage}={})=>{const n=class{constructor(){ne(this,"storage",t);ne(this,"prefixKey",e)}getKey(i){return`${this.prefixKey}${i}`.toUpperCase()}set(i,r,o=null){const a=JSON.stringify({value:r,expire:o!==null?new Date().getTime()+o*1e3:null});this.storage.setItem(this.getKey(i),a)}get(i,r=null){const o=this.storage.getItem(this.getKey(i));if(o)try{const a=JSON.parse(o),{value:s,expire:c}=a;if(c===null||c>=Date.now())return s;this.remove(this.getKey(i))}catch{return r}return r}remove(i){console.log("remove:",i),this.storage.removeItem(this.getKey(i))}clear(){this.storage.clear()}setCookie(i,r,o=null){document.cookie=`${this.getKey(i)}=${r}; Max-Age=${o}`}getCookie(i){const r=document.cookie.split("; ");for(let o=0,a=r.length;o<a;o++){const s=r[o].split("=");if(s[0]===this.getKey(i))return s[1]}return""}removeCookie(i){this.setCookie(i,1,-1)}clearCookie(){const i=document.cookie.match(/[^ =;]+(?==)/g);if(i)for(let r=i.length;r--;)document.cookie=`${i[r]}=0;expire=${new Date(0).toUTCString()}`}};return new n},Ve=Aa(),kn={"zh-CN":zi,"en-US":Ca},xa=Gt("locales",{state:()=>({currentLocale:{lang:Ve.get("lang")||"zh-CN",vantLocale:kn[Ve.get("lang")||"zh-CN"]},localeMap:[{lang:"zh-CN",name:"简体中文"},{lang:"en-US",name:"English"}]}),getters:{getCurrentLocale(){return this.currentLocale},getLocaleMap(){return this.localeMap}},actions:{setCurrentLocale(e){this.currentLocale.lang=e==null?void 0:e.lang,this.currentLocale.vantLocale=kn[e==null?void 0:e.lang],Mi.use(e==null?void 0:e.lang,this.currentLocale.vantLocale),Ve.set("lang",e==null?void 0:e.lang)}}}),Hi=()=>xa(tn);var Ia=typeof global=="object"&&global&&global.Object===Object&&global,Da=typeof self=="object"&&self&&self.Object===Object&&self,nn=Ia||Da||Function("return this")(),De=nn.Symbol,Xi=Object.prototype,ka=Xi.hasOwnProperty,La=Xi.toString,Me=De?De.toStringTag:void 0;function Pa(e){var t=ka.call(e,Me),n=e[Me];try{e[Me]=void 0;var i=!0}catch{}var r=La.call(e);return i&&(t?e[Me]=n:delete e[Me]),r}var Na=Object.prototype,Ra=Na.toString;function ja(e){return Ra.call(e)}var za="[object Null]",Ma="[object Undefined]",Ln=De?De.toStringTag:void 0;function Ki(e){return e==null?e===void 0?Ma:za:Ln&&Ln in Object(e)?Pa(e):ja(e)}function Fa(e){return e!=null&&typeof e=="object"}var Ba="[object Symbol]";function rn(e){return typeof e=="symbol"||Fa(e)&&Ki(e)==Ba}function $a(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var on=Array.isArray,Va=1/0,Pn=De?De.prototype:void 0,Nn=Pn?Pn.toString:void 0;function Zi(e){if(typeof e=="string")return e;if(on(e))return $a(e,Zi)+"";if(rn(e))return Nn?Nn.call(e):"";var t=e+"";return t=="0"&&1/e==-Va?"-0":t}function dt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ua="[object AsyncFunction]",qa="[object Function]",Wa="[object GeneratorFunction]",Ya="[object Proxy]";function Ha(e){if(!dt(e))return!1;var t=Ki(e);return t==qa||t==Wa||t==Ua||t==Ya}var kt=nn["__core-js_shared__"],Rn=function(){var e=/[^.]+$/.exec(kt&&kt.keys&&kt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xa(e){return!!Rn&&Rn in e}var Ka=Function.prototype,Za=Ka.toString;function Ga(e){if(e!=null){try{return Za.call(e)}catch{}try{return e+""}catch{}}return""}var Ja=/[\\^$.*+?()[\]{}|]/g,Qa=/^\[object .+?Constructor\]$/,es=Function.prototype,ts=Object.prototype,ns=es.toString,is=ts.hasOwnProperty,rs=RegExp("^"+ns.call(is).replace(Ja,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function os(e){if(!dt(e)||Xa(e))return!1;var t=Ha(e)?rs:Qa;return t.test(Ga(e))}function as(e,t){return e==null?void 0:e[t]}function an(e,t){var n=as(e,t);return os(n)?n:void 0}var jn=function(){try{var e=an(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ss=9007199254740991,ls=/^(?:0|[1-9]\d*)$/;function cs(e,t){var n=typeof e;return t=t??ss,!!t&&(n=="number"||n!="symbol"&&ls.test(e))&&e>-1&&e%1==0&&e<t}function us(e,t,n){t=="__proto__"&&jn?jn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gi(e,t){return e===t||e!==e&&t!==t}var fs=Object.prototype,ds=fs.hasOwnProperty;function hs(e,t,n){var i=e[t];(!(ds.call(e,t)&&Gi(i,n))||n===void 0&&!(t in e))&&us(e,t,n)}var ms=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vs=/^\w*$/;function gs(e,t){if(on(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rn(e)?!0:vs.test(e)||!ms.test(e)||t!=null&&e in Object(t)}var Ye=an(Object,"create");function ps(){this.__data__=Ye?Ye(null):{},this.size=0}function bs(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ys="__lodash_hash_undefined__",ws=Object.prototype,_s=ws.hasOwnProperty;function Es(e){var t=this.__data__;if(Ye){var n=t[e];return n===ys?void 0:n}return _s.call(t,e)?t[e]:void 0}var Ss=Object.prototype,Os=Ss.hasOwnProperty;function Ts(e){var t=this.__data__;return Ye?t[e]!==void 0:Os.call(t,e)}var Cs="__lodash_hash_undefined__";function As(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ye&&t===void 0?Cs:t,this}function ve(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ve.prototype.clear=ps;ve.prototype.delete=bs;ve.prototype.get=Es;ve.prototype.has=Ts;ve.prototype.set=As;function xs(){this.__data__=[],this.size=0}function St(e,t){for(var n=e.length;n--;)if(Gi(e[n][0],t))return n;return-1}var Is=Array.prototype,Ds=Is.splice;function ks(e){var t=this.__data__,n=St(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Ds.call(t,n,1),--this.size,!0}function Ls(e){var t=this.__data__,n=St(t,e);return n<0?void 0:t[n][1]}function Ps(e){return St(this.__data__,e)>-1}function Ns(e,t){var n=this.__data__,i=St(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Ne(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ne.prototype.clear=xs;Ne.prototype.delete=ks;Ne.prototype.get=Ls;Ne.prototype.has=Ps;Ne.prototype.set=Ns;var Rs=an(nn,"Map");function js(){this.size=0,this.__data__={hash:new ve,map:new(Rs||Ne),string:new ve}}function zs(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ot(e,t){var n=e.__data__;return zs(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ms(e){var t=Ot(this,e).delete(e);return this.size-=t?1:0,t}function Fs(e){return Ot(this,e).get(e)}function Bs(e){return Ot(this,e).has(e)}function $s(e,t){var n=Ot(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function pe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}pe.prototype.clear=js;pe.prototype.delete=Ms;pe.prototype.get=Fs;pe.prototype.has=Bs;pe.prototype.set=$s;var Vs="Expected a function";function sn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vs);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(sn.Cache||pe),n}sn.Cache=pe;var Us=500;function qs(e){var t=sn(e,function(i){return n.size===Us&&n.clear(),i}),n=t.cache;return t}var Ws=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ys=/\\(\\)?/g,Hs=qs(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ws,function(n,i,r,o){t.push(r?o.replace(Ys,"$1"):i||n)}),t});function Xs(e){return e==null?"":Zi(e)}function Ks(e,t){return on(e)?e:gs(e,t)?[e]:Hs(Xs(e))}var Zs=1/0;function Gs(e){if(typeof e=="string"||rn(e))return e;var t=e+"";return t=="0"&&1/e==-Zs?"-0":t}function Js(e,t,n,i){if(!dt(e))return e;t=Ks(t,e);for(var r=-1,o=t.length,a=o-1,s=e;s!=null&&++r<o;){var c=Gs(t[r]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=a){var u=s[c];l=void 0,l===void 0&&(l=dt(u)?u:cs(t[r+1])?[]:{})}hs(s,c,l),s=s[c]}return e}function Lt(e,t,n){return e==null?e:Js(e,t,n)}const Qs=e=>{var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)};function fd(e,t="lang"){const n={};return Object.keys(e).forEach(i=>{const r=e[i].default;let o=i.replace(`./${t}/`,"").replace(/^\.\//,"");const a=o.lastIndexOf(".");o=o.substring(0,a);const s=o.split("/"),c=s.shift(),l=s.join(".");c&&(l?(Lt(n,c,n[c]||{}),Lt(n[c],l,r)):Lt(n,c,r||{}))}),n}let ht;const el=async()=>{const e=Hi(),t=e.getCurrentLocale,n=e.getLocaleMap,r=(await ba(Object.assign({"./lang/en-US.ts":()=>ft(()=>import("./en-US-BkGuVzjK.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),"./lang/zh-CN.ts":()=>ft(()=>import("./zh-CN-uLXA6Q8T.js"),__vite__mapDeps([6,1,2,3,4,5]),import.meta.url)}),`./lang/${t.lang}.ts`,3)).default??{};return Qs(t.lang),e.setCurrentLocale({lang:t.lang}),{legacy:!1,locale:t.lang,fallbackLocale:t.lang,messages:{[t.lang]:r},availableLocales:n.map(o=>o.lang),sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}},tl=async e=>{const t=await el();ht=Pr(t),e.use(ht)},nl=te({__name:"App",setup(e){return(t,n)=>{const i=Rr("van-config-provider");return ct(),Nr(i,{theme:"light"},{default:jr(()=>[T(Ft(zr))]),_:1})}}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zn(Object(n),!0).forEach(function(i){ol(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ut(e){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(e)}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ji(i.key),i)}}function rl(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ol(e,t,n){return t=Ji(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function al(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(e){var t=al(e,"string");return typeof t=="symbol"?t:String(t)}var Fn={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},sl='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Tt=typeof window<"u"&&typeof window.document<"u",re=Tt?window:{},xe=Tt&&re.document.documentElement?"ontouchstart"in re.document.documentElement:!1,cn=Tt?"PointerEvent"in re:!1,_="viewer",at="move",Qi="switch",Be="zoom",et="".concat(_,"-active"),ll="".concat(_,"-close"),st="".concat(_,"-fade"),qt="".concat(_,"-fixed"),cl="".concat(_,"-fullscreen"),Bn="".concat(_,"-fullscreen-exit"),fe="".concat(_,"-hide"),ul="".concat(_,"-hide-md-down"),fl="".concat(_,"-hide-sm-down"),dl="".concat(_,"-hide-xs-down"),Z="".concat(_,"-in"),Ue="".concat(_,"-invisible"),Ie="".concat(_,"-loading"),hl="".concat(_,"-move"),$n="".concat(_,"-open"),we="".concat(_,"-show"),F="".concat(_,"-transition"),ke="click",Wt="dblclick",Vn="dragstart",Un="focusin",qn="keydown",G="load",me="error",ml=xe?"touchend touchcancel":"mouseup",vl=xe?"touchmove":"mousemove",gl=xe?"touchstart":"mousedown",Wn=cn?"pointerdown":gl,Yn=cn?"pointermove":vl,Hn=cn?"pointerup pointercancel":ml,Xn="resize",J="transitionend",Kn="wheel",Zn="ready",Gn="show",Jn="shown",Qn="hide",ei="hidden",ti="view",He="viewed",ni="move",ii="moved",ri="rotate",oi="rotated",ai="scale",si="scaled",li="zoom",ci="zoomed",ui="play",fi="stop",mt="".concat(_,"Action"),un=/\s\s*/,tt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Xe(e){return typeof e=="string"}var pl=Number.isNaN||re.isNaN;function M(e){return typeof e=="number"&&!pl(e)}function Se(e){return typeof e>"u"}function Le(e){return Ut(e)==="object"&&e!==null}var bl=Object.prototype.hasOwnProperty;function Oe(e){if(!Le(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&bl.call(n,"isPrototypeOf")}catch{return!1}}function L(e){return typeof e=="function"}function R(e,t){if(e&&L(t))if(Array.isArray(e)||M(e.length)){var n=e.length,i;for(i=0;i<n&&t.call(e,e[i],i,e)!==!1;i+=1);}else Le(e)&&Object.keys(e).forEach(function(r){t.call(e,e[r],r,e)});return e}var K=Object.assign||function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Le(t)&&i.length>0&&i.forEach(function(o){Le(o)&&Object.keys(o).forEach(function(a){t[a]=o[a]})}),t},yl=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ee(e,t){var n=e.style;R(t,function(i,r){yl.test(r)&&M(i)&&(i+="px"),n[r]=i})}function wl(e){return Xe(e)?e.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function _e(e,t){return!e||!t?!1:e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function b(e,t){if(!(!e||!t)){if(M(e.length)){R(e,function(i){b(i,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function A(e,t){if(!(!e||!t)){if(M(e.length)){R(e,function(n){A(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Ke(e,t,n){if(t){if(M(e.length)){R(e,function(i){Ke(i,t,n)});return}n?b(e,t):A(e,t)}}var _l=/([a-z\d])([A-Z])/g;function fn(e){return e.replace(_l,"$1-$2").toLowerCase()}function Te(e,t){return Le(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(fn(t)))}function Yt(e,t,n){Le(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(fn(t)),n)}var er=function(){var e=!1;if(Tt){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(o){t=o}});re.addEventListener("test",n,i),re.removeEventListener("test",n,i)}return e}();function P(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;t.trim().split(un).forEach(function(o){if(!er){var a=e.listeners;a&&a[o]&&a[o][n]&&(r=a[o][n],delete a[o][n],Object.keys(a[o]).length===0&&delete a[o],Object.keys(a).length===0&&delete e.listeners)}e.removeEventListener(o,r,i)})}function y(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;t.trim().split(un).forEach(function(o){if(i.once&&!er){var a=e.listeners,s=a===void 0?{}:a;r=function(){delete s[o][n],e.removeEventListener(o,r,i);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];n.apply(e,u)},s[o]||(s[o]={}),s[o][n]&&e.removeEventListener(o,s[o][n],i),s[o][n]=r,e.listeners=s}e.addEventListener(o,r,i)})}function B(e,t,n,i){var r;return L(Event)&&L(CustomEvent)?r=new CustomEvent(t,ln({bubbles:!0,cancelable:!0,detail:n},i)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function El(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function lt(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,r=e.translateX,o=e.translateY,a=[];M(r)&&r!==0&&a.push("translateX(".concat(r,"px)")),M(o)&&o!==0&&a.push("translateY(".concat(o,"px)")),M(t)&&t!==0&&a.push("rotate(".concat(t,"deg)")),M(n)&&n!==1&&a.push("scaleX(".concat(n,")")),M(i)&&i!==1&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Sl(e){return Xe(e)?decodeURIComponent(e.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Pt=re.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(re.navigator.userAgent);function tr(e,t,n){var i=document.createElement("img");if(e.naturalWidth&&!Pt)return n(e.naturalWidth,e.naturalHeight),i;var r=document.body||document.documentElement;return i.onload=function(){n(i.width,i.height),Pt||r.removeChild(i)},R(t.inheritedAttributes,function(o){var a=e.getAttribute(o);a!==null&&i.setAttribute(o,a)}),i.src=e.src,Pt||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(i)),i}function nt(e){switch(e){case 2:return dl;case 3:return fl;case 4:return ul;default:return""}}function Ol(e){var t=ln({},e),n=[];return R(e,function(i,r){delete t[r],R(t,function(o){var a=Math.abs(i.startX-o.startX),s=Math.abs(i.startY-o.startY),c=Math.abs(i.endX-o.endX),l=Math.abs(i.endY-o.endY),u=Math.sqrt(a*a+s*s),f=Math.sqrt(c*c+l*l),d=(f-u)/u;n.push(d)})}),n.sort(function(i,r){return Math.abs(i)<Math.abs(r)}),n[0]}function it(e,t){var n=e.pageX,i=e.pageY,r={endX:n,endY:i};return t?r:ln({timeStamp:Date.now(),startX:n,startY:i},r)}function Tl(e){var t=0,n=0,i=0;return R(e,function(r){var o=r.startX,a=r.startY;t+=o,n+=a,i+=1}),t/=i,n/=i,{pageX:t,pageY:n}}var Cl={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,n=t.body||t.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t=this.options,n=this.parent,i;t.inline&&(i={width:Math.max(n.offsetWidth,t.minWidth),height:Math.max(n.offsetHeight,t.minHeight)},this.parentData=i),(this.fulled||!i)&&(i=this.containerData),this.viewerData=K({},i)},renderViewer:function(){this.options.inline&&!this.fulled&&ee(this.viewer,this.viewerData)},initList:function(){var t=this,n=this.element,i=this.options,r=this.list,o=[];r.innerHTML="",R(this.images,function(a,s){var c=a.src,l=a.alt||Sl(c),u=t.getImageURL(a);if(c||u){var f=document.createElement("li"),d=document.createElement("img");R(i.inheritedAttributes,function(m){var g=a.getAttribute(m);g!==null&&d.setAttribute(m,g)}),i.navbar&&(d.src=c||u),d.alt=l,d.setAttribute("data-original-url",u||c),f.setAttribute("data-index",s),f.setAttribute("data-viewer-action","view"),f.setAttribute("role","button"),i.keyboard&&f.setAttribute("tabindex",0),f.appendChild(d),r.appendChild(f),o.push(f)}}),this.items=o,R(o,function(a){var s=a.firstElementChild,c,l;Yt(s,"filled",!0),i.loading&&b(a,Ie),y(s,G,c=function(f){P(s,me,l),i.loading&&A(a,Ie),t.loadImage(f)},{once:!0}),y(s,me,l=function(){P(s,G,c),i.loading&&A(a,Ie)},{once:!0})}),i.transition&&y(n,He,function(){b(r,F)},{once:!0})},renderList:function(){var t=this.index,n=this.items[t];if(n){var i=n.nextElementSibling,r=parseInt(window.getComputedStyle(i||n).marginLeft,10),o=n.offsetWidth,a=o+r;ee(this.list,K({width:a*this.length-r},lt({translateX:(this.viewerData.width-o)/2-a*t})))}},resetList:function(){var t=this.list;t.innerHTML="",A(t,F),ee(t,lt({translateX:0}))},initImage:function(t){var n=this,i=this.options,r=this.image,o=this.viewerData,a=this.footer.offsetHeight,s=o.width,c=Math.max(o.height-a,a),l=this.imageData||{},u;this.imageInitializing={abort:function(){u.onload=null}},u=tr(r,i,function(f,d){var m=f/d,g=Math.max(0,Math.min(1,i.initialCoverage)),p=s,E=c;n.imageInitializing=!1,c*m>s?E=s/m:p=c*m,g=M(g)?g:.9,p=Math.min(p*g,f),E=Math.min(E*g,d);var S=(s-p)/2,x=(c-E)/2,O={left:S,top:x,x:S,y:x,width:p,height:E,oldRatio:1,ratio:p/f,aspectRatio:m,naturalWidth:f,naturalHeight:d},N=K({},O);i.rotatable&&(O.rotate=l.rotate||0,N.rotate=0),i.scalable&&(O.scaleX=l.scaleX||1,O.scaleY=l.scaleY||1,N.scaleX=1,N.scaleY=1),n.imageData=O,n.initialImageData=N,t&&t()})},renderImage:function(t){var n=this,i=this.image,r=this.imageData;if(ee(i,K({width:r.width,height:r.height,marginLeft:r.x,marginTop:r.y},lt(r))),t)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&_e(i,F)){var o=function(){n.imageRendering=!1,t()};this.imageRendering={abort:function(){P(i,J,o)}},y(i,J,o,{once:!0})}else t()},resetImage:function(){var t=this.image;t&&(this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null,this.title.innerHTML="")}},Al={bind:function(){var t=this.options,n=this.viewer,i=this.canvas,r=this.element.ownerDocument;y(n,ke,this.onClick=this.click.bind(this)),y(n,Vn,this.onDragStart=this.dragstart.bind(this)),y(i,Wn,this.onPointerDown=this.pointerdown.bind(this)),y(r,Yn,this.onPointerMove=this.pointermove.bind(this)),y(r,Hn,this.onPointerUp=this.pointerup.bind(this)),y(r,qn,this.onKeyDown=this.keydown.bind(this)),y(window,Xn,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&y(n,Kn,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&y(i,Wt,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,n=this.viewer,i=this.canvas,r=this.element.ownerDocument;P(n,ke,this.onClick),P(n,Vn,this.onDragStart),P(i,Wn,this.onPointerDown),P(r,Yn,this.onPointerMove),P(r,Hn,this.onPointerUp),P(r,qn,this.onKeyDown),P(window,Xn,this.onResize),t.zoomable&&t.zoomOnWheel&&P(n,Kn,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&P(i,Wt,this.onDblclick)}},xl={click:function(t){var n=this.options,i=this.imageData,r=t.target,o=Te(r,mt);switch(!o&&r.localName==="img"&&r.parentElement.localName==="li"&&(r=r.parentElement,o=Te(r,mt)),xe&&t.isTrusted&&r===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Te(r,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(xe&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(t.isTrusted?t:t.detail&&t.detail.originalEvent))},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,i=this.options,r=this.image,o=this.index,a=this.viewerData;A(r,Ue),i.loading&&A(this.canvas,Ie),r.style.cssText="height:0;"+"margin-left:".concat(a.width/2,"px;")+"margin-top:".concat(a.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ke(r,hl,i.movable),Ke(r,F,i.transition),t.renderImage(function(){t.viewed=!0,t.viewing=!1,L(i.viewed)&&y(n,He,i.viewed,{once:!0}),B(n,He,{originalImage:t.images[o],index:o,image:r},{cancelable:!1})})})},loadImage:function(t){var n=t.target,i=n.parentNode,r=i.offsetWidth||30,o=i.offsetHeight||50,a=!!Te(n,"filled");tr(n,this.options,function(s,c){var l=s/c,u=r,f=o;o*l>r?a?u=o*l:f=r/l:a?f=r/l:u=o*l,ee(n,K({width:u,height:f},lt({translateX:(r-u)/2,translateY:(o-f)/2})))})},keydown:function(t){var n=this.options;if(n.keyboard){var i=t.keyCode||t.which||t.charCode;switch(i){case 13:this.viewer.contains(t.target)&&this.click(t);break}if(this.fulled)switch(i){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:t.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:t.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle());break}}},dragstart:function(t){t.target.localName==="img"&&t.preventDefault()},pointerdown:function(t){var n=this.options,i=this.pointers,r=t.buttons,o=t.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(M(r)&&r!==1||M(o)&&o!==0||t.ctrlKey))){t.preventDefault(),t.changedTouches?R(t.changedTouches,function(s){i[s.identifier]=it(s)}):i[t.pointerId||0]=it(t);var a=n.movable?at:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(i).length>1?a=Be:n.slideOnTouch&&(t.pointerType==="touch"||t.type==="touchstart")&&this.isSwitchable()&&(a=Qi),n.transition&&(a===at||a===Be)&&A(this.image,F),this.action=a}},pointermove:function(t){var n=this.pointers,i=this.action;!this.viewed||!i||(t.preventDefault(),t.changedTouches?R(t.changedTouches,function(r){K(n[r.identifier]||{},it(r,!0))}):K(n[t.pointerId||0]||{},it(t,!0)),this.change(t))},pointerup:function(t){var n=this,i=this.options,r=this.action,o=this.pointers,a;t.changedTouches?R(t.changedTouches,function(s){a=o[s.identifier],delete o[s.identifier]}):(a=o[t.pointerId||0],delete o[t.pointerId||0]),r&&(t.preventDefault(),i.transition&&(r===at||r===Be)&&b(this.image,F),this.action=!1,xe&&r!==Be&&a&&Date.now()-a.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),i.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){B(n.image,Wt,{originalEvent:t})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,i.backdrop&&i.backdrop!=="static"&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){B(n.canvas,ke,{originalEvent:t})},50)))))},resize:function(){var t=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}R(this.player.getElementsByTagName("img"),function(n){y(n,G,t.loadImage.bind(t),{once:!0}),B(n,G)})}},wheel:function(t){var n=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var i=Number(this.options.zoomRatio)||.1,r=1;t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*i,!0,null,t)}}},Il={show:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(L(i.show)&&y(n,Gn,i.show,{once:!0}),B(n,Gn)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r=this.viewer;if(A(r,fe),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("aria-hidden"),i.transition&&!t){var o=this.shown.bind(this);this.transitioning={abort:function(){P(r,J,o),A(r,Z)}},b(r,F),r.initialOffsetWidth=r.offsetWidth,y(r,J,o,{once:!0}),b(r,Z)}else b(r,Z),this.shown();return this},hide:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,r=this.options;if(r.inline||this.hiding||!(this.isShown||this.showing))return this;if(L(r.hide)&&y(i,Qn,r.hide,{once:!0}),B(i,Qn)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer,a=this.image,s=function(){A(o,Z),t.hidden()};if(r.transition&&!n){var c=function u(f){f&&f.target===o&&(P(o,J,u),t.hidden())},l=function(){_e(o,F)?(y(o,J,c),A(o,Z)):s()};this.transitioning={abort:function(){t.viewed&&_e(a,F)?P(a,J,l):_e(o,F)&&P(o,J,c)}},this.viewed&&_e(a,F)?(y(a,J,l,{once:!0}),this.zoomTo(0,!1,null,null,!0)):l()}else s();return this},view:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var i=this.element,r=this.options,o=this.title,a=this.canvas,s=this.items[n],c=s.querySelector("img"),l=Te(c,"originalUrl"),u=c.getAttribute("alt"),f=document.createElement("img");if(R(r.inheritedAttributes,function(E){var S=c.getAttribute(E);S!==null&&f.setAttribute(E,S)}),f.src=l,f.alt=u,L(r.view)&&y(i,ti,r.view,{once:!0}),B(i,ti,{originalImage:this.images[n],index:n,image:f})===!1||!this.isShown||this.hiding||this.played)return this;var d=this.items[this.index];d&&(A(d,et),d.removeAttribute("aria-selected")),b(s,et),s.setAttribute("aria-selected",!0),r.focus&&s.focus(),this.image=f,this.viewed=!1,this.index=n,this.imageData={},b(f,Ue),r.loading&&b(a,Ie),a.innerHTML="",a.appendChild(f),this.renderList(),o.innerHTML="";var m=function(){var S=t.imageData,x=Array.isArray(r.title)?r.title[1]:r.title;o.innerHTML=wl(L(x)?x.call(t,f,S):"".concat(u," (").concat(S.naturalWidth," × ").concat(S.naturalHeight,")"))},g,p;return y(i,He,m,{once:!0}),this.viewing={abort:function(){P(i,He,m),f.complete?t.imageRendering?t.imageRendering.abort():t.imageInitializing&&t.imageInitializing.abort():(f.src="",P(f,G,g),t.timeout&&clearTimeout(t.timeout))}},f.complete?this.load():(y(f,G,g=function(){P(f,me,p),t.load()},{once:!0}),y(f,me,p=function(){P(f,G,g),t.timeout&&(clearTimeout(t.timeout),t.timeout=!1),A(f,Ue),r.loading&&A(t.canvas,Ie)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){A(f,Ue),t.timeout=!1},1e3)),this},prev:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=t?this.length-1:0),this.view(n),this},next:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,i=this.index+1;return i>n&&(i=t?0:n),this.view(i),this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData;return this.moveTo(Se(t)?t:i.x+Number(t),Se(n)?n:i.y+Number(n)),this},moveTo:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=this.element,a=this.options,s=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&a.movable){var c=s.x,l=s.y,u=!1;if(M(t)?u=!0:t=c,M(i)?u=!0:i=l,u){if(L(a.move)&&y(o,ni,a.move,{once:!0}),B(o,ni,{x:t,y:i,oldX:c,oldY:l,originalEvent:r})===!1)return this;s.x=t,s.y=i,s.left=t,s.top=i,this.moving=!0,this.renderImage(function(){n.moving=!1,L(a.moved)&&y(o,ii,a.moved,{once:!0}),B(o,ii,{x:t,y:i,oldX:c,oldY:l,originalEvent:r},{cancelable:!1})})}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var n=this,i=this.element,r=this.options,o=this.imageData;if(t=Number(t),M(t)&&this.viewed&&!this.played&&r.rotatable){var a=o.rotate;if(L(r.rotate)&&y(i,ri,r.rotate,{once:!0}),B(i,ri,{degree:t,oldDegree:a})===!1)return this;o.rotate=t,this.rotating=!0,this.renderImage(function(){n.rotating=!1,L(r.rotated)&&y(i,oi,r.rotated,{once:!0}),B(i,oi,{degree:t,oldDegree:a},{cancelable:!1})})}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.element,o=this.options,a=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&o.scalable){var s=a.scaleX,c=a.scaleY,l=!1;if(M(t)?l=!0:t=s,M(i)?l=!0:i=c,l){if(L(o.scale)&&y(r,ai,o.scale,{once:!0}),B(r,ai,{scaleX:t,scaleY:i,oldScaleX:s,oldScaleY:c})===!1)return this;a.scaleX=t,a.scaleY=i,this.scaling=!0,this.renderImage(function(){n.scaling=!1,L(o.scaled)&&y(r,si,o.scaled,{once:!0}),B(r,si,{scaleX:t,scaleY:i,oldScaleX:s,oldScaleY:c},{cancelable:!1})})}}return this},zoom:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.imageData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(o.width*t/o.naturalWidth,n,i,r),this},zoomTo:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=this.element,c=this.options,l=this.pointers,u=this.imageData,f=u.x,d=u.y,m=u.width,g=u.height,p=u.naturalWidth,E=u.naturalHeight;if(t=Math.max(0,t),M(t)&&this.viewed&&!this.played&&(a||c.zoomable)){if(!a){var S=Math.max(.01,c.minZoomRatio),x=Math.min(100,c.maxZoomRatio);t=Math.min(Math.max(t,S),x)}if(o)switch(o.type){case"wheel":c.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);break;case"pointermove":case"touchmove":case"mousemove":t>.99&&t<1.01&&(t=1);break}var O=p*t,N=E*t,j=O-m,v=N-g,C=u.ratio;if(L(c.zoom)&&y(s,li,c.zoom,{once:!0}),B(s,li,{ratio:t,oldRatio:C,originalEvent:o})===!1)return this;if(this.zooming=!0,o){var D=El(this.viewer),W=l&&Object.keys(l).length>0?Tl(l):{pageX:o.pageX,pageY:o.pageY};u.x-=j*((W.pageX-D.left-f)/m),u.y-=v*((W.pageY-D.top-d)/g)}else Oe(r)&&M(r.x)&&M(r.y)?(u.x-=j*((r.x-f)/m),u.y-=v*((r.y-d)/g)):(u.x-=j/2,u.y-=v/2);u.left=u.x,u.top=u.y,u.width=O,u.height=N,u.oldRatio=C,u.ratio=t,this.renderImage(function(){n.zooming=!1,L(c.zoomed)&&y(s,ci,c.zoomed,{once:!0}),B(s,ci,{ratio:t,oldRatio:C,originalEvent:o},{cancelable:!1})}),i&&this.tooltip()}return this},play:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var i=this.element,r=this.options;if(L(r.play)&&y(i,ui,r.play,{once:!0}),B(i,ui)===!1)return this;var o=this.player,a=this.loadImage.bind(this),s=[],c=0,l=0;if(this.played=!0,this.onLoadWhenPlay=a,n&&this.requestFullscreen(n),b(o,we),R(this.items,function(d,m){var g=d.querySelector("img"),p=document.createElement("img");p.src=Te(g,"originalUrl"),p.alt=g.getAttribute("alt"),p.referrerPolicy=g.referrerPolicy,c+=1,b(p,st),Ke(p,F,r.transition),_e(d,et)&&(b(p,Z),l=m),s.push(p),y(p,G,a,{once:!0}),o.appendChild(p)}),M(r.interval)&&r.interval>0){var u=function d(){clearTimeout(t.playing.timeout),A(s[l],Z),l-=1,l=l>=0?l:c-1,b(s[l],Z),t.playing.timeout=setTimeout(d,r.interval)},f=function d(){clearTimeout(t.playing.timeout),A(s[l],Z),l+=1,l=l<c?l:0,b(s[l],Z),t.playing.timeout=setTimeout(d,r.interval)};c>1&&(this.playing={prev:u,next:f,timeout:setTimeout(f,r.interval)})}return this},stop:function(){var t=this;if(!this.played)return this;var n=this.element,i=this.options;if(L(i.stop)&&y(n,fi,i.stop,{once:!0}),B(n,fi)===!1)return this;var r=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,R(r.getElementsByTagName("img"),function(o){P(o,G,t.onLoadWhenPlay)}),A(r,we),r.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,n=this.options,i=this.viewer,r=this.image,o=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),b(this.button,Bn),n.transition&&(A(o,F),this.viewed&&A(r,F)),b(i,qt),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),ee(i,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=K({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){n.transition&&setTimeout(function(){b(r,F),b(o,F)},0)})}),this)},exit:function(){var t=this,n=this.options,i=this.viewer,r=this.image,o=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),A(this.button,Bn),n.transition&&(A(o,F),this.viewed&&A(r,F)),n.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),A(i,qt),ee(i,{zIndex:n.zIndexInline}),this.viewerData=K({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){n.transition&&setTimeout(function(){b(r,F),b(o,F)},0)})}),this)},tooltip:function(){var t=this,n=this.options,i=this.tooltipBox,r=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(i.textContent="".concat(Math.round(r.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&B(i,J),b(i,we),b(i,st),b(i,F),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,b(i,Z)):(b(i,we),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(y(i,J,function(){A(i,we),A(i,st),A(i,F),i.setAttribute("aria-hidden",!0),t.fading=!1},{once:!0}),A(i,Z),t.fading=!0):(A(i,we),i.setAttribute("aria-hidden",!0)),t.tooltipping=!1},1e3),this)},toggle:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,t):this.zoomTo(1,!0,null,t),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=K({},this.initialImageData),this.renderImage()),this},update:function(){var t=this,n=this.element,i=this.options,r=this.isImg;if(r&&!n.parentNode)return this.destroy();var o=[];if(R(r?[n]:n.querySelectorAll("img"),function(l){L(i.filter)?i.filter.call(t,l)&&o.push(l):t.getImageURL(l)&&o.push(l)}),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var a=[];if(R(this.items,function(l,u){var f=l.querySelector("img"),d=o[u];d&&f?(d.src!==f.src||d.alt!==f.alt)&&a.push(u):a.push(u)}),ee(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var s=a.indexOf(this.index);if(s>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-s,this.length-1),0));else{var c=this.items[this.index];b(c,et),c.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,n=this.options;return t[_]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||P(t,ke,this.onStart),t[_]=void 0,this):this}},Dl={getImageURL:function(t){var n=this.options.url;return Xe(n)?n=t.getAttribute(n):L(n)?n=n.call(this,t):n="",n},enforceFocus:function(){var t=this;this.clearEnforceFocus(),y(document,Un,this.onFocusin=function(n){var i=t.viewer,r=n.target;if(!(r===document||r===i||i.contains(r))){for(;r;){if(r.getAttribute("tabindex")!==null||r.getAttribute("aria-modal")==="true")return;r=r.parentElement}i.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(P(document,Un,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;b(t,$n),this.scrollbarWidth>0&&(t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var t=this.body;A(t,$n),this.scrollbarWidth>0&&(t.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var t=this.element,n=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(i.focus(),this.enforceFocus()),L(n.shown)&&y(t,Jn,n.shown,{once:!0}),B(t,Jn)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,n=this.options,i=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),b(i,fe),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(L(n.hidden)&&y(t,ei,n.hidden,{once:!0}),B(t,ei,null,{cancelable:!1}))},requestFullscreen:function(t){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var i=n.documentElement;i.requestFullscreen?Oe(t)?i.requestFullscreen(t):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var n=this.options,i=this.pointers,r=i[Object.keys(i)[0]];if(r){var o=r.endX-r.startX,a=r.endY-r.startY;switch(this.action){case at:(o!==0||a!==0)&&(this.pointerMoved=!0,this.move(o,a,t));break;case Be:this.zoom(Ol(i),!1,null,t);break;case Qi:{this.action="switched";var s=Math.abs(o);s>1&&s>Math.abs(a)&&(this.pointers={},o>1?this.prev(n.loop):o<-1&&this.next(n.loop));break}}R(i,function(c){c.startX=c.endX,c.startY=c.endY})}},isSwitchable:function(){var t=this.imageData,n=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=n.width&&t.height<=n.height}},kl=re.Viewer,Ll=function(e){return function(){return e+=1,e}}(-1),Pe=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(il(this,e),!t||t.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=t,this.options=K({},Fn,Oe(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Ll(),this.init()}return rl(e,[{key:"init",value:function(){var n=this,i=this.element,r=this.options;if(!i[_]){i[_]=this,r.focus&&!r.keyboard&&(r.focus=!1);var o=i.localName==="img",a=[];if(R(o?[i]:i.querySelectorAll("img"),function(l){L(r.filter)?r.filter.call(n,l)&&a.push(l):n.getImageURL(l)&&a.push(l)}),this.isImg=o,this.length=a.length,this.images=a,this.initBody(),Se(document.createElement(_).style.transition)&&(r.transition=!1),r.inline){var s=0,c=function(){if(s+=1,s===n.length){var u;n.initializing=!1,n.delaying={abort:function(){clearTimeout(u)}},u=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){R(a,function(u){u.complete||(P(u,G,c),P(u,me,c))})}},R(a,function(l){if(l.complete)c();else{var u,f;y(l,G,u=function(){P(l,me,f),c()},{once:!0}),y(l,me,f=function(){P(l,G,u),c()},{once:!0})}})}else y(i,ke,this.onStart=function(l){var u=l.target;u.localName==="img"&&(!L(r.filter)||r.filter.call(n,u))&&n.view(n.images.indexOf(u))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,i=this.options,r=n.parentNode,o=document.createElement("div");o.innerHTML=sl;var a=o.querySelector(".".concat(_,"-container")),s=a.querySelector(".".concat(_,"-title")),c=a.querySelector(".".concat(_,"-toolbar")),l=a.querySelector(".".concat(_,"-navbar")),u=a.querySelector(".".concat(_,"-button")),f=a.querySelector(".".concat(_,"-canvas"));if(this.parent=r,this.viewer=a,this.title=s,this.toolbar=c,this.navbar=l,this.button=u,this.canvas=f,this.footer=a.querySelector(".".concat(_,"-footer")),this.tooltipBox=a.querySelector(".".concat(_,"-tooltip")),this.player=a.querySelector(".".concat(_,"-player")),this.list=a.querySelector(".".concat(_,"-list")),a.id="".concat(_).concat(this.id),s.id="".concat(_,"Title").concat(this.id),b(s,i.title?nt(Array.isArray(i.title)?i.title[0]:i.title):fe),b(l,i.navbar?nt(i.navbar):fe),Ke(u,fe,!i.button),i.keyboard&&u.setAttribute("tabindex",0),i.backdrop&&(b(a,"".concat(_,"-backdrop")),!i.inline&&i.backdrop!=="static"&&Yt(f,mt,"hide")),Xe(i.className)&&i.className&&i.className.split(un).forEach(function(O){b(a,O)}),i.toolbar){var d=document.createElement("ul"),m=Oe(i.toolbar),g=tt.slice(0,3),p=tt.slice(7,9),E=tt.slice(9);m||b(c,nt(i.toolbar)),R(m?i.toolbar:tt,function(O,N){var j=m&&Oe(O),v=m?fn(N):O,C=j&&!Se(O.show)?O.show:O;if(!(!C||!i.zoomable&&g.indexOf(v)!==-1||!i.rotatable&&p.indexOf(v)!==-1||!i.scalable&&E.indexOf(v)!==-1)){var D=j&&!Se(O.size)?O.size:O,W=j&&!Se(O.click)?O.click:O,U=document.createElement("li");i.keyboard&&U.setAttribute("tabindex",0),U.setAttribute("role","button"),b(U,"".concat(_,"-").concat(v)),L(W)||Yt(U,mt,v),M(C)&&b(U,nt(C)),["small","large"].indexOf(D)!==-1?b(U,"".concat(_,"-").concat(D)):v==="play"&&b(U,"".concat(_,"-large")),L(W)&&y(U,ke,W),d.appendChild(U)}}),c.appendChild(d)}else b(c,fe);if(!i.rotatable){var S=c.querySelectorAll('li[class*="rotate"]');b(S,Ue),R(S,function(O){c.appendChild(O)})}if(i.inline)b(u,cl),ee(a,{zIndex:i.zIndexInline}),window.getComputedStyle(r).position==="static"&&ee(r,{position:"relative"}),r.insertBefore(a,n.nextSibling);else{b(u,ll),b(a,qt),b(a,st),b(a,fe),ee(a,{zIndex:i.zIndex});var x=i.container;Xe(x)&&(x=n.ownerDocument.querySelector(x)),x||(x=this.body),x.appendChild(a)}if(i.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,L(i.ready)&&y(n,Zn,i.ready,{once:!0}),B(n,Zn)===!1){this.ready=!1;return}this.ready&&i.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=kl,e}},{key:"setDefaults",value:function(n){K(Fn,Oe(n)&&n)}}]),e}();K(Pe.prototype,Cl,Al,xl,Il,Dl);var Pl=typeof global=="object"&&global&&global.Object===Object&&global;const nr=Pl;var Nl=typeof self=="object"&&self&&self.Object===Object&&self,Rl=nr||Nl||Function("return this")();const Ct=Rl;var jl=Ct.Symbol;const vt=jl;var ir=Object.prototype,zl=ir.hasOwnProperty,Ml=ir.toString,Fe=vt?vt.toStringTag:void 0;function Fl(e){var t=zl.call(e,Fe),n=e[Fe];try{e[Fe]=void 0;var i=!0}catch{}var r=Ml.call(e);return i&&(t?e[Fe]=n:delete e[Fe]),r}var Bl=Object.prototype,$l=Bl.toString;function Vl(e){return $l.call(e)}var Ul="[object Null]",ql="[object Undefined]",di=vt?vt.toStringTag:void 0;function At(e){return e==null?e===void 0?ql:Ul:di&&di in Object(e)?Fl(e):Vl(e)}function xt(e){return e!=null&&typeof e=="object"}var Wl="[object Symbol]";function Yl(e){return typeof e=="symbol"||xt(e)&&At(e)==Wl}var Hl=Array.isArray;const Xl=Hl;var Kl=/\s/;function Zl(e){for(var t=e.length;t--&&Kl.test(e.charAt(t)););return t}var Gl=/^\s+/;function Jl(e){return e&&e.slice(0,Zl(e)+1).replace(Gl,"")}function ge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hi=NaN,Ql=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,tc=/^0o[0-7]+$/i,nc=parseInt;function mi(e){if(typeof e=="number")return e;if(Yl(e))return hi;if(ge(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ge(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jl(e);var n=ec.test(e);return n||tc.test(e)?nc(e.slice(2),n?2:8):Ql.test(e)?hi:+e}function rr(e){return e}var ic="[object AsyncFunction]",rc="[object Function]",oc="[object GeneratorFunction]",ac="[object Proxy]";function or(e){if(!ge(e))return!1;var t=At(e);return t==rc||t==oc||t==ic||t==ac}var sc=Ct["__core-js_shared__"];const Nt=sc;var vi=function(){var e=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function lc(e){return!!vi&&vi in e}var cc=Function.prototype,uc=cc.toString;function fc(e){if(e!=null){try{return uc.call(e)}catch{}try{return e+""}catch{}}return""}var dc=/[\\^$.*+?()[\]{}|]/g,hc=/^\[object .+?Constructor\]$/,mc=Function.prototype,vc=Object.prototype,gc=mc.toString,pc=vc.hasOwnProperty,bc=RegExp("^"+gc.call(pc).replace(dc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yc(e){if(!ge(e)||lc(e))return!1;var t=or(e)?bc:hc;return t.test(fc(e))}function wc(e,t){return e==null?void 0:e[t]}function _c(e,t){var n=wc(e,t);return yc(n)?n:void 0}function Ec(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Sc=800,Oc=16,Tc=Date.now;function Cc(e){var t=0,n=0;return function(){var i=Tc(),r=Oc-(i-n);if(n=i,r>0){if(++t>=Sc)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ac(e){return function(){return e}}var xc=function(){try{var e=_c(Object,"defineProperty");return e({},"",{}),e}catch{}}();const gt=xc;var Ic=gt?function(e,t){return gt(e,"toString",{configurable:!0,enumerable:!1,value:Ac(t),writable:!0})}:rr;const Dc=Ic;var kc=Cc(Dc);const Lc=kc;var Pc=9007199254740991,Nc=/^(?:0|[1-9]\d*)$/;function ar(e,t){var n=typeof e;return t=t??Pc,!!t&&(n=="number"||n!="symbol"&&Nc.test(e))&&e>-1&&e%1==0&&e<t}function sr(e,t,n){t=="__proto__"&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function dn(e,t){return e===t||e!==e&&t!==t}var Rc=Object.prototype,jc=Rc.hasOwnProperty;function lr(e,t,n){var i=e[t];(!(jc.call(e,t)&&dn(i,n))||n===void 0&&!(t in e))&&sr(e,t,n)}function zc(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=void 0;c===void 0&&(c=e[s]),r?sr(n,s,c):lr(n,s,c)}return n}var gi=Math.max;function Mc(e,t,n){return t=gi(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=gi(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),Ec(e,this,s)}}function cr(e,t){return Lc(Mc(e,t,rr),e+"")}var Fc=9007199254740991;function ur(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fc}function It(e){return e!=null&&ur(e.length)&&!or(e)}function fr(e,t,n){if(!ge(n))return!1;var i=typeof t;return(i=="number"?It(n)&&ar(t,n.length):i=="string"&&t in n)?dn(n[t],e):!1}function Bc(e){return cr(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(r--,o):void 0,a&&fr(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t})}var $c=Object.prototype;function hn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$c;return e===n}function Vc(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var Uc="[object Arguments]";function pi(e){return xt(e)&&At(e)==Uc}var dr=Object.prototype,qc=dr.hasOwnProperty,Wc=dr.propertyIsEnumerable,Yc=pi(function(){return arguments}())?pi:function(e){return xt(e)&&qc.call(e,"callee")&&!Wc.call(e,"callee")};const Hc=Yc;function Xc(){return!1}var hr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bi=hr&&typeof module=="object"&&module&&!module.nodeType&&module,Kc=bi&&bi.exports===hr,yi=Kc?Ct.Buffer:void 0,Zc=yi?yi.isBuffer:void 0,Gc=Zc||Xc;const Jc=Gc;var Qc="[object Arguments]",eu="[object Array]",tu="[object Boolean]",nu="[object Date]",iu="[object Error]",ru="[object Function]",ou="[object Map]",au="[object Number]",su="[object Object]",lu="[object RegExp]",cu="[object Set]",uu="[object String]",fu="[object WeakMap]",du="[object ArrayBuffer]",hu="[object DataView]",mu="[object Float32Array]",vu="[object Float64Array]",gu="[object Int8Array]",pu="[object Int16Array]",bu="[object Int32Array]",yu="[object Uint8Array]",wu="[object Uint8ClampedArray]",_u="[object Uint16Array]",Eu="[object Uint32Array]",z={};z[mu]=z[vu]=z[gu]=z[pu]=z[bu]=z[yu]=z[wu]=z[_u]=z[Eu]=!0;z[Qc]=z[eu]=z[du]=z[tu]=z[hu]=z[nu]=z[iu]=z[ru]=z[ou]=z[au]=z[su]=z[lu]=z[cu]=z[uu]=z[fu]=!1;function Su(e){return xt(e)&&ur(e.length)&&!!z[At(e)]}function Ou(e){return function(t){return e(t)}}var mr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qe=mr&&typeof module=="object"&&module&&!module.nodeType&&module,Tu=qe&&qe.exports===mr,Rt=Tu&&nr.process,Cu=function(){try{var e=qe&&qe.require&&qe.require("util").types;return e||Rt&&Rt.binding&&Rt.binding("util")}catch{}}();const wi=Cu;var _i=wi&&wi.isTypedArray,Au=_i?Ou(_i):Su;const xu=Au;var Iu=Object.prototype,Du=Iu.hasOwnProperty;function vr(e,t){var n=Xl(e),i=!n&&Hc(e),r=!n&&!i&&Jc(e),o=!n&&!i&&!r&&xu(e),a=n||i||r||o,s=a?Vc(e.length,String):[],c=s.length;for(var l in e)(t||Du.call(e,l))&&!(a&&(l=="length"||r&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ar(l,c)))&&s.push(l);return s}function ku(e,t){return function(n){return e(t(n))}}var Lu=ku(Object.keys,Object);const Pu=Lu;var Nu=Object.prototype,Ru=Nu.hasOwnProperty;function ju(e){if(!hn(e))return Pu(e);var t=[];for(var n in Object(e))Ru.call(e,n)&&n!="constructor"&&t.push(n);return t}function zu(e){return It(e)?vr(e):ju(e)}var Mu=Object.prototype,Fu=Mu.hasOwnProperty,Bu=Bc(function(e,t){if(hn(t)||It(t)){zc(t,zu(t),e);return}for(var n in t)Fu.call(t,n)&&lr(e,n,t[n])});const $u=Bu;function Vu(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Uu=Object.prototype,qu=Uu.hasOwnProperty;function Wu(e){if(!ge(e))return Vu(e);var t=hn(e),n=[];for(var i in e)i=="constructor"&&(t||!qu.call(e,i))||n.push(i);return n}function Yu(e){return It(e)?vr(e,!0):Wu(e)}var Hu=function(){return Ct.Date.now()};const jt=Hu;var Xu="Expected a function",Ku=Math.max,Zu=Math.min;function Gu(e,t,n){var i,r,o,a,s,c,l=0,u=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(Xu);t=mi(t)||0,ge(n)&&(u=!!n.leading,f="maxWait"in n,o=f?Ku(mi(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function m(v){var C=i,D=r;return i=r=void 0,l=v,a=e.apply(D,C),a}function g(v){return l=v,s=setTimeout(S,t),u?m(v):a}function p(v){var C=v-c,D=v-l,W=t-C;return f?Zu(W,o-D):W}function E(v){var C=v-c,D=v-l;return c===void 0||C>=t||C<0||f&&D>=o}function S(){var v=jt();if(E(v))return x(v);s=setTimeout(S,p(v))}function x(v){return s=void 0,d&&i?m(v):(i=r=void 0,a)}function O(){s!==void 0&&clearTimeout(s),l=0,i=c=r=s=void 0}function N(){return s===void 0?a:x(jt())}function j(){var v=jt(),C=E(v);if(i=arguments,r=this,c=v,C){if(s===void 0)return g(c);if(f)return clearTimeout(s),s=setTimeout(S,t),m(c)}return s===void 0&&(s=setTimeout(S,t)),a}return j.cancel=O,j.flush=N,j}var gr=Object.prototype,Ju=gr.hasOwnProperty,Qu=cr(function(e,t){e=Object(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&fr(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],a=Yu(o),s=-1,c=a.length;++s<c;){var l=a[s],u=e[l];(u===void 0||dn(u,gr[l])&&!Ju.call(e,l))&&(e[l]=o[l])}return e});const ef=Qu,tf=({images:e=[],options:t})=>{t=$u(t,{inline:!1});const n=document.createElement("div"),i=vn("div",{style:{display:"none"},class:["__viewer-token"]},e.map(s=>vn("img",typeof s=="string"?{src:s}:s)));gn(i,n);const r=n.firstElementChild;document.body.appendChild(r);const o=new Pe(r,t),a=o.destroy.bind(o);return o.destroy=function(){return a(),gn(null,n),o},o.show(),r.addEventListener("hidden",function(){this.viewer===o&&o.destroy()}),o},nf=({name:e="viewer",debug:t=!1}={})=>{async function n(u,f,d=!1,m=!1){await Ae(),!(m&&!i(u))&&(d||!u[`$${e}`]?(a(u),u[`$${e}`]=new Pe(u,f),l("Viewer created")):(u[`$${e}`].update(),l("Viewer updated")))}function i(u){const f=u.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),d=f?f.join(""):void 0;return u.__viewerImageDiffCache===d?(l("Element change detected, but image(s) has not changed"),!1):(l("Image change detected"),u.__viewerImageDiffCache=d,!0)}function r(u,f,d,m){s(u);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){l("Observer not supported");return}const p=new g(S=>{S.forEach(x=>{l(`Viewer mutation:${x.type}`),d(u,f,m,!0)})}),E={attributes:!0,childList:!0,characterData:!0,subtree:!0};p.observe(u,E),u.__viewerMutationObserver=p,l("Observer created")}function o(u,f,d,m){u.__viewerUnwatch=Y(()=>f.value,(g,p)=>{l("Change detected by watcher: ",f.value),m(u,g,!0,!1)},{deep:!0}),l("Watcher created, expression: ",f.value)}function a(u){!u[`$${e}`]||(u[`$${e}`].destroy(),delete u[`$${e}`],l("Viewer destroyed"))}function s(u){!u.__viewerMutationObserver||(u.__viewerMutationObserver.disconnect(),delete u.__viewerMutationObserver,l("observer destroyed"))}function c(u){!u.__viewerUnwatch||(u.__viewerUnwatch(),delete u.__viewerUnwatch,l("Watcher destroyed"))}function l(...u){t&&console.log(...u)}return{mounted(u,f,d){l("Viewer bind");const m=Gu(n,50);m(u,f.value),o(u,f,d,m),f.modifiers.static||r(u,f.value,m,f.modifiers.rebuild)},unmounted(u){l("Viewer unbind"),s(u),c(u),a(u)}}},rf=te({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(e,{emit:t}){let n;const i=I();function r(){n=new Pe(i.value,e.options),t("inited",n)}function o(){n&&n.destroy()}function a(){o(),r()}function s(){n?(n.update(),t("inited",n)):r()}function c(){e.rebuild?a():s()}const l={deep:!0};return Y(()=>e.images,()=>{Ae(()=>{c()})},l),Y(()=>e.trigger,()=>{Ae(()=>{c()})},l),Y(()=>e.options,()=>{Ae(()=>{a()})},l),yt(()=>r()),Kt(()=>o()),{root:i,createViewer:r,rebuildViewer:a,updateViewer:s,destroyViewer:o}}}),of=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},af={ref:"root"};function sf(e,t,n,i,r,o){return ct(),Bt("div",af,[Mr(e.$slots,"default",{images:e.images,options:e.options})],512)}const lf=of(rf,[["render",sf]]),cf={install(e,{name:t="viewer",debug:n=!1,defaultOptions:i}={}){i&&Pe.setDefaults(i),e.config.globalProperties[`$${t}Api`]=tf,e.component(t,ef(lf,{name:t})),e.directive(t,nf({name:t,debug:n}))},setDefaults(e){Pe.setDefaults(e)}},uf=0,ff="application/x-www-form-urlencoded;charset=UTF-8",df=5*60*1e3,hf=["/login","/about"],Ht=new URL(""+new URL("../img/user_avatar_2x-D7HF6Y-m.png",import.meta.url).href,import.meta.url).href,dd=new URL("data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='31'%20cy='31'%20r='31'%20fill='url(%23paint0_linear_930_6995)'/%3e%3cpath%20d='M39%2036.3346C41.9455%2036.3346%2044.3333%2033.9468%2044.3333%2031.0013C44.3333%2028.0558%2041.9455%2025.668%2039%2025.668'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23.0013%2025.668C20.0558%2025.668%2017.668%2028.0558%2017.668%2031.0013C17.668%2033.9468%2020.0558%2036.3346%2023.0013%2036.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23%2036.3346V36.0013V34.3346V31.0013V25.668C23%2021.2497%2026.5817%2017.668%2031%2017.668C35.4183%2017.668%2039%2021.2497%2039%2025.668V36.3346C39%2040.7529%2035.4183%2044.3346%2031%2044.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_930_6995'%20x1='31'%20y1='0'%20x2='31'%20y2='62'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23336DFF'/%3e%3cstop%20offset='1'%20stop-color='%23495EFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",import.meta.url).href,mf=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABdZJREFUWEfVWWlsVFUU/s69M2BbpEgwshQDZdpSRU3Ywk6VgEggYKhKXBARSQRUIJ3SImgNS5u2sWiEH1QErBuiQlFEJQihUiUIRqKU0gGibNaltKSLZd57R+8M0+n23pupLer5NZM5y3fvuefcc78htEUyWMTWaaOkIZIYPATgBID6AOgCQACoZHA5gUoIdJTZ2BfTxXHkQAZp4YajcAxcqRzDhvYsEc0GcEs4tky4RMzvkXS8VpZFZ0K1DQlg4mLu5XXoK0CYD8ARqnMTPQ2ErZAy3ZNJv9n5sgXoStEeBeEVAN3tnIX5eyUBS8pyHFus7EwBDpnPzqpuxnowPxVm4PDUCfkxkXKB2flsFeCdKRxVR3ohAxPCi9Y2bQL2RbCcfjyXapp7aAEwKYMdF2r0z64XuAAgBbJrlbzv6EbyNgbZAqArVdsIRsem1WyjifI92VIVYoM0ARjn1uYwsLltiWonK8ZjnlzHW4121v/Rlc43Q9NPAejWTqHa6qbC6ZWDStbRJeWgYQddqdrrYDzZVq/tasfY4Ml1LGwAGJfGsazrpXZNuGc0MHecwLgEQr8egFSXWgiiG8BPfwD7SxhvFxs4V2FrpIFkf082nfftoMvtfRmgJVZmycMIL84QqPcCe44zysoZKnAoIgiI70mYNIgQ0QlYVWhg+xG2NGXmnNO5zlRSbeVcrf4zMXqZWTwwnLA2WWDbYUbmJwZq6kOB1VJHgVs+VWDWCEL6+wY++NYSZLknSvYmV4p3JIiKzUL27Q7sXipReIyx8qMQt8wG/+qZAtMHEyZm6/ilylzZEDyW4tz6CgavMlNLmypw/2BCUpaOuqtBLacEDIZtmtU5VSn26kHbqM7A/jSJnccYaz82XzSBVpLLre0AMMMM4BdugcOn0WT35o0nLLlX+ACnbzew98fWUzX5DsKaZIEbnEDuHgObi4J6q2YKDOsPTM61zMpOGuD2niRQghnAk1kSa3YZKCj2O4+OBA6/IBsq+GIlMH5to+1p5KjoeQlV+UpUQQ1/SceVOv/32aMJy6cJDExr3davxSVqBy9bNecTmRLZuw1s+coPsGsE8PVKiU7XpsLzl4G7M1sP8mWahDrDAYBDM3RU/+n/PmcMwT1F4PblVgBxRQG0LKVdiwVOXgJStwVT8chIv/M6L7Bsm4GDpa27SBpIyHxQIMIJ3yLf+Saol/OQwMDewLQ8yxQbCqBagmnLfWYiYe5YgXuydFyuDeZPHXxVJKFIc93uUcCBdIk3ihjrPrfuDAqgKvSuZoFuigL2uiWOnGUsKjBsq9YOsKrq9bMFhvYjTMrRUdFiAmzioZJcbu8JgBKtHE+4jXxOi04xMnYYuKBObRtEFYyq6tFxhKe3Gr6rz0oYXGrbZgIOxsYTcmcJ3BgBHCpjnP4VqKkPLceRnQjxPYERAwhVtUDadvNz2wzwTttG3dhAXVXJQwlJiWpYIER2Bnqol7CF/F4N1NarYYGx/wSj8DtuaDV2SfA16thl3jHCoCI7ZbPfAxOO6muB6Ub1vE0HGQWHDMurzDYm8yhCBgtXjX4x3Id4c+dT7iLkPSzADCx918Cn34eWfjOQ6qHfN1Le6hu3BqR4s4nIbbsiGwU1BChZ8WF7DBWc58lxLvXPg6kcA9bP2g2sdgtQAwQRcDVsBqaFZ42kTFAUSXDkT9HWg7DADsR1+Z2wyZPtmKdiNQD08S9O/YcOoDjCXVMlHDI+wNs0eXZe42EKwvXYnvoEPNGYr/mPPdyR78l2mD/c1U4o0uhKtL7n36A++kTJyc1JpP8feRQ4T+q1d75W39DhPA0hP7pSLmxOGgVw2BKY1/iavA6gRCrAeK4xD9NasdkC9DVyxdvoeiYYj//TZv73RaOBsdGpydUB/sWqC4QEMODAT5Foi5holtVD3yRgOTO/ScLxqqI0Qm1NYQFscj6rtWFEYoL6G4LBiQRSrL9ixtRFXA3wBYBK1d8QujAOnIlwFCODwr6k/wIr/Tfaom1PdgAAAABJRU5ErkJggg==",import.meta.url).href;async function vf(e,t){const n=e.getReader();let i;for(;!(i=await n.read()).done;)t(i.value)}function gf(e){let t,n,i,r=!1;return function(a){t===void 0?(t=a,n=0,i=-1):t=bf(t,a);const s=t.length;let c=0;for(;n<s;){r&&(t[n]===10&&(c=++n),r=!1);let l=-1;for(;n<s&&l===-1;++n)switch(t[n]){case 58:i===-1&&(i=n-c);break;case 13:r=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),i),c=n,i=-1}c===s?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function pf(e,t,n){let i=Ei(),r=!1;const o=new TextDecoder;return function(s,c){if(s.length===0)n==null||n(i),i=Ei(),r=!1;else if(c>0){const l=o.decode(s.subarray(0,c)),u=c+1,f=o.decode(s.subarray(u));switch(l){case"data":i.data=r?i.data+`
`+f:f,r=!0;break;case"event":i.event=f;break;case"id":e(i.id=f);break;case"retry":const d=parseInt(f,10);isNaN(d)||t(i.retry=d);break}}}}function bf(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Ei(){return{data:"",event:"",id:"",retry:void 0}}var yf=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};const pt="text/event-stream",wf=1e3,Si="last-event-id";function _f(e,t){var{signal:n,headers:i,onopen:r,onmessage:o,onclose:a,onerror:s,openWhenHidden:c,fetch:l}=t,u=yf(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,d)=>{const m=Object.assign({},i);m.accept||(m.accept=pt);let g;function p(){g.abort(),document.hidden||j()}c||document.addEventListener("visibilitychange",p);let E=wf,S=0;function x(){document.removeEventListener("visibilitychange",p),window.clearTimeout(S),g.abort()}n==null||n.addEventListener("abort",()=>{x(),f()});const O=l??window.fetch,N=r??Ef;async function j(){var v;g=new AbortController;try{const C=await O(e,Object.assign(Object.assign({},u),{headers:m,signal:g.signal}));await N(C),await vf(C.body,gf(pf(D=>{D?m[Si]=D:delete m[Si]},D=>{E=D},o))),a==null||a(),x(),f()}catch(C){if(!g.signal.aborted)try{const D=(v=s==null?void 0:s(C))!==null&&v!==void 0?v:E;window.clearTimeout(S),S=window.setTimeout(j,D)}catch(D){x(),d(D)}}}j()})}function Ef(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(pt)))throw new Error(`Expected content-type to be ${pt}, Actual: ${t}`)}class Sf{constructor(t={}){ne(this,"onOpen");ne(this,"onClose");ne(this,"onError");ne(this,"onMessage");ne(this,"opt",{url:"",data:{}});ne(this,"controller",new AbortController);this.opt={...this.opt,...t},this.open()}open(){const t=new FormData;for(const n in this.opt.data)Object.prototype.hasOwnProperty.call(this.opt.data,n)&&t.append(n,this.opt.data[n]);_f(this.opt.url,{method:"POST",signal:this.controller.signal,openWhenHidden:!0,body:t,onopen:async n=>{if(n.ok&&n.headers.get("content-type")===pt)typeof this.onOpen=="function"&&this.onOpen();else throw n.status>=400&&n.status<500&&n.status!==429?new Error("连接出错"):new Error("连接出错")},onmessage:n=>{typeof this.onMessage=="function"&&this.onMessage(n)},onclose:()=>{typeof this.onClose=="function"&&this.onClose(),this.controller.abort()},onerror:n=>{typeof this.onError=="function"&&this.onError(n)}})}abort(){this.controller.abort()}}const Of={avater:Ht},mn=Gt("user",()=>he({...Of}));function Tf(e){const t=new FormData;return Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&t.append(n,e[n])}),t}function Ee(e=16,t=0){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];let r;if(t=t||n.length,e)for(r=0;r<e;r++)i[r]=n[0|Math.random()*t];else{let o;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",r=0;r<36;r++)i[r]||(o=0|Math.random()*16,i[r]=n[r==19?o&3|8:o])}return i.join("")}function Cf(){let e=Ve.get("openid");return e||(e="P"+Ee(16),Ve.set("openid",e)),e}function hd(e){return e.replace(/[&<"']/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}})}const Oi=(e,t)=>t,pr=e=>{const t={t:o=>Oi(e,o)};if(!ht)return t;const{t:n,...i}=ht.global;return{...i,t:(o,...a)=>o?!o.includes(".")&&!e?o:n(Oi(e,o),...a):""}};function Af(e){const{t}=pr();let n=e.response.status,i=e.response.data.message||e.message,r="";switch(n){case 400:r=`${i}`;break;case 401:r=t("common.errMsg401");break;case 403:r=t("common.errMsg403");break;case 404:r=t("common.errMsg404");break;case 405:r=t("common.errMsg405");break;case 408:r=t("common.errMsg408");break;case 500:r=t("common.errMsg500");break;case 501:r=t("common.errMsg501");break;case 502:r=t("common.errMsg502");break;case 503:r=t("common.errMsg503");break;case 504:r=t("common.errMsg504");break;case 505:r=t("common.errMsg505");break;default:r=`${i}`}return r}let zt=!1;function br(e){zt||(zt=!0,Yi(e),setTimeout(()=>{zt=!1},200))}const xf=e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"?e.data=Ur.stringify(e.data):e.method==="post"&&e.headers["Content-Type"]==="multipart/form-data"&&(e.data=Tf(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const n=Object.keys(e.params);for(const i of n)e.params[i]!==void 0&&e.params[i]!==null&&(t+=`${i}=${encodeURIComponent(e.params[i])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},If=e=>{var t,n,i;if(e.data&&typeof e.data.res<"u"&&(e.data.code=e.data.res,e.data.message=e.data.msg||""),((t=e==null?void 0:e.config)==null?void 0:t.responseType)==="blob")return e;if(e.data.code===uf)return e.data;if(Yi((n=e==null?void 0:e.data)==null?void 0:n.message),((i=e==null?void 0:e.data)==null?void 0:i.code)===401)mn().logout();else return Promise.reject(e.data)},Df=e=>e.response?(console.log("response err： "+e),Lf(e)):e.request?(console.log("request err： "+e),kf(e)):Promise.reject(e),kf=e=>{var c,l,u;const{t}=pr(),{response:n,code:i,message:r}=e||{},o=((l=(c=n==null?void 0:n.data)==null?void 0:c.error)==null?void 0:l.message)??"",a=((u=e==null?void 0:e.toString)==null?void 0:u.call(e))??"";let s="";return i==="ECONNABORTED"&&r.indexOf("timeout")!==-1?s=t("common.apiTimeoutMessage"):a!=null&&a.includes("Network Error")?s=t("common.networkExceptionMsg"):s=o,br(s),Promise.reject(e)},Lf=e=>{var i;let t=(i=e==null?void 0:e.response)==null?void 0:i.status,n=Af(e);return br(n),t===401&&mn().logout(),Promise.reject(e)},Pf="",Ce=new Map,Re=Vr.create({timeout:df,baseURL:Pf});Re.interceptors.request.use(e=>{const t=new AbortController,n=e.url||"";return e.signal=t.signal,Ce.set(n,t),e});Re.interceptors.response.use(e=>{const t=e.config.url||"";return Ce.delete(t),e},e=>Promise.reject(e));Re.interceptors.request.use(xf);Re.interceptors.response.use(If);Re.interceptors.response.use(void 0,Df);const Xt={request:e=>new Promise((t,n)=>{var i;(i=e.interceptors)!=null&&i.requestInterceptors&&(e=e.interceptors.requestInterceptors(e)),Re.request(e).then(r=>{t(r)}).catch(r=>{n(r)})}),cancelRequest:e=>{var n;const t=Array.isArray(e)?e:[e];for(const i of t)(n=Ce.get(i))==null||n.abort(),Ce.delete(i)},cancelAllRequest(){for(const[e,t]of Ce)t.abort();Ce.clear()}},rt=e=>{const t=mn(),n=Hi(),{url:i,method:r,params:o,data:a,headers:s,responseType:c,withToken:l}=e,u=n.getCurrentLocale,f={"Content-Type":ff,"X-Requested-With":"XMLHttpRequest",app_type:"yun_pc",lang:u.lang,...s};return l||(f.token=t.getToken??""),Xt.request({url:i,method:r,params:o,data:a,responseType:c,headers:{...f}})},Ze={get:e=>rt({method:"get",...e}),post:e=>rt({method:"post",...e}),delete:e=>rt({method:"delete",...e}),put:e=>rt({method:"put",...e}),cancelRequest:e=>Xt.cancelRequest(e),cancelAllRequest:()=>Xt.cancelAllRequest()},Nf="",Rf=({openid:e})=>Ze.get({url:"/chat/getWsUrl",params:{openid:e,debug:0}}),jf=e=>new Sf({url:Nf+"/chat/request",data:e}),zf=e=>Ze.post({url:"/chat/welcome",data:e}),Mf=e=>Ze.post({url:"/manage/getDialogueList",data:e}),Ff=e=>Ze.post({url:"/chat/message",data:e}),Bf=({id:e,prompt:t})=>Ze.post({url:"/manage/editPrompt",data:{id:e,prompt:t}});function $f(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(r){r(n)}),(i=e.get("*"))&&i.slice().map(function(r){r(t,n)})}}}const ot=$f(),yr=e=>({on:ot.on,off:ot.off,emit:ot.emit,all:ot.all});class Vf{constructor(t,n){this.debug=n.debug||!1,this.socketOpen=!1,this.socketMsgQueue=[],this.heartbeatInterval=5*1e3,this.heartbeatTimer=null,this.disableHeartbeat=n.disableHeartbeat,this.disableReconnect=!1,this.reconnectAttempts=0,this.reconnectInterval=5*1e3,this.reconnectTimer=null,this.events={},this.url=t,this.ws=null,this.options=n,this.connect(),this.log=function(){},this.debug&&(this.log=console.log)}connect(){this.ws&&this.socketOpen||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.log("WebSocket open"),this.onOpen()},this.ws.onmessage=t=>{this.log("WebSocket message"),this.log(t),this.onMessage(t)},this.ws.onerror=t=>{this.log("WebSocket error"),this.log(t),this.onError(t)},this.ws.onclose=t=>{this.log("WebSocket closed"),this.log(t),this.onClose(t)})}onOpen(){this.socketOpen=!0,this.reconnectAttempts=0,this.disableReconnect=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.sendHeartBeat();for(var t=0;t<this.socketMsgQueue.length;t++)this.send(this.socketMsgQueue[t]);this.socketMsgQueue=[],this.emit("open")}onMessage(t){t&&t.data==="ping"?this.pong(t):this.emit("message",JSON.parse(t.data))}onError(t){this.emit("error",t)}onClose(t){this.emit("close",t),this.ws=null,this.socketOpen=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.stopHeartBeat(),this.shouldReconnect()&&!this.disableReconnect&&this.reconnect()}send(t){this.ws&&this.socketOpen?this.ws.send(JSON.stringify(t)):this.socketMsgQueue.push(t)}pong(){this.ws.send("pong")}sendHeartBeat(){this.disableHeartbeat||(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=setTimeout(()=>{this.send({type:"ping"}),this.sendHeartBeat(),this.emit("ping")},this.heartbeatInterval))}stopHeartBeat(){this.disableHeartbeat||clearTimeout(this.heartbeatTimer)}shouldReconnect(){const t=this.options.maxReconnectAttempts||1/0;return this.reconnectAttempts<t}reconnect(){this.reconnectTimer||(this.disableReconnect=!1,this.reconnectAttempts++,this.reconnectTimer=setTimeout(()=>{this.ws?(this.ws.close(),this.socketOpen=!1,this.ws=null):this.connect()},this.reconnectInterval))}close(t=!0){this.disableReconnect=t,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.ws&&this.ws.close()}emit(t,...n){this.events&&Array.isArray(this.events[t])&&this.events[t].forEach(i=>i(...n))}on(t,n){this.events||(this.events={}),this.events[t]||(this.events[t]=[]),this.events[t].push(n)}off(t,n){if(this.events&&Array.isArray(this.events[t]))if(!n)this.events[t]=[];else{const i=this.events[t].indexOf(n);i!==-1&&this.events[t].splice(i,1)}}}const Ti=I(null),ue=I(null),ie=he({}),Uf=()=>{async function e(o,a){let s=await Rf({openid:o});s&&(Ti.value=s.data.ws_url),ue.value&&ue.value.close(),ue.value=new Vf(Ti.value,{disableHeartbeat:!0}),a&&a(),ue.value.on("message",c=>{n("message",c)}),ue.value.on("error",i)}function t(o,a){ie[o]||(ie[o]=[]),ie[o].push(a)}function n(o,...a){ie&&Array.isArray(ie[o])&&ie[o].forEach(s=>s(...a))}function i(o){console.log(o)}function r(){Object.keys(ie).forEach(o=>{ie[o]=[],delete ie[o]}),ue.value&&ue.value.close()}return{connect:e,on:t,close:r}},qf=Gt("chat",()=>{const e=yr(),t=Uf(),n=I([]);let i=null;const r=I(0),o=I(""),a=he({admin_user_id:"",avatar:"",id:"",name:"",nickname:"",openid:""}),s=he({id:null,library_ids:"",prompt:"",robot_avatar:"",robot_intro:"",robot_key:"",robot_name:"",openid:"",welcomes:{content:"",question:[]}}),c=he({headTitle:"WikiChat.com",headSubTitle:"Based on LLM, free and open-source.",headImage:mf,lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"}}),l=I(!1),u=async h=>{i&&(i.abort(),i=null),n.value=[],U.value=!1,S.value=!1,h.dialogue_id?(l.value=!1,r.value=h.dialogue_id):(l.value=!0,r.value=0),o.value=h.openid||Cf(),s.robot_key=h.robot_key,s.openid=o.value,a.openid=o.value,a.avatar=h.avatar||Ht,a.name=h.name||"",a.nickname=h.nickname||"";const k=await zf({robot_key:s.robot_key,openid:o.value,nickname:a.nickname,name:a.name,avatar:a.avatar||Ht});try{const q=k.data.customer,w=k.data.robot;return a.admin_user_id=q.admin_user_id,a.avatar=q.avatar,a.id=q.id,a.name=q.name,a.nickname=q.nickname,s.library_ids=w.library_ids,s.prompt=w.prompt,s.robot_avatar=w.robot_avatar,s.robot_intro=w.robot_intro,s.robot_key=w.robot_key,s.robot_name=w.robot_name,s.library_ids=w.library_ids,s.id=w.id,w.welcomes&&(s.welcomes=JSON.parse(w.welcomes)),w.external_config_pc&&Object.assign(c,JSON.parse(w.external_config_pc)),d(k.data.message),t.connect(o.value),t.on("message",f),k}catch(q){Promise.reject(q)}},f=h=>{h&&h.dialogue_id==r.value&&(h.uid=Ee(32),h.loading=!1,h.isWelcome=!0,h.avatar=s.robot_avatar,h.menu_json&&typeof h.menu_json=="string"&&(h.menu_json=JSON.parse(h.menu_json)),h.quote_file&&typeof h.quote_file=="string"&&(h.quote_file=JSON.parse(h.quote_file)),n.value.push(h))},d=h=>{h&&(h.uid=Ee(32),h.loading=!1,h.isWelcome=!0,h.avatar=s.robot_avatar,h.menu_json&&(h.menu_json=JSON.parse(h.menu_json)),h.quote_file&&(h.quote_file=JSON.parse(h.quote_file)),n.value.push(h))},m=h=>{h.uid=Ee(32),h.loading=!1,h.avatar=a.avatar,h.openid=a.openid,h.msg_type=1,h.is_customer=1,n.value.push(h)},g=h=>{n.value.push(h),e.emit("updateAiMessage",h)},p=(h,k,q)=>{const w=n.value.findIndex($=>$.uid==q);if(h=="sending"){const $=n.value[w].content;n.value[w].content=$+k}if(h=="quote_file"&&(n.value[w].quote_file=k.length>0?k:[]),h=="ai_message"){if(k.menu_json&&k.msg_type==2){let $=JSON.parse(k.menu_json);n.value[w].content=$.content,n.value[w].menu_json=$}n.value[w].id=k.id}h=="debug"&&(n.value[w].debug=k.length>0?k:[]),e.emit("updateAiMessage",n.value[w])},E=()=>{const h=n.value.length-1;n.value[h].loading=!1},S=I(!1),x=h=>{if(S.value)return;const k={loading:!0,id:"",content:"",uid:Ee(32),avatar:s.robot_avatar,msg_type:1,quote_file:[],is_customer:0,debug:[]},q={robot_key:s.robot_key,openid:s.openid,question:h.message,prompt:s.prompt,library_ids:s.library_ids,dialogue_id:r.value};S.value=!0,i=jf(q),i.onMessage=w=>{if(w.event=="dialogue_id"&&(r.value=w.data),w.event=="c_message"){const $=JSON.parse(w.data);m($)}if(w.event=="robot"&&(g(k),l.value&&(l.value=!1)),w.event=="sending"&&p("sending",w.data,k.uid),w.event=="ai_message"){const $=JSON.parse(w.data);p("ai_message",$,k.uid)}if(w.event=="quote_file"){const $=JSON.parse(w.data);p("quote_file",$,k.uid)}if(w.event=="debug"){const $=JSON.parse(w.data);p("debug",$,k.uid)}},i.onClose=()=>{E(),S.value=!1,i=null}},O=25,N=I([]),j=I(!1),v=I(!1),C=async()=>{if(v.value||j.value)return!1;let h=0;N.value.length>0&&(h=N.value[N.value.length-1].id),j.value=!0;const k=await Mf({min_id:h,size:O,robot_key:s.robot_key});j.value=!1;const q=k.data||[];return q.length===0?(v.value=!0,!1):(N.value=[...N.value,...q],k)},D=async h=>await u(h),W=20,U=I(!1),wr=async()=>{if(U.value)return;let h=0;const k=n.value.filter(w=>!w.isWelcome);k.length>0&&(h=k[0].id);const q={robot_key:s.robot_key,openid:a.openid,min_id:h,size:W,dialogue_id:r.value};try{const w=await Ff(q),$=w.data.list||[];if($.length===0){U.value=!0;return}return $.sort((X,Or)=>X.id-Or.id),$.forEach(X=>{X.loading=!1,X.uid=Ee(32),X.is_customer==1?X.avatar=a.avatar:X.avatar=s.robot_avatar,X.menu_json&&(X.menu_json=JSON.parse(X.menu_json)),X.quote_file&&(X.quote_file=JSON.parse(X.quote_file))}),n.value=[...$,...n.value],w}catch(w){Promise.reject(w)}},_r=h=>{s.prompt=h},Er=()=>Bf({id:s.id,prompt:s.prompt});function Sr(){r.value=0,n.value=[],o.value="",a.admin_user_id="",a.avatar="",a.id="",a.name="",a.nickname="",a.openid="",s.id=null,s.library_ids="",s.prompt="",s.robot_avatar="",s.robot_intro="",s.robot_key="",s.robot_key="",s.robot_name="",s.openid="",s.welcomes={content:"",question:[]},l.value=!1,U.value=!1,S.value=!1,j.value=!1,v.value=!1,N.value=[]}return{$reset:Sr,user:a,robot:s,dialogue_id:r,openid:o,sendLock:S,messageList:n,createChat:u,sendMessage:x,getMyChatList:C,myChatList:N,openChat:D,onGetChatMessage:wr,changeRobotPrompt:_r,saveRobotPrompt:Er,externalConfigPC:c}});function Wf(e){return{openid:e.openid||"",robot_key:e.robot_key||"",avatar:e.avatar||"",name:e.name||"",nickname:e.nickname||"",dialogue_id:e.dialogue_id||""}}function Yf(e){return hf.some(t=>t===e.name)}function Hf(e){const t=qf();e.beforeEach(async(n,i,r)=>{const o=Wf(n.query);if(Yf(n))r();else if(t.robot.id)r();else try{await t.createChat(o),r()}catch(a){console.error("Failed to get robot info:",a)}})}const Xf=[{path:"/",name:"home",component:()=>ft(()=>import("./index-CXMdQLqy.js"),__vite__mapDeps([7,1,8]),import.meta.url)},{path:"/chat",name:"chat",component:()=>ft(()=>import("./index-Chsx_LQq.js"),__vite__mapDeps([9,1,4,2,3,5,10]),import.meta.url)}],Mt=Fr({history:Br(),routes:Xf});async function Kf(e){Hf(Mt),e.use(Mt),await Mt.isReady()}const Zf={class:"svg-action"},Gf=["fill","width","height"],Jf=["xlink:href","fill"],Qf=te({__name:"index",props:{name:{type:String,required:!0},size:{type:String,default:"1em"},width:{type:String},height:{type:String},color:{type:String,default:"currentColor"}},setup(e){const t=e,n=ae(()=>`#${t.name}`),i=ae(()=>t.width?t.width:t.size),r=ae(()=>t.height?t.height:t.size);return(o,a)=>(ct(),Bt("span",Zf,[(ct(),Bt("svg",{"aria-hidden":"true",class:"svg-icon",fill:t.color,width:i.value,height:r.value},[$r("use",{"xlink:href":n.value,fill:t.color},null,8,Jf)],8,Gf))]))}}),ed=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},td=ed(Qf,[["__scopeId","data-v-209a163b"]]),nd=e=>{e.component("SvgIcon",td)},id=yr();window.addEventListener("message",function(e){e.data.action==="openWindow"&&id.emit("openWindow",e.data)});const rd=async()=>{const e=ki(nl);await tl(e),Ta(e),Kf(e),va(e),nd(e),e.use(cf),e.mount("#app")};rd();export{dd as D,ed as _,yr as a,Uf as b,hd as e,fd as g,Yi as s,qf as u};
