const __vite__fileDeps=["./en-US-4QEWXDOq.js","./vue-chunks-BpMrDWVc.js","./axios-B4uVmeYG.js","./qs-DrHefV6n.js","./dayjs-C4iS2aBk.js","./crypto-js-BJ7SvduI.js","./zh-CN-CqGWwz0G.js","./index-02p41S6n.js","../css/index-cOql1q-t.css","./index-o-SitOI7.js","../css/index-XwJZtjnu.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var sn=Object.defineProperty;var cn=(e,t,n)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var M=(e,t,n)=>(cn(e,typeof t!="symbol"?t+"":t,n),n);import{o as Ct,a as Ee,i as ln,w as R,r as y,b as Fe,n as Ot,c as ze,u as De,d as H,g as Ce,e as $,f as F,h as g,j as At,p as kt,k as un,l as dn,m as ue,T as Tt,q as It,v as Pt,s as fn,F as hn,t as xt,x as mn,y as qe,z as gn,A as pn,B as vn,C as Re,D as yn,R as bn,E as _n,G as wn,H as Xe,I as Sn}from"./vue-chunks-BpMrDWVc.js";import{a as En}from"./axios-B4uVmeYG.js";import{q as Cn}from"./qs-DrHefV6n.js";import"./dayjs-C4iS2aBk.js";import"./crypto-js-BJ7SvduI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol  fill="none" viewBox="0 0 16 16" id="close"><path fill="currentColor" d="M5.46 4.54a.65.65 0 0 0-.92.92L7.08 8l-2.54 2.54a.65.65 0 1 0 .92.92L8 8.92l2.54 2.54a.65.65 0 1 0 .92-.92L8.92 8l2.54-2.54a.65.65 0 1 0-.92-.92L8 7.08 5.46 4.54Z" data-follow-fill="#000" /></symbol><symbol fill="none"  viewBox="0 0 20 20" id="paper-airplane"><path d="M17.5 3.333 12.543 17.5 9.71 11.125 3.334 8.292l14.167-4.959ZM17.5 3.333 9.71 11.125" stroke="currentColor" stroke-width="1.625" stroke-linecap="round" stroke-linejoin="round" /></symbol>',t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function On(){}const j=Object.assign,Ue=typeof window<"u",Oe=e=>e!==null&&typeof e=="object",z=e=>e!=null,$e=e=>typeof e=="function",An=e=>Oe(e)&&$e(e.then)&&$e(e.catch),Lt=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),kn=()=>Ue?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function et(e,t){const n=t.split(".");let o=e;return n.forEach(r=>{var a;o=Oe(o)&&(a=o[r])!=null?a:""}),o}function Tn(e,t,n){return t.reduce((o,r)=>(o[r]=e[r],o),{})}const ye=null,P=[Number,String],Y={type:Boolean,default:!0},In=e=>({type:Number,default:e}),E=e=>({type:String,default:e});var Ve=typeof window<"u";function Bt(e){let t;Fe(()=>{e(),Ot(()=>{t=!0})}),ze(()=>{t&&e()})}function Dt(e,t,n={}){if(!Ve)return;const{target:o=window,passive:r=!1,capture:a=!1}=n;let i=!1,s;const c=d=>{if(i)return;const h=De(d);h&&!s&&(h.addEventListener(e,t,{capture:a,passive:r}),s=!0)},l=d=>{if(i)return;const h=De(d);h&&s&&(h.removeEventListener(e,t,a),s=!1)};Ct(()=>l(o)),Ee(()=>l(o)),Bt(()=>c(o));let f;return ln(o)&&(f=R(o,(d,h)=>{l(h),c(d)})),()=>{f==null||f(),l(o),i=!0}}var he,Ie;function Pn(){if(!he&&(he=y(0),Ie=y(0),Ve)){const e=()=>{he.value=window.innerWidth,Ie.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:he,height:Ie}}var xn=/scroll|auto|overlay/i,Ln=Ve?window:void 0;function Bn(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Dn(e,t=Ln){let n=e;for(;n&&n!==t&&Bn(n);){const{overflowY:o}=window.getComputedStyle(n);if(xn.test(o))return n;n=n.parentNode}return t}kn();const Rn=e=>e.stopPropagation();function We(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Rn(e)}Pn();function B(e){if(z(e))return Lt(e)?`${e}px`:String(e)}function $n(e){if(z(e)){if(Array.isArray(e))return{width:B(e[0]),height:B(e[1])};const t=B(e);return{width:t,height:t}}}function Mn(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Nn=/-(\w)/g,Rt=e=>e.replace(Nn,(t,n)=>n.toUpperCase()),jn=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:Fn}=Object.prototype;function zn(e,t,n){const o=t[n];z(o)&&(!Fn.call(e,n)||!Oe(o)?e[n]=o:e[n]=$t(Object(e[n]),o))}function $t(e,t){return Object.keys(t).forEach(n=>{zn(e,t,n)}),e}var Mt={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const tt=y("zh-CN"),nt=H({"zh-CN":Mt}),Nt={messages(){return nt[tt.value]},use(e,t){tt.value=e,this.add({[e]:t})},add(e={}){$t(nt,e)}};var qn=Nt;function Un(e){const t=Rt(e)+".";return(n,...o)=>{const r=qn.messages(),a=et(r,t+n)||et(r,n);return $e(a)?a(...o):a}}function Me(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+Me(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?Me(e,o):""),""):""}function Vn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Me(t,n)}`)}function q(e){const t=`van-${e}`;return[t,Vn(t),Un(t)]}const Wn="van-hairline",Yn=`${Wn}--surround`,Hn="van-haptics-feedback",ot=5;function Kn(e,{args:t=[],done:n,canceled:o,error:r}){if(e){const a=e.apply(null,t);An(a)?a.then(i=>{i?n():o&&o()}).catch(r||On):a?n():o&&o()}else n()}function U(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Rt(`-${n}`),e))},e}const Zn=Symbol();function jt(e){const t=Ce();t&&j(t.proxy,e)}const Gn={to:[String,Object],url:String,replace:Boolean};function Jn({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Qn(){const e=Ce().proxy;return()=>Jn(e)}const[Xn,rt]=q("badge"),eo={dot:Boolean,max:P,tag:E("div"),color:String,offset:Array,content:P,showZero:Y,position:E("top-right")};var to=$({name:Xn,props:eo,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:s,showZero:c}=e;return z(s)&&s!==""&&(c||s!==0&&s!=="0")},o=()=>{const{dot:s,max:c,content:l}=e;if(!s&&n())return t.content?t.content():z(c)&&Lt(l)&&+l>+c?`${c}+`:l},r=s=>s.startsWith("-")?s.replace("-",""):`-${s}`,a=F(()=>{const s={background:e.color};if(e.offset){const[c,l]=e.offset,{position:f}=e,[d,h]=f.split("-");t.default?(typeof l=="number"?s[d]=B(d==="top"?l:-l):s[d]=d==="top"?B(l):r(l),typeof c=="number"?s[h]=B(h==="left"?c:-c):s[h]=h==="left"?B(c):r(c)):(s.marginTop=B(l),s.marginLeft=B(c))}return s}),i=()=>{if(n()||e.dot)return g("div",{class:rt([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:s}=e;return g(s,{class:rt("wrapper")},{default:()=>[t.default(),i()]})}return i()}}});const no=U(to);let Ft=2e3;const oo=()=>++Ft,ro=e=>{Ft=e},[zt,ao]=q("config-provider"),qt=Symbol(zt),so={tag:E("div"),theme:E("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:E("local"),iconPrefix:String};function io(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function co(e){const t={};return Object.keys(e).forEach(n=>{const o=io(jn(n));t[`--van-${o}`]=e[n]}),t}function me(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var lo=$({name:zt,props:so,setup(e,{slots:t}){const n=F(()=>co(j({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(Ue){const o=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(a=e.theme)=>{document.documentElement.classList.remove(`van-theme-${a}`)};R(()=>e.theme,(a,i)=>{i&&r(i),o()},{immediate:!0}),ze(o),Ee(r),At(r),R(n,(a,i)=>{e.themeVarsScope==="global"&&me(a,i)}),R(()=>e.themeVarsScope,(a,i)=>{i==="global"&&me({},n.value),a==="global"&&me(n.value,{})}),e.themeVarsScope==="global"&&me(n.value,{})}return kt(qt,e),un(()=>{e.zIndex!==void 0&&ro(e.zIndex)}),()=>g(e.tag,{class:ao(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[uo,at]=q("icon"),fo=e=>e==null?void 0:e.includes("/"),ho={dot:Boolean,tag:E("i"),name:String,size:P,badge:P,color:String,badgeProps:Object,classPrefix:String};var mo=$({name:uo,props:ho,setup(e,{slots:t}){const n=dn(qt,null),o=F(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||at());return()=>{const{tag:r,dot:a,name:i,size:s,badge:c,color:l}=e,f=fo(i);return g(no,ue({dot:a,tag:r,class:[o.value,f?"":`${o.value}-${i}`],style:{color:l,fontSize:B(s)},content:c},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),f&&g("img",{class:at("image"),src:i},null)]}})}}});const Ae=U(mo),[go,ce]=q("loading"),po=Array(12).fill(null).map((e,t)=>g("i",{class:ce("line",String(t+1))},null)),vo=g("svg",{class:ce("circular"),viewBox:"25 25 50 50"},[g("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),yo={size:P,type:E("circular"),color:String,vertical:Boolean,textSize:P,textColor:String};var bo=$({name:go,props:yo,setup(e,{slots:t}){const n=F(()=>j({color:e.color},$n(e.size))),o=()=>{const a=e.type==="spinner"?po:vo;return g("span",{class:ce("spinner",e.type),style:n.value},[t.icon?t.icon():a])},r=()=>{var a;if(t.default)return g("span",{class:ce("text"),style:{fontSize:B(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:i}=e;return g("div",{class:ce([a,{vertical:i}]),"aria-live":"polite","aria-busy":!0},[o(),r()])}}});const Ut=U(bo),[_o,J]=q("button"),wo=j({},Gn,{tag:E("button"),text:String,icon:String,type:E("default"),size:E("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:E("button"),loadingSize:P,loadingText:String,loadingType:String,iconPosition:E("left")});var So=$({name:_o,props:wo,emits:["click"],setup(e,{emit:t,slots:n}){const o=Qn(),r=()=>n.loading?n.loading():g(Ut,{size:e.loadingSize,type:e.loadingType,class:J("loading")},null),a=()=>{if(e.loading)return r();if(n.icon)return g("div",{class:J("icon")},[n.icon()]);if(e.icon)return g(Ae,{name:e.icon,class:J("icon"),classPrefix:e.iconPrefix},null)},i=()=>{let l;if(e.loading?l=e.loadingText:l=n.default?n.default():e.text,l)return g("span",{class:J("text")},[l])},s=()=>{const{color:l,plain:f}=e;if(l){const d={color:f?l:"white"};return f||(d.background=l),l.includes("gradient")?d.border=0:d.borderColor=l,d}},c=l=>{e.loading?We(l):e.disabled||(t("click",l),o())};return()=>{const{tag:l,type:f,size:d,block:h,round:p,plain:b,square:w,loading:C,disabled:A,hairline:D,nativeType:V,iconPosition:I}=e,x=[J([f,d,{plain:b,block:h,round:p,square:w,loading:C,disabled:A,hairline:D}]),{[Yn]:D}];return g(l,{type:V,class:x,style:s(),disabled:A,onClick:c},{default:()=>[g("div",{class:J("content")},[I==="left"&&a(),i(),I==="right"&&a()])]})}}});const Eo=U(So),Co={show:Boolean,zIndex:P,overlay:Y,duration:P,teleport:[String,Object],lockScroll:Y,lazyRender:Y,beforeClose:Function,overlayStyle:Object,overlayClass:ye,transitionAppear:Boolean,closeOnClickOverlay:Y};function Oo(e,t){return e>t?"horizontal":t>e?"vertical":""}function Ao(){const e=y(0),t=y(0),n=y(0),o=y(0),r=y(0),a=y(0),i=y(""),s=y(!0),c=()=>i.value==="vertical",l=()=>i.value==="horizontal",f=()=>{n.value=0,o.value=0,r.value=0,a.value=0,i.value="",s.value=!0};return{move:p=>{const b=p.touches[0];n.value=(b.clientX<0?0:b.clientX)-e.value,o.value=b.clientY-t.value,r.value=Math.abs(n.value),a.value=Math.abs(o.value);const w=10;(!i.value||r.value<w&&a.value<w)&&(i.value=Oo(r.value,a.value)),s.value&&(r.value>ot||a.value>ot)&&(s.value=!1)},start:p=>{f(),e.value=p.touches[0].clientX,t.value=p.touches[0].clientY},reset:f,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:r,offsetY:a,direction:i,isVertical:c,isHorizontal:l,isTap:s}}let ae=0;const st="van-overflow-hidden";function ko(e,t){const n=Ao(),o="01",r="10",a=f=>{n.move(f);const d=n.deltaY.value>0?r:o,h=Dn(f.target,e.value),{scrollHeight:p,offsetHeight:b,scrollTop:w}=h;let C="11";w===0?C=b>=p?"00":"01":w+b>=p&&(C="10"),C!=="11"&&n.isVertical()&&!(parseInt(C,2)&parseInt(d,2))&&We(f,!0)},i=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",a,{passive:!1}),ae||document.body.classList.add(st),ae++},s=()=>{ae&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",a),ae--,ae||document.body.classList.remove(st))},c=()=>t()&&i(),l=()=>t()&&s();Bt(c),Ee(l),At(l),R(t,f=>{f?i():s()})}function Vt(e){const t=y(!1);return R(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const it=()=>{var e;const{scopeId:t}=((e=Ce())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[To,Io]=q("overlay"),Po={show:Boolean,zIndex:P,duration:P,className:ye,lockScroll:Y,lazyRender:Y,customStyle:Object};var xo=$({name:To,props:Po,setup(e,{slots:t}){const n=y(),o=Vt(()=>e.show||!e.lazyRender),r=i=>{e.lockScroll&&We(i,!0)},a=o(()=>{var i;const s=j(Mn(e.zIndex),e.customStyle);return z(e.duration)&&(s.animationDuration=`${e.duration}s`),It(g("div",{ref:n,style:s,class:[Io(),e.className]},[(i=t.default)==null?void 0:i.call(t)]),[[Pt,e.show]])});return Dt("touchmove",r,{target:n}),()=>g(Tt,{name:"van-fade",appear:!0},{default:a})}});const Lo=U(xo),Bo=j({},Co,{round:Boolean,position:E("center"),closeIcon:E("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:E("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Do,ct]=q("popup");var Ro=$({name:Do,inheritAttrs:!1,props:Bo,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:o}){let r,a;const i=y(),s=y(),c=Vt(()=>e.show||!e.lazyRender),l=F(()=>{const _={zIndex:i.value};if(z(e.duration)){const k=e.position==="center"?"animationDuration":"transitionDuration";_[k]=`${e.duration}s`}return _}),f=()=>{r||(r=!0,i.value=e.zIndex!==void 0?+e.zIndex:oo(),t("open"))},d=()=>{r&&Kn(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},h=_=>{t("clickOverlay",_),e.closeOnClickOverlay&&d()},p=()=>{if(e.overlay)return g(Lo,ue({show:e.show,class:e.overlayClass,zIndex:i.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},it(),{onClick:h}),{default:o["overlay-content"]})},b=_=>{t("clickCloseIcon",_),d()},w=()=>{if(e.closeable)return g(Ae,{role:"button",tabindex:0,name:e.closeIcon,class:[ct("close-icon",e.closeIconPosition),Hn],classPrefix:e.iconPrefix,onClick:b},null)};let C;const A=()=>{C&&clearTimeout(C),C=setTimeout(()=>{t("opened")})},D=()=>t("closed"),V=_=>t("keydown",_),I=c(()=>{var _;const{round:k,position:T,safeAreaInsetTop:re,safeAreaInsetBottom:G}=e;return It(g("div",ue({ref:s,style:l.value,role:"dialog",tabindex:0,class:[ct({round:k,[T]:T}),{"van-safe-area-top":re,"van-safe-area-bottom":G}],onKeydown:V},n,it()),[(_=o.default)==null?void 0:_.call(o),w()]),[[Pt,e.show]])}),x=()=>{const{position:_,transition:k,transitionAppear:T}=e,re=_==="center"?"van-fade":`van-popup-slide-${_}`;return g(Tt,{name:k||re,appear:T,onAfterEnter:A,onAfterLeave:D},{default:I})};return R(()=>e.show,_=>{_&&!r&&(f(),n.tabindex===0&&Ot(()=>{var k;(k=s.value)==null||k.focus()})),!_&&r&&(r=!1,t("close"))}),jt({popupRef:s}),ko(s,()=>e.show&&e.lockScroll),Dt("popstate",()=>{e.closeOnPopstate&&(d(),a=!1)}),Fe(()=>{e.show&&f()}),ze(()=>{a&&(t("update:show",!0),a=!1)}),Ee(()=>{e.show&&e.teleport&&(d(),a=!0)}),kt(Zn,()=>e.show),()=>e.teleport?g(fn,{to:e.teleport},{default:()=>[p(),x()]}):g(hn,null,[p(),x()])}});const $o=U(Ro);let se=0;function Mo(e){e?(se||document.body.classList.add("van-toast--unclickable"),se++):se&&(se--,se||document.body.classList.remove("van-toast--unclickable"))}const[No,Q]=q("toast"),jo=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Fo={icon:String,show:Boolean,type:E("text"),overlay:Boolean,message:P,iconSize:P,duration:In(2e3),position:E("middle"),teleport:[String,Object],wordBreak:String,className:ye,iconPrefix:String,transition:E("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:ye,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:P};var Wt=$({name:No,props:Fo,emits:["update:show"],setup(e,{emit:t,slots:n}){let o,r=!1;const a=()=>{const d=e.show&&e.forbidClick;r!==d&&(r=d,Mo(r))},i=d=>t("update:show",d),s=()=>{e.closeOnClick&&i(!1)},c=()=>clearTimeout(o),l=()=>{const{icon:d,type:h,iconSize:p,iconPrefix:b,loadingType:w}=e;if(d||h==="success"||h==="fail")return g(Ae,{name:d||h,size:p,class:Q("icon"),classPrefix:b},null);if(h==="loading")return g(Ut,{class:Q("loading"),size:p,type:w},null)},f=()=>{const{type:d,message:h}=e;if(n.message)return g("div",{class:Q("text")},[n.message()]);if(z(h)&&h!=="")return d==="html"?g("div",{key:0,class:Q("text"),innerHTML:String(h)},null):g("div",{class:Q("text")},[h])};return R(()=>[e.show,e.forbidClick],a),R(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(o=setTimeout(()=>{i(!1)},e.duration))}),Fe(a),Ct(a),()=>g($o,ue({class:[Q([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:c,"onUpdate:show":i},Tn(e,jo)),{default:()=>[l(),f()]})}});function zo(){const e=H({show:!1}),t=r=>{e.show=r},n=r=>{j(e,r,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return jt({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function qo(e){const t=xt(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Uo={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let ge=[],Vo=!1,lt=j({},Uo);const Wo=new Map;function Yo(e){return Oe(e)?e:{message:e}}function Ho(){const{instance:e,unmount:t}=qo({setup(){const n=y(""),{open:o,state:r,close:a,toggle:i}=zo(),s=()=>{},c=()=>g(Wt,ue(r,{onClosed:s,"onUpdate:show":i}),null);return R(n,l=>{r.message=l}),Ce().render=c,{open:o,close:a,message:n}}});return e}function Ko(){if(!ge.length||Vo){const e=Ho();ge.push(e)}return ge[ge.length-1]}function Yt(e={}){if(!Ue)return{};const t=Ko(),n=Yo(e);return t.open(j({},lt,Wo.get(n.type||lt.type),n)),t}U(Wt);const Zo=U(lo),Go=e=>{e.use(Zo),e.use(Eo),e.use(Ae)},Jo="modulepreload",Qo=function(e,t){return new URL(e,t).href},ut={},be=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),s=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.all(n.map(c=>{if(c=Qo(c,o),c in ut)return;ut[c]=!0;const l=c.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(!!o)for(let p=a.length-1;p>=0;p--){const b=a[p];if(b.href===c&&(!l||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Jo,l||(h.as="script",h.crossOrigin=""),h.href=c,s&&h.setAttribute("nonce",s),document.head.appendChild(h),l)return new Promise((p,b)=>{h.addEventListener("load",p),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}return r.then(()=>t()).catch(a=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a})},Xo=(e,t,n)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function er(e){return typeof e=="object"&&e!==null}function dt(e,t){return e=er(e)?e:Object.create(null),new Proxy(e,{get(n,o,r){return o==="key"?Reflect.get(n,o,r):Reflect.get(n,o,r)||Reflect.get(t,o,r)}})}function tr(e,t){return t.reduce((n,o)=>n==null?void 0:n[o],e)}function nr(e,t,n){return t.slice(0,-1).reduce((o,r)=>/^(__proto__)$/.test(r)?{}:o[r]=o[r]||{},e)[t[t.length-1]]=n,e}function or(e,t){return t.reduce((n,o)=>{const r=o.split(".");return nr(n,r,tr(e,r))},{})}function rr(e,t){return n=>{var o;try{const{storage:r=localStorage,beforeRestore:a=void 0,afterRestore:i=void 0,serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:f=!1}=n;return{storage:r,beforeRestore:a,afterRestore:i,serializer:s,key:((o=e.key)!=null?o:d=>d)(typeof c=="string"?c:c(t.$id)),paths:l,debug:f}}catch(r){return n.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function ft(e,{storage:t,serializer:n,key:o,debug:r}){try{const a=t==null?void 0:t.getItem(o);a&&e.$patch(n==null?void 0:n.deserialize(a))}catch(a){r&&console.error("[pinia-plugin-persistedstate]",a)}}function ht(e,{storage:t,serializer:n,key:o,paths:r,debug:a}){try{const i=Array.isArray(r)?or(e,r):e;t.setItem(o,n.serialize(i))}catch(i){a&&console.error("[pinia-plugin-persistedstate]",i)}}function ar(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:o=n},store:r,pinia:a}=t;if(!o)return;if(!(r.$id in a.state.value)){const s=a._s.get(r.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const i=(Array.isArray(o)?o.map(s=>dt(s,e)):[dt(o,e)]).map(rr(e,r)).filter(Boolean);r.$persist=()=>{i.forEach(s=>{ht(r.$state,s)})},r.$hydrate=({runHooks:s=!0}={})=>{i.forEach(c=>{const{beforeRestore:l,afterRestore:f}=c;s&&(l==null||l(t)),ft(r,c),s&&(f==null||f(t))})},i.forEach(s=>{const{beforeRestore:c,afterRestore:l}=s;c==null||c(t),ft(r,s),l==null||l(t),r.$subscribe((f,d)=>{ht(d,s)},{detached:!0})})}}const Ye=mn();Ye.use(ar({key:e=>`__persisted__${e}`,auto:!1}));const sr=e=>{e.use(Ye)};var ir={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const cr=({prefixKey:e="chatwiki::pc::",storage:t=localStorage}={})=>{const n=class{constructor(){M(this,"storage",t);M(this,"prefixKey",e)}getKey(o){return`${this.prefixKey}${o}`.toUpperCase()}set(o,r,a=null){const i=JSON.stringify({value:r,expire:a!==null?new Date().getTime()+a*1e3:null});this.storage.setItem(this.getKey(o),i)}get(o,r=null){const a=this.storage.getItem(this.getKey(o));if(a)try{const i=JSON.parse(a),{value:s,expire:c}=i;if(c===null||c>=Date.now())return s;this.remove(this.getKey(o))}catch{return r}return r}remove(o){console.log("remove:",o),this.storage.removeItem(this.getKey(o))}clear(){this.storage.clear()}setCookie(o,r,a=null){document.cookie=`${this.getKey(o)}=${r}; Max-Age=${a}`}getCookie(o){const r=document.cookie.split("; ");for(let a=0,i=r.length;a<i;a++){const s=r[a].split("=");if(s[0]===this.getKey(o))return s[1]}return""}removeCookie(o){this.setCookie(o,1,-1)}clearCookie(){const o=document.cookie.match(/[^ =;]+(?==)/g);if(o)for(let r=o.length;r--;)document.cookie=`${o[r]}=0;expire=${new Date(0).toUTCString()}`}};return new n},le=cr(),mt={"zh-CN":Mt,"en-US":ir},lr=qe("locales",{state:()=>({currentLocale:{lang:le.get("lang")||"zh-CN",vantLocale:mt[le.get("lang")||"zh-CN"]},localeMap:[{lang:"zh-CN",name:"简体中文"},{lang:"en-US",name:"English"}]}),getters:{getCurrentLocale(){return this.currentLocale},getLocaleMap(){return this.localeMap}},actions:{setCurrentLocale(e){this.currentLocale.lang=e==null?void 0:e.lang,this.currentLocale.vantLocale=mt[e==null?void 0:e.lang],Nt.use(e==null?void 0:e.lang,this.currentLocale.vantLocale),le.set("lang",e==null?void 0:e.lang)}}}),Ht=()=>lr(Ye);var ur=typeof global=="object"&&global&&global.Object===Object&&global,dr=typeof self=="object"&&self&&self.Object===Object&&self,He=ur||dr||Function("return this")(),te=He.Symbol,Kt=Object.prototype,fr=Kt.hasOwnProperty,hr=Kt.toString,ie=te?te.toStringTag:void 0;function mr(e){var t=fr.call(e,ie),n=e[ie];try{e[ie]=void 0;var o=!0}catch{}var r=hr.call(e);return o&&(t?e[ie]=n:delete e[ie]),r}var gr=Object.prototype,pr=gr.toString;function vr(e){return pr.call(e)}var yr="[object Null]",br="[object Undefined]",gt=te?te.toStringTag:void 0;function Zt(e){return e==null?e===void 0?br:yr:gt&&gt in Object(e)?mr(e):vr(e)}function _r(e){return e!=null&&typeof e=="object"}var wr="[object Symbol]";function Ke(e){return typeof e=="symbol"||_r(e)&&Zt(e)==wr}function Sr(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var Ze=Array.isArray,Er=1/0,pt=te?te.prototype:void 0,vt=pt?pt.toString:void 0;function Gt(e){if(typeof e=="string")return e;if(Ze(e))return Sr(e,Gt)+"";if(Ke(e))return vt?vt.call(e):"";var t=e+"";return t=="0"&&1/e==-Er?"-0":t}function _e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Cr="[object AsyncFunction]",Or="[object Function]",Ar="[object GeneratorFunction]",kr="[object Proxy]";function Tr(e){if(!_e(e))return!1;var t=Zt(e);return t==Or||t==Ar||t==Cr||t==kr}var Pe=He["__core-js_shared__"],yt=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ir(e){return!!yt&&yt in e}var Pr=Function.prototype,xr=Pr.toString;function Lr(e){if(e!=null){try{return xr.call(e)}catch{}try{return e+""}catch{}}return""}var Br=/[\\^$.*+?()[\]{}|]/g,Dr=/^\[object .+?Constructor\]$/,Rr=Function.prototype,$r=Object.prototype,Mr=Rr.toString,Nr=$r.hasOwnProperty,jr=RegExp("^"+Mr.call(Nr).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fr(e){if(!_e(e)||Ir(e))return!1;var t=Tr(e)?jr:Dr;return t.test(Lr(e))}function zr(e,t){return e==null?void 0:e[t]}function Ge(e,t){var n=zr(e,t);return Fr(n)?n:void 0}var bt=function(){try{var e=Ge(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qr=9007199254740991,Ur=/^(?:0|[1-9]\d*)$/;function Vr(e,t){var n=typeof e;return t=t??qr,!!t&&(n=="number"||n!="symbol"&&Ur.test(e))&&e>-1&&e%1==0&&e<t}function Wr(e,t,n){t=="__proto__"&&bt?bt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Jt(e,t){return e===t||e!==e&&t!==t}var Yr=Object.prototype,Hr=Yr.hasOwnProperty;function Kr(e,t,n){var o=e[t];(!(Hr.call(e,t)&&Jt(o,n))||n===void 0&&!(t in e))&&Wr(e,t,n)}var Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/;function Jr(e,t){if(Ze(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ke(e)?!0:Gr.test(e)||!Zr.test(e)||t!=null&&e in Object(t)}var de=Ge(Object,"create");function Qr(){this.__data__=de?de(null):{},this.size=0}function Xr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ea="__lodash_hash_undefined__",ta=Object.prototype,na=ta.hasOwnProperty;function oa(e){var t=this.__data__;if(de){var n=t[e];return n===ea?void 0:n}return na.call(t,e)?t[e]:void 0}var ra=Object.prototype,aa=ra.hasOwnProperty;function sa(e){var t=this.__data__;return de?t[e]!==void 0:aa.call(t,e)}var ia="__lodash_hash_undefined__";function ca(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=de&&t===void 0?ia:t,this}function K(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}K.prototype.clear=Qr;K.prototype.delete=Xr;K.prototype.get=oa;K.prototype.has=sa;K.prototype.set=ca;function la(){this.__data__=[],this.size=0}function ke(e,t){for(var n=e.length;n--;)if(Jt(e[n][0],t))return n;return-1}var ua=Array.prototype,da=ua.splice;function fa(e){var t=this.__data__,n=ke(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():da.call(t,n,1),--this.size,!0}function ha(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]}function ma(e){return ke(this.__data__,e)>-1}function ga(e,t){var n=this.__data__,o=ke(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function ne(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ne.prototype.clear=la;ne.prototype.delete=fa;ne.prototype.get=ha;ne.prototype.has=ma;ne.prototype.set=ga;var pa=Ge(He,"Map");function va(){this.size=0,this.__data__={hash:new K,map:new(pa||ne),string:new K}}function ya(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Te(e,t){var n=e.__data__;return ya(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ba(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t}function _a(e){return Te(this,e).get(e)}function wa(e){return Te(this,e).has(e)}function Sa(e,t){var n=Te(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function Z(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Z.prototype.clear=va;Z.prototype.delete=ba;Z.prototype.get=_a;Z.prototype.has=wa;Z.prototype.set=Sa;var Ea="Expected a function";function Je(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ea);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;if(a.has(r))return a.get(r);var i=e.apply(this,o);return n.cache=a.set(r,i)||a,i};return n.cache=new(Je.Cache||Z),n}Je.Cache=Z;var Ca=500;function Oa(e){var t=Je(e,function(o){return n.size===Ca&&n.clear(),o}),n=t.cache;return t}var Aa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ka=/\\(\\)?/g,Ta=Oa(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Aa,function(n,o,r,a){t.push(r?a.replace(ka,"$1"):o||n)}),t});function Ia(e){return e==null?"":Gt(e)}function Pa(e,t){return Ze(e)?e:Jr(e,t)?[e]:Ta(Ia(e))}var xa=1/0;function La(e){if(typeof e=="string"||Ke(e))return e;var t=e+"";return t=="0"&&1/e==-xa?"-0":t}function Ba(e,t,n,o){if(!_e(e))return e;t=Pa(t,e);for(var r=-1,a=t.length,i=a-1,s=e;s!=null&&++r<a;){var c=La(t[r]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=i){var f=s[c];l=void 0,l===void 0&&(l=_e(f)?f:Vr(t[r+1])?[]:{})}Kr(s,c,l),s=s[c]}return e}function xe(e,t,n){return e==null?e:Ba(e,t,n)}const Da=e=>{var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)};function js(e,t="lang"){const n={};return Object.keys(e).forEach(o=>{const r=e[o].default;let a=o.replace(`./${t}/`,"").replace(/^\.\//,"");const i=a.lastIndexOf(".");a=a.substring(0,i);const s=a.split("/"),c=s.shift(),l=s.join(".");c&&(l?(xe(n,c,n[c]||{}),xe(n[c],l,r)):xe(n,c,r||{}))}),n}let we;const Ra=async()=>{const e=Ht(),t=e.getCurrentLocale,n=e.getLocaleMap,r=(await Xo(Object.assign({"./lang/en-US.ts":()=>be(()=>import("./en-US-4QEWXDOq.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),"./lang/zh-CN.ts":()=>be(()=>import("./zh-CN-CqGWwz0G.js"),__vite__mapDeps([6,1,2,3,4,5]),import.meta.url)}),`./lang/${t.lang}.ts`,3)).default??{};return Da(t.lang),e.setCurrentLocale({lang:t.lang}),{legacy:!1,locale:t.lang,fallbackLocale:t.lang,messages:{[t.lang]:r},availableLocales:n.map(a=>a.lang),sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}},$a=async e=>{const t=await Ra();we=gn(t),e.use(we)},Ma=$({__name:"App",setup(e){return(t,n)=>{const o=vn("van-config-provider");return Re(),pn(o,{theme:"light"},{default:yn(()=>[g(De(bn))]),_:1})}}}),Na=0,ja="application/x-www-form-urlencoded;charset=UTF-8",Fa=5*60*1e3,za=["/login","/about"],Ne=new URL(""+new URL("../img/user_avatar_2x-D7HF6Y-m.png",import.meta.url).href,import.meta.url).href,Fs=new URL("data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='31'%20cy='31'%20r='31'%20fill='url(%23paint0_linear_930_6995)'/%3e%3cpath%20d='M39%2036.3346C41.9455%2036.3346%2044.3333%2033.9468%2044.3333%2031.0013C44.3333%2028.0558%2041.9455%2025.668%2039%2025.668'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23.0013%2025.668C20.0558%2025.668%2017.668%2028.0558%2017.668%2031.0013C17.668%2033.9468%2020.0558%2036.3346%2023.0013%2036.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23%2036.3346V36.0013V34.3346V31.0013V25.668C23%2021.2497%2026.5817%2017.668%2031%2017.668C35.4183%2017.668%2039%2021.2497%2039%2025.668V36.3346C39%2040.7529%2035.4183%2044.3346%2031%2044.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_930_6995'%20x1='31'%20y1='0'%20x2='31'%20y2='62'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23336DFF'/%3e%3cstop%20offset='1'%20stop-color='%23495EFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",import.meta.url).href,qa=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABdZJREFUWEfVWWlsVFUU/s69M2BbpEgwshQDZdpSRU3Ywk6VgEggYKhKXBARSQRUIJ3SImgNS5u2sWiEH1QErBuiQlFEJQihUiUIRqKU0gGibNaltKSLZd57R+8M0+n23pupLer5NZM5y3fvuefcc78htEUyWMTWaaOkIZIYPATgBID6AOgCQACoZHA5gUoIdJTZ2BfTxXHkQAZp4YajcAxcqRzDhvYsEc0GcEs4tky4RMzvkXS8VpZFZ0K1DQlg4mLu5XXoK0CYD8ARqnMTPQ2ErZAy3ZNJv9n5sgXoStEeBeEVAN3tnIX5eyUBS8pyHFus7EwBDpnPzqpuxnowPxVm4PDUCfkxkXKB2flsFeCdKRxVR3ohAxPCi9Y2bQL2RbCcfjyXapp7aAEwKYMdF2r0z64XuAAgBbJrlbzv6EbyNgbZAqArVdsIRsem1WyjifI92VIVYoM0ARjn1uYwsLltiWonK8ZjnlzHW4121v/Rlc43Q9NPAejWTqHa6qbC6ZWDStbRJeWgYQddqdrrYDzZVq/tasfY4Ml1LGwAGJfGsazrpXZNuGc0MHecwLgEQr8egFSXWgiiG8BPfwD7SxhvFxs4V2FrpIFkf082nfftoMvtfRmgJVZmycMIL84QqPcCe44zysoZKnAoIgiI70mYNIgQ0QlYVWhg+xG2NGXmnNO5zlRSbeVcrf4zMXqZWTwwnLA2WWDbYUbmJwZq6kOB1VJHgVs+VWDWCEL6+wY++NYSZLknSvYmV4p3JIiKzUL27Q7sXipReIyx8qMQt8wG/+qZAtMHEyZm6/ilylzZEDyW4tz6CgavMlNLmypw/2BCUpaOuqtBLacEDIZtmtU5VSn26kHbqM7A/jSJnccYaz82XzSBVpLLre0AMMMM4BdugcOn0WT35o0nLLlX+ACnbzew98fWUzX5DsKaZIEbnEDuHgObi4J6q2YKDOsPTM61zMpOGuD2niRQghnAk1kSa3YZKCj2O4+OBA6/IBsq+GIlMH5to+1p5KjoeQlV+UpUQQ1/SceVOv/32aMJy6cJDExr3davxSVqBy9bNecTmRLZuw1s+coPsGsE8PVKiU7XpsLzl4G7M1sP8mWahDrDAYBDM3RU/+n/PmcMwT1F4PblVgBxRQG0LKVdiwVOXgJStwVT8chIv/M6L7Bsm4GDpa27SBpIyHxQIMIJ3yLf+Saol/OQwMDewLQ8yxQbCqBagmnLfWYiYe5YgXuydFyuDeZPHXxVJKFIc93uUcCBdIk3ihjrPrfuDAqgKvSuZoFuigL2uiWOnGUsKjBsq9YOsKrq9bMFhvYjTMrRUdFiAmzioZJcbu8JgBKtHE+4jXxOi04xMnYYuKBObRtEFYyq6tFxhKe3Gr6rz0oYXGrbZgIOxsYTcmcJ3BgBHCpjnP4VqKkPLceRnQjxPYERAwhVtUDadvNz2wzwTttG3dhAXVXJQwlJiWpYIER2Bnqol7CF/F4N1NarYYGx/wSj8DtuaDV2SfA16thl3jHCoCI7ZbPfAxOO6muB6Ub1vE0HGQWHDMurzDYm8yhCBgtXjX4x3Id4c+dT7iLkPSzADCx918Cn34eWfjOQ6qHfN1Le6hu3BqR4s4nIbbsiGwU1BChZ8WF7DBWc58lxLvXPg6kcA9bP2g2sdgtQAwQRcDVsBqaFZ42kTFAUSXDkT9HWg7DADsR1+Z2wyZPtmKdiNQD08S9O/YcOoDjCXVMlHDI+wNs0eXZe42EKwvXYnvoEPNGYr/mPPdyR78l2mD/c1U4o0uhKtL7n36A++kTJyc1JpP8feRQ4T+q1d75W39DhPA0hP7pSLmxOGgVw2BKY1/iavA6gRCrAeK4xD9NasdkC9DVyxdvoeiYYj//TZv73RaOBsdGpydUB/sWqC4QEMODAT5Foi5holtVD3yRgOTO/ScLxqqI0Qm1NYQFscj6rtWFEYoL6G4LBiQRSrL9ixtRFXA3wBYBK1d8QujAOnIlwFCODwr6k/wIr/Tfaom1PdgAAAABJRU5ErkJggg==",import.meta.url).href;async function Ua(e,t){const n=e.getReader();let o;for(;!(o=await n.read()).done;)t(o.value)}function Va(e){let t,n,o,r=!1;return function(i){t===void 0?(t=i,n=0,o=-1):t=Ya(t,i);const s=t.length;let c=0;for(;n<s;){r&&(t[n]===10&&(c=++n),r=!1);let l=-1;for(;n<s&&l===-1;++n)switch(t[n]){case 58:o===-1&&(o=n-c);break;case 13:r=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),o),c=n,o=-1}c===s?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function Wa(e,t,n){let o=_t(),r=!1;const a=new TextDecoder;return function(s,c){if(s.length===0)n==null||n(o),o=_t(),r=!1;else if(c>0){const l=a.decode(s.subarray(0,c)),f=c+1,d=a.decode(s.subarray(f));switch(l){case"data":o.data=r?o.data+`
`+d:d,r=!0;break;case"event":o.event=d;break;case"id":e(o.id=d);break;case"retry":const h=parseInt(d,10);isNaN(h)||t(o.retry=h);break}}}}function Ya(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function _t(){return{data:"",event:"",id:"",retry:void 0}}var Ha=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Se="text/event-stream",Ka=1e3,wt="last-event-id";function Za(e,t){var{signal:n,headers:o,onopen:r,onmessage:a,onclose:i,onerror:s,openWhenHidden:c,fetch:l}=t,f=Ha(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,h)=>{const p=Object.assign({},o);p.accept||(p.accept=Se);let b;function w(){b.abort(),document.hidden||x()}c||document.addEventListener("visibilitychange",w);let C=Ka,A=0;function D(){document.removeEventListener("visibilitychange",w),window.clearTimeout(A),b.abort()}n==null||n.addEventListener("abort",()=>{D(),d()});const V=l??window.fetch,I=r??Ga;async function x(){var _;b=new AbortController;try{const k=await V(e,Object.assign(Object.assign({},f),{headers:p,signal:b.signal}));await I(k),await Ua(k.body,Va(Wa(T=>{T?p[wt]=T:delete p[wt]},T=>{C=T},a))),i==null||i(),D(),d()}catch(k){if(!b.signal.aborted)try{const T=(_=s==null?void 0:s(k))!==null&&_!==void 0?_:C;window.clearTimeout(A),A=window.setTimeout(x,T)}catch(T){D(),h(T)}}}x()})}function Ga(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(Se)))throw new Error(`Expected content-type to be ${Se}, Actual: ${t}`)}class Ja{constructor(t={}){M(this,"onOpen");M(this,"onClose");M(this,"onError");M(this,"onMessage");M(this,"opt",{url:"",data:{}});M(this,"controller",new AbortController);this.opt={...this.opt,...t},this.open()}open(){const t=new FormData;for(const n in this.opt.data)Object.prototype.hasOwnProperty.call(this.opt.data,n)&&t.append(n,this.opt.data[n]);Za(this.opt.url,{method:"POST",signal:this.controller.signal,openWhenHidden:!0,body:t,onopen:async n=>{if(n.ok&&n.headers.get("content-type")===Se)typeof this.onOpen=="function"&&this.onOpen();else throw n.status>=400&&n.status<500&&n.status!==429?new Error("连接出错"):new Error("连接出错")},onmessage:n=>{typeof this.onMessage=="function"&&this.onMessage(n)},onclose:()=>{typeof this.onClose=="function"&&this.onClose(),this.controller.abort()},onerror:n=>{typeof this.onError=="function"&&this.onError(n)}})}abort(){this.controller.abort()}}const Qa={avater:Ne},Qe=qe("user",()=>H({...Qa}));function Xa(e){const t=new FormData;return Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&t.append(n,e[n])}),t}function X(e=16,t=0){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];let r;if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else{let a;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(a=0|Math.random()*16,o[r]=n[r==19?a&3|8:a])}return o.join("")}function es(){let e=le.get("openid");return e||(e="P"+X(16),le.set("openid",e)),e}function zs(e){return e.replace(/[&<"']/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}})}const St=(e,t)=>t,Qt=e=>{const t={t:a=>St(e,a)};if(!we)return t;const{t:n,...o}=we.global;return{...o,t:(a,...i)=>a?!a.includes(".")&&!e?a:n(St(e,a),...i):""}};function ts(e){const{t}=Qt();let n=e.response.status,o=e.response.data.message||e.message,r="";switch(n){case 400:r=`${o}`;break;case 401:r=t("common.errMsg401");break;case 403:r=t("common.errMsg403");break;case 404:r=t("common.errMsg404");break;case 405:r=t("common.errMsg405");break;case 408:r=t("common.errMsg408");break;case 500:r=t("common.errMsg500");break;case 501:r=t("common.errMsg501");break;case 502:r=t("common.errMsg502");break;case 503:r=t("common.errMsg503");break;case 504:r=t("common.errMsg504");break;case 505:r=t("common.errMsg505");break;default:r=`${o}`}return r}let Le=!1;function Xt(e){Le||(Le=!0,Yt(e),setTimeout(()=>{Le=!1},200))}const ns=e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"?e.data=Cn.stringify(e.data):e.method==="post"&&e.headers["Content-Type"]==="multipart/form-data"&&(e.data=Xa(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const n=Object.keys(e.params);for(const o of n)e.params[o]!==void 0&&e.params[o]!==null&&(t+=`${o}=${encodeURIComponent(e.params[o])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},os=e=>{var t,n,o;if(e.data&&typeof e.data.res<"u"&&(e.data.code=e.data.res,e.data.message=e.data.msg||""),((t=e==null?void 0:e.config)==null?void 0:t.responseType)==="blob")return e;if(e.data.code===Na)return e.data;if(Yt((n=e==null?void 0:e.data)==null?void 0:n.message),((o=e==null?void 0:e.data)==null?void 0:o.code)===401)Qe().logout();else return Promise.reject(e.data)},rs=e=>e.response?(console.log("response err： "+e),ss(e)):e.request?(console.log("request err： "+e),as(e)):Promise.reject(e),as=e=>{var c,l,f;const{t}=Qt(),{response:n,code:o,message:r}=e||{},a=((l=(c=n==null?void 0:n.data)==null?void 0:c.error)==null?void 0:l.message)??"",i=((f=e==null?void 0:e.toString)==null?void 0:f.call(e))??"";let s="";return o==="ECONNABORTED"&&r.indexOf("timeout")!==-1?s=t("common.apiTimeoutMessage"):i!=null&&i.includes("Network Error")?s=t("common.networkExceptionMsg"):s=a,Xt(s),Promise.reject(e)},ss=e=>{var o;let t=(o=e==null?void 0:e.response)==null?void 0:o.status,n=ts(e);return Xt(n),t===401&&Qe().logout(),Promise.reject(e)},is="",ee=new Map,oe=En.create({timeout:Fa,baseURL:is});oe.interceptors.request.use(e=>{const t=new AbortController,n=e.url||"";return e.signal=t.signal,ee.set(n,t),e});oe.interceptors.response.use(e=>{const t=e.config.url||"";return ee.delete(t),e},e=>Promise.reject(e));oe.interceptors.request.use(ns);oe.interceptors.response.use(os);oe.interceptors.response.use(void 0,rs);const je={request:e=>new Promise((t,n)=>{var o;(o=e.interceptors)!=null&&o.requestInterceptors&&(e=e.interceptors.requestInterceptors(e)),oe.request(e).then(r=>{t(r)}).catch(r=>{n(r)})}),cancelRequest:e=>{var n;const t=Array.isArray(e)?e:[e];for(const o of t)(n=ee.get(o))==null||n.abort(),ee.delete(o)},cancelAllRequest(){for(const[e,t]of ee)t.abort();ee.clear()}},pe=e=>{const t=Qe(),n=Ht(),{url:o,method:r,params:a,data:i,headers:s,responseType:c,withToken:l}=e,f=n.getCurrentLocale,d={"Content-Type":ja,"X-Requested-With":"XMLHttpRequest",app_type:"yun_pc",lang:f.lang,...s};return l||(d.token=t.getToken??""),je.request({url:o,method:r,params:a,data:i,responseType:c,headers:{...d}})},fe={get:e=>pe({method:"get",...e}),post:e=>pe({method:"post",...e}),delete:e=>pe({method:"delete",...e}),put:e=>pe({method:"put",...e}),cancelRequest:e=>je.cancelRequest(e),cancelAllRequest:()=>je.cancelAllRequest()},cs="",ls=({openid:e})=>fe.get({url:"/chat/getWsUrl",params:{openid:e,debug:0}}),us=e=>new Ja({url:cs+"/chat/request",data:e}),ds=e=>fe.post({url:"/chat/welcome",data:e}),fs=e=>fe.post({url:"/manage/getDialogueList",data:e}),hs=e=>fe.post({url:"/chat/message",data:e}),ms=({id:e,prompt:t})=>fe.post({url:"/manage/editPrompt",data:{id:e,prompt:t}});function gs(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(r){r(n)}),(o=e.get("*"))&&o.slice().map(function(r){r(t,n)})}}}const ve=gs(),en=e=>({on:ve.on,off:ve.off,emit:ve.emit,all:ve.all});class ps{constructor(t,n){this.debug=n.debug||!1,this.socketOpen=!1,this.socketMsgQueue=[],this.heartbeatInterval=5*1e3,this.heartbeatTimer=null,this.disableHeartbeat=n.disableHeartbeat,this.disableReconnect=!1,this.reconnectAttempts=0,this.reconnectInterval=5*1e3,this.reconnectTimer=null,this.events={},this.url=t,this.ws=null,this.options=n,this.connect(),this.log=function(){},this.debug&&(this.log=console.log)}connect(){this.ws&&this.socketOpen||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.log("WebSocket open"),this.onOpen()},this.ws.onmessage=t=>{this.log("WebSocket message"),this.log(t),this.onMessage(t)},this.ws.onerror=t=>{this.log("WebSocket error"),this.log(t),this.onError(t)},this.ws.onclose=t=>{this.log("WebSocket closed"),this.log(t),this.onClose(t)})}onOpen(){this.socketOpen=!0,this.reconnectAttempts=0,this.disableReconnect=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.sendHeartBeat();for(var t=0;t<this.socketMsgQueue.length;t++)this.send(this.socketMsgQueue[t]);this.socketMsgQueue=[],this.emit("open")}onMessage(t){t&&t.data==="ping"?this.pong(t):this.emit("message",JSON.parse(t.data))}onError(t){this.emit("error",t)}onClose(t){this.emit("close",t),this.ws=null,this.socketOpen=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.stopHeartBeat(),this.shouldReconnect()&&!this.disableReconnect&&this.reconnect()}send(t){this.ws&&this.socketOpen?this.ws.send(JSON.stringify(t)):this.socketMsgQueue.push(t)}pong(){this.ws.send("pong")}sendHeartBeat(){this.disableHeartbeat||(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=setTimeout(()=>{this.send({type:"ping"}),this.sendHeartBeat(),this.emit("ping")},this.heartbeatInterval))}stopHeartBeat(){this.disableHeartbeat||clearTimeout(this.heartbeatTimer)}shouldReconnect(){const t=this.options.maxReconnectAttempts||1/0;return this.reconnectAttempts<t}reconnect(){this.reconnectTimer||(this.disableReconnect=!1,this.reconnectAttempts++,this.reconnectTimer=setTimeout(()=>{this.ws?(this.ws.close(),this.socketOpen=!1,this.ws=null):this.connect()},this.reconnectInterval))}close(t=!0){this.disableReconnect=t,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.ws&&this.ws.close()}emit(t,...n){this.events&&Array.isArray(this.events[t])&&this.events[t].forEach(o=>o(...n))}on(t,n){this.events||(this.events={}),this.events[t]||(this.events[t]=[]),this.events[t].push(n)}off(t,n){if(this.events&&Array.isArray(this.events[t]))if(!n)this.events[t]=[];else{const o=this.events[t].indexOf(n);o!==-1&&this.events[t].splice(o,1)}}}const Et=y(null),W=y(null),N=H({}),vs=()=>{async function e(a,i){let s=await ls({openid:a});s&&(Et.value=s.data.ws_url),W.value&&W.value.close(),W.value=new ps(Et.value,{disableHeartbeat:!0}),i&&i(),W.value.on("message",c=>{n("message",c)}),W.value.on("error",o)}function t(a,i){N[a]||(N[a]=[]),N[a].push(i)}function n(a,...i){N&&Array.isArray(N[a])&&N[a].forEach(s=>s(...i))}function o(a){console.log(a)}function r(){Object.keys(N).forEach(a=>{N[a]=[],delete N[a]}),W.value&&W.value.close()}return{connect:e,on:t,close:r}},ys=qe("chat",()=>{const e=en(),t=vs(),n=y([]);let o=null;const r=y(0),a=y(""),i=H({admin_user_id:"",avatar:"",id:"",name:"",nickname:"",openid:""}),s=H({id:null,library_ids:"",prompt:"",robot_avatar:"",robot_intro:"",robot_key:"",robot_name:"",openid:"",welcomes:{content:"",question:[]}}),c=H({headTitle:"WikiChat.com",headSubTitle:"Based on LLM, free and open-source.",headImage:qa,lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"}}),l=y(!1),f=async u=>{o&&(o.abort(),o=null),n.value=[],G.value=!1,A.value=!1,u.dialogue_id?(l.value=!1,r.value=u.dialogue_id):(l.value=!0,r.value=0),a.value=u.openid||es(),s.robot_key=u.robot_key,s.openid=a.value,i.openid=a.value,i.avatar=u.avatar||Ne,i.name=u.name||"",i.nickname=u.nickname||"";const v=await ds({robot_key:s.robot_key,openid:a.value,nickname:i.nickname,name:i.name,avatar:i.avatar||Ne});try{const O=v.data.customer,m=v.data.robot;return i.admin_user_id=O.admin_user_id,i.avatar=O.avatar,i.id=O.id,i.name=O.name,i.nickname=O.nickname,s.library_ids=m.library_ids,s.prompt=m.prompt,s.robot_avatar=m.robot_avatar,s.robot_intro=m.robot_intro,s.robot_key=m.robot_key,s.robot_name=m.robot_name,s.library_ids=m.library_ids,s.id=m.id,m.welcomes&&(s.welcomes=JSON.parse(m.welcomes)),m.external_config_pc&&Object.assign(c,JSON.parse(m.external_config_pc)),h(v.data.message),t.connect(a.value),t.on("message",d),v}catch(O){Promise.reject(O)}},d=u=>{u&&u.dialogue_id==r.value&&(u.uid=X(32),u.loading=!1,u.isWelcome=!0,u.avatar=s.robot_avatar,u.menu_json&&typeof u.menu_json=="string"&&(u.menu_json=JSON.parse(u.menu_json)),u.quote_file&&typeof u.quote_file=="string"&&(u.quote_file=JSON.parse(u.quote_file)),n.value.push(u))},h=u=>{u&&(u.uid=X(32),u.loading=!1,u.isWelcome=!0,u.avatar=s.robot_avatar,u.menu_json&&(u.menu_json=JSON.parse(u.menu_json)),u.quote_file&&(u.quote_file=JSON.parse(u.quote_file)),n.value.push(u))},p=u=>{u.uid=X(32),u.loading=!1,u.avatar=i.avatar,u.openid=i.openid,u.msg_type=1,u.is_customer=1,n.value.push(u)},b=u=>{n.value.push(u),e.emit("updateAiMessage",u)},w=(u,v,O)=>{const m=n.value.findIndex(S=>S.uid==O);if(u=="sending"){const S=n.value[m].content;n.value[m].content=S+v}if(u=="quote_file"&&(n.value[m].quote_file=v.length>0?v:[]),u=="ai_message"){if(v.menu_json&&v.msg_type==2){let S=JSON.parse(v.menu_json);n.value[m].content=S.content,n.value[m].menu_json=S}n.value[m].id=v.id}u=="debug"&&(n.value[m].debug=v.length>0?v:[]),e.emit("updateAiMessage",n.value[m])},C=()=>{const u=n.value.length-1;n.value[u].loading=!1},A=y(!1),D=u=>{if(A.value)return;const v={loading:!0,id:"",content:"",uid:X(32),avatar:s.robot_avatar,msg_type:1,quote_file:[],is_customer:0,debug:[]},O={robot_key:s.robot_key,openid:s.openid,question:u.message,prompt:s.prompt,library_ids:s.library_ids,dialogue_id:r.value};A.value=!0,o=us(O),o.onMessage=m=>{if(m.event=="dialogue_id"&&(r.value=m.data),m.event=="c_message"){const S=JSON.parse(m.data);p(S)}if(m.event=="robot"&&(b(v),l.value&&(l.value=!1)),m.event=="sending"&&w("sending",m.data,v.uid),m.event=="ai_message"){const S=JSON.parse(m.data);w("ai_message",S,v.uid)}if(m.event=="quote_file"){const S=JSON.parse(m.data);w("quote_file",S,v.uid)}if(m.event=="debug"){const S=JSON.parse(m.data);w("debug",S,v.uid)}},o.onClose=()=>{C(),A.value=!1,o=null}},V=25,I=y([]),x=y(!1),_=y(!1),k=async()=>{if(_.value||x.value)return!1;let u=0;I.value.length>0&&(u=I.value[I.value.length-1].id),x.value=!0;const v=await fs({min_id:u,size:V,robot_key:s.robot_key});x.value=!1;const O=v.data||[];return O.length===0?(_.value=!0,!1):(I.value=[...I.value,...O],v)},T=async u=>await f(u),re=20,G=y(!1),tn=async()=>{if(G.value)return;let u=0;const v=n.value.filter(m=>!m.isWelcome);v.length>0&&(u=v[0].id);const O={robot_key:s.robot_key,openid:i.openid,min_id:u,size:re,dialogue_id:r.value};try{const m=await hs(O),S=m.data.list||[];if(S.length===0){G.value=!0;return}return S.sort((L,an)=>L.id-an.id),S.forEach(L=>{L.loading=!1,L.uid=X(32),L.is_customer==1?L.avatar=i.avatar:L.avatar=s.robot_avatar,L.menu_json&&(L.menu_json=JSON.parse(L.menu_json)),L.quote_file&&(L.quote_file=JSON.parse(L.quote_file))}),n.value=[...S,...n.value],m}catch(m){Promise.reject(m)}},nn=u=>{s.prompt=u},on=()=>ms({id:s.id,prompt:s.prompt});function rn(){r.value=0,n.value=[],a.value="",i.admin_user_id="",i.avatar="",i.id="",i.name="",i.nickname="",i.openid="",s.id=null,s.library_ids="",s.prompt="",s.robot_avatar="",s.robot_intro="",s.robot_key="",s.robot_key="",s.robot_name="",s.openid="",s.welcomes={content:"",question:[]},l.value=!1,G.value=!1,A.value=!1,x.value=!1,_.value=!1,I.value=[]}return{$reset:rn,user:i,robot:s,dialogue_id:r,openid:a,sendLock:A,messageList:n,createChat:f,sendMessage:D,getMyChatList:k,myChatList:I,openChat:T,onGetChatMessage:tn,changeRobotPrompt:nn,saveRobotPrompt:on,externalConfigPC:c}});function bs(e){return{openid:e.openid||"",robot_key:e.robot_key||"",avatar:e.avatar||"",name:e.name||"",nickname:e.nickname||"",dialogue_id:e.dialogue_id||""}}function _s(e){return za.some(t=>t===e.name)}function ws(e){const t=ys();e.beforeEach(async(n,o,r)=>{const a=bs(n.query);if(_s(n))r();else if(t.robot.id)r();else try{await t.createChat(a),r()}catch(i){console.error("Failed to get robot info:",i)}})}const Ss=[{path:"/",name:"home",component:()=>be(()=>import("./index-02p41S6n.js"),__vite__mapDeps([7,1,8]),import.meta.url)},{path:"/chat",name:"chat",component:()=>be(()=>import("./index-o-SitOI7.js"),__vite__mapDeps([9,1,4,2,3,5,10]),import.meta.url)}],Be=_n({history:wn(),routes:Ss});async function Es(e){ws(Be),e.use(Be),await Be.isReady()}const Cs={class:"svg-action"},Os=["fill","width","height"],As=["xlink:href","fill"],ks=$({__name:"index",props:{name:{type:String,required:!0},size:{type:String,default:"1em"},width:{type:String},height:{type:String},color:{type:String,default:"currentColor"}},setup(e){const t=e,n=F(()=>`#${t.name}`),o=F(()=>t.width?t.width:t.size),r=F(()=>t.height?t.height:t.size);return(a,i)=>(Re(),Xe("span",Cs,[(Re(),Xe("svg",{"aria-hidden":"true",class:"svg-icon",fill:t.color,width:o.value,height:r.value},[Sn("use",{"xlink:href":n.value,fill:t.color},null,8,As)],8,Os))]))}}),Ts=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Is=Ts(ks,[["__scopeId","data-v-209a163b"]]),Ps=e=>{e.component("SvgIcon",Is)},xs=en();window.addEventListener("message",function(e){e.data.action==="openWindow"&&xs.emit("openWindow",e.data)});const Ls=async()=>{const e=xt(Ma);await $a(e),sr(e),Es(e),Go(e),Ps(e),e.mount("#app")};Ls();export{Fs as D,Ts as _,en as a,vs as b,zs as e,js as g,Yt as s,ys as u};
