const __vite__fileDeps=["./en-US-x_b6-lBE.js","./vue-chunks-CUHhAcAs.js","./axios-B4uVmeYG.js","./qs-DrHefV6n.js","./dayjs-C4iS2aBk.js","./crypto-js-BJ7SvduI.js","./zh-CN-DKtQiX-O.js","./index-Cnh_47pP.js","../css/index-cOql1q-t.css","./index-BUiQbEU6.js","../css/index-DoBCvwS7.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var As=Object.defineProperty;var Ps=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(Ps(e,typeof t!="symbol"?t+"":t,n),n);import{o as ri,a as pn,i as ks,w as G,r as N,b as mn,n as Be,c as si,u as Wn,d as Fe,g as gn,e as K,f as Te,h as D,j as lr,p as cr,k as Ds,l as Is,m as He,T as ur,q as dr,v as hr,s as Ls,F as fr,t as ai,x as Ns,y as li,z as Rs,A as st,B as ee,C as Mt,D as Ct,R as zs,E as qn,G as Pi,H as Ce,I as At,J as Ms,K as Bs,L as Ee,M as Fs,N as js,O as Hs,P as ki,Q as kn,S as ci,U as Vs,V as Ws,W as qs,X as Us}from"./vue-chunks-CUHhAcAs.js";import{a as Ys}from"./axios-B4uVmeYG.js";import{q as Xs}from"./qs-DrHefV6n.js";import"./dayjs-C4iS2aBk.js";import"./crypto-js-BJ7SvduI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol  fill="none" viewBox="0 0 16 16" id="close"><path fill="currentColor" d="M5.46 4.54a.65.65 0 0 0-.92.92L7.08 8l-2.54 2.54a.65.65 0 1 0 .92.92L8 8.92l2.54 2.54a.65.65 0 1 0 .92-.92L8.92 8l2.54-2.54a.65.65 0 1 0-.92-.92L8 7.08 5.46 4.54Z" data-follow-fill="#000" /></symbol><symbol fill="none"  viewBox="0 0 16 16" id="down-arrow"><path d="m12 6-4 4-4-4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" /></symbol><symbol fill="none"  viewBox="0 0 40 40" class="design-iconfont" id="paper-airplane-new-active"><path fill="url(#paper-airplane-new-active_a)" d="M20 0a20 20 0 1 0 0 40 20 20 0 1 0 0-40Z" /><path d="M20.997 10.248c.43.202.77.545.975.957l7.799 15.57c.536 1.105.099 2.438-.975 2.998a2.26 2.26 0 0 1-1.65.127l-5.502-1.703a1.208 1.208 0 0 1-.847-1.156c0-1.09-.8-6.766-.8-6.766s-.8 5.69-.8 6.762c0 .533-.346 1.003-.853 1.157l-5.521 1.68a2.184 2.184 0 0 1-2.725-1.486 2.134 2.134 0 0 1 .15-1.638l7.8-15.545c.55-1.086 1.874-1.523 2.949-.957Z" fill="#F5F9FF" /><defs><linearGradient id="paper-airplane-new-active_a" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#36ABFF" /><stop offset="1" stop-color="#2476FF" /></linearGradient></defs></symbol><symbol fill="none"  viewBox="0 0 40 40" class="design-iconfont" id="paper-airplane-new"><g opacity=".5"><path fill="url(#paper-airplane-new_a)" d="M20 0a20 20 0 1 0 0 40 20 20 0 1 0 0-40Z" /><path d="M20.997 10.248c.43.202.77.545.975.957l7.799 15.57c.536 1.105.099 2.438-.975 2.998a2.26 2.26 0 0 1-1.65.127l-5.502-1.703a1.208 1.208 0 0 1-.847-1.156c0-1.09-.8-6.766-.8-6.766s-.8 5.69-.8 6.762c0 .533-.346 1.003-.853 1.157l-5.521 1.68a2.184 2.184 0 0 1-2.725-1.486 2.134 2.134 0 0 1 .15-1.638l7.8-15.545c.55-1.086 1.874-1.523 2.949-.957Z" fill="#F5F9FF" /></g><defs><linearGradient id="paper-airplane-new_a" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#36ABFF" /><stop offset="1" stop-color="#2476FF" /></linearGradient></defs></symbol><symbol fill="none"  viewBox="0 0 20 20" id="paper-airplane"><path d="M17.5 3.333 12.543 17.5 9.71 11.125 3.334 8.292l14.167-4.959ZM17.5 3.333 9.71 11.125" stroke="currentColor" stroke-width="1.625" stroke-linecap="round" stroke-linejoin="round" /></symbol>',t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function Ks(){}const be=Object.assign,ui=typeof window<"u",vn=e=>e!==null&&typeof e=="object",Ae=e=>e!=null,Un=e=>typeof e=="function",Gs=e=>vn(e)&&Un(e.then)&&Un(e.catch),pr=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Zs=()=>ui?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Di(e,t){const n=t.split(".");let i=e;return n.forEach(o=>{var r;i=vn(i)&&(r=i[o])!=null?r:""}),i}function Qs(e,t,n){return t.reduce((i,o)=>(i[o]=e[o],i),{})}const en=null,Z=[Number,String],ze={type:Boolean,default:!0},Js=e=>({type:Number,default:e}),U=e=>({type:String,default:e});var di=typeof window<"u";function mr(e){let t;mn(()=>{e(),Be(()=>{t=!0})}),si(()=>{t&&e()})}function gr(e,t,n={}){if(!di)return;const{target:i=window,passive:o=!1,capture:r=!1}=n;let s=!1,a;const c=d=>{if(s)return;const h=Wn(d);h&&!a&&(h.addEventListener(e,t,{capture:r,passive:o}),a=!0)},l=d=>{if(s)return;const h=Wn(d);h&&a&&(h.removeEventListener(e,t,r),a=!1)};ri(()=>l(i)),pn(()=>l(i)),mr(()=>c(i));let u;return ks(i)&&(u=G(i,(d,h)=>{l(h),c(d)})),()=>{u==null||u(),l(i),s=!0}}var Bt,Dn;function ea(){if(!Bt&&(Bt=N(0),Dn=N(0),di)){const e=()=>{Bt.value=window.innerWidth,Dn.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Bt,height:Dn}}var ta=/scroll|auto|overlay/i,na=di?window:void 0;function ia(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function oa(e,t=na){let n=e;for(;n&&n!==t&&ia(n);){const{overflowY:i}=window.getComputedStyle(n);if(ta.test(i))return n;n=n.parentNode}return t}Zs();const ra=e=>e.stopPropagation();function hi(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&ra(e)}ea();function le(e){if(Ae(e))return pr(e)?`${e}px`:String(e)}function sa(e){if(Ae(e)){if(Array.isArray(e))return{width:le(e[0]),height:le(e[1])};const t=le(e);return{width:t,height:t}}}function aa(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const la=/-(\w)/g,vr=e=>e.replace(la,(t,n)=>n.toUpperCase()),ca=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:ua}=Object.prototype;function da(e,t,n){const i=t[n];Ae(i)&&(!ua.call(e,n)||!vn(i)?e[n]=i:e[n]=yr(Object(e[n]),i))}function yr(e,t){return Object.keys(t).forEach(n=>{da(e,t,n)}),e}var wr={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const Ii=N("zh-CN"),Li=Fe({"zh-CN":wr}),br={messages(){return Li[Ii.value]},use(e,t){Ii.value=e,this.add({[e]:t})},add(e={}){yr(Li,e)}};var ha=br;function fa(e){const t=vr(e)+".";return(n,...i)=>{const o=ha.messages(),r=Di(o,t+n)||Di(o,n);return Un(r)?r(...i):r}}function Yn(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,i)=>n+Yn(e,i),""):Object.keys(t).reduce((n,i)=>n+(t[i]?Yn(e,i):""),""):""}function pa(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${Yn(t,n)}`)}function ke(e){const t=`van-${e}`;return[t,pa(t),fa(t)]}const ma="van-hairline",ga=`${ma}--surround`,va="van-haptics-feedback",Ni=5;function ya(e,{args:t=[],done:n,canceled:i,error:o}){if(e){const r=e.apply(null,t);Gs(r)?r.then(s=>{s?n():i&&i()}).catch(o||Ks):r?n():i&&i()}else n()}function De(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(vr(`-${n}`),e))},e}const wa=Symbol();function _r(e){const t=gn();t&&be(t.proxy,e)}const ba={to:[String,Object],url:String,replace:Boolean};function _a({to:e,url:t,replace:n,$router:i}){e&&i?i[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Sa(){const e=gn().proxy;return()=>_a(e)}const[xa,Ri]=ke("badge"),Ea={dot:Boolean,max:Z,tag:U("div"),color:String,offset:Array,content:Z,showZero:ze,position:U("top-right")};var Ta=K({name:xa,props:Ea,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:a,showZero:c}=e;return Ae(a)&&a!==""&&(c||a!==0&&a!=="0")},i=()=>{const{dot:a,max:c,content:l}=e;if(!a&&n())return t.content?t.content():Ae(c)&&pr(l)&&+l>+c?`${c}+`:l},o=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,r=Te(()=>{const a={background:e.color};if(e.offset){const[c,l]=e.offset,{position:u}=e,[d,h]=u.split("-");t.default?(typeof l=="number"?a[d]=le(d==="top"?l:-l):a[d]=d==="top"?le(l):o(l),typeof c=="number"?a[h]=le(h==="left"?c:-c):a[h]=h==="left"?le(c):o(c)):(a.marginTop=le(l),a.marginLeft=le(c))}return a}),s=()=>{if(n()||e.dot)return D("div",{class:Ri([e.position,{dot:e.dot,fixed:!!t.default}]),style:r.value},[i()])};return()=>{if(t.default){const{tag:a}=e;return D(a,{class:Ri("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const $a=De(Ta);let Sr=2e3;const Oa=()=>++Sr,Ca=e=>{Sr=e},[xr,Aa]=ke("config-provider"),Er=Symbol(xr),Pa={tag:U("div"),theme:U("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:U("local"),iconPrefix:String};function ka(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function Da(e){const t={};return Object.keys(e).forEach(n=>{const i=ka(ca(n));t[`--van-${i}`]=e[n]}),t}function Ft(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var Ia=K({name:xr,props:Pa,setup(e,{slots:t}){const n=Te(()=>Da(be({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(ui){const i=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},o=(r=e.theme)=>{document.documentElement.classList.remove(`van-theme-${r}`)};G(()=>e.theme,(r,s)=>{s&&o(s),i()},{immediate:!0}),si(i),pn(o),lr(o),G(n,(r,s)=>{e.themeVarsScope==="global"&&Ft(r,s)}),G(()=>e.themeVarsScope,(r,s)=>{s==="global"&&Ft({},n.value),r==="global"&&Ft(n.value,{})}),e.themeVarsScope==="global"&&Ft(n.value,{})}return cr(Er,e),Ds(()=>{e.zIndex!==void 0&&Ca(e.zIndex)}),()=>D(e.tag,{class:Aa(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}});const[La,zi]=ke("icon"),Na=e=>e==null?void 0:e.includes("/"),Ra={dot:Boolean,tag:U("i"),name:String,size:Z,badge:Z,color:String,badgeProps:Object,classPrefix:String};var za=K({name:La,props:Ra,setup(e,{slots:t}){const n=Is(Er,null),i=Te(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||zi());return()=>{const{tag:o,dot:r,name:s,size:a,badge:c,color:l}=e,u=Na(s);return D($a,He({dot:r,tag:o,class:[i.value,u?"":`${i.value}-${s}`],style:{color:l,fontSize:le(a)},content:c},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),u&&D("img",{class:zi("image"),src:s},null)]}})}}});const yn=De(za),[Ma,bt]=ke("loading"),Ba=Array(12).fill(null).map((e,t)=>D("i",{class:bt("line",String(t+1))},null)),Fa=D("svg",{class:bt("circular"),viewBox:"25 25 50 50"},[D("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),ja={size:Z,type:U("circular"),color:String,vertical:Boolean,textSize:Z,textColor:String};var Ha=K({name:Ma,props:ja,setup(e,{slots:t}){const n=Te(()=>be({color:e.color},sa(e.size))),i=()=>{const r=e.type==="spinner"?Ba:Fa;return D("span",{class:bt("spinner",e.type),style:n.value},[t.icon?t.icon():r])},o=()=>{var r;if(t.default)return D("span",{class:bt("text"),style:{fontSize:le(e.textSize),color:(r=e.textColor)!=null?r:e.color}},[t.default()])};return()=>{const{type:r,vertical:s}=e;return D("div",{class:bt([r,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[i(),o()])}}});const Tr=De(Ha),[Va,Xe]=ke("button"),Wa=be({},ba,{tag:U("button"),text:String,icon:String,type:U("default"),size:U("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:U("button"),loadingSize:Z,loadingText:String,loadingType:String,iconPosition:U("left")});var qa=K({name:Va,props:Wa,emits:["click"],setup(e,{emit:t,slots:n}){const i=Sa(),o=()=>n.loading?n.loading():D(Tr,{size:e.loadingSize,type:e.loadingType,class:Xe("loading")},null),r=()=>{if(e.loading)return o();if(n.icon)return D("div",{class:Xe("icon")},[n.icon()]);if(e.icon)return D(yn,{name:e.icon,class:Xe("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let l;if(e.loading?l=e.loadingText:l=n.default?n.default():e.text,l)return D("span",{class:Xe("text")},[l])},a=()=>{const{color:l,plain:u}=e;if(l){const d={color:u?l:"white"};return u||(d.background=l),l.includes("gradient")?d.border=0:d.borderColor=l,d}},c=l=>{e.loading?hi(l):e.disabled||(t("click",l),i())};return()=>{const{tag:l,type:u,size:d,block:h,round:f,plain:p,square:m,loading:y,disabled:v,hairline:b,nativeType:_,iconPosition:x}=e,S=[Xe([u,d,{plain:p,block:h,round:f,square:m,loading:y,disabled:v,hairline:b}]),{[ga]:b}];return D(l,{type:_,class:S,style:a(),disabled:v,onClick:c},{default:()=>[D("div",{class:Xe("content")},[x==="left"&&r(),s(),x==="right"&&r()])]})}}});const Ua=De(qa),Ya={show:Boolean,zIndex:Z,overlay:ze,duration:Z,teleport:[String,Object],lockScroll:ze,lazyRender:ze,beforeClose:Function,overlayStyle:Object,overlayClass:en,transitionAppear:Boolean,closeOnClickOverlay:ze};function Xa(e,t){return e>t?"horizontal":t>e?"vertical":""}function Ka(){const e=N(0),t=N(0),n=N(0),i=N(0),o=N(0),r=N(0),s=N(""),a=N(!0),c=()=>s.value==="vertical",l=()=>s.value==="horizontal",u=()=>{n.value=0,i.value=0,o.value=0,r.value=0,s.value="",a.value=!0};return{move:f=>{const p=f.touches[0];n.value=(p.clientX<0?0:p.clientX)-e.value,i.value=p.clientY-t.value,o.value=Math.abs(n.value),r.value=Math.abs(i.value);const m=10;(!s.value||o.value<m&&r.value<m)&&(s.value=Xa(o.value,r.value)),a.value&&(o.value>Ni||r.value>Ni)&&(a.value=!1)},start:f=>{u(),e.value=f.touches[0].clientX,t.value=f.touches[0].clientY},reset:u,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:o,offsetY:r,direction:s,isVertical:c,isHorizontal:l,isTap:a}}let mt=0;const Mi="van-overflow-hidden";function Ga(e,t){const n=Ka(),i="01",o="10",r=u=>{n.move(u);const d=n.deltaY.value>0?o:i,h=oa(u.target,e.value),{scrollHeight:f,offsetHeight:p,scrollTop:m}=h;let y="11";m===0?y=p>=f?"00":"01":m+p>=f&&(y="10"),y!=="11"&&n.isVertical()&&!(parseInt(y,2)&parseInt(d,2))&&hi(u,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,{passive:!1}),mt||document.body.classList.add(Mi),mt++},a=()=>{mt&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),mt--,mt||document.body.classList.remove(Mi))},c=()=>t()&&s(),l=()=>t()&&a();mr(c),pn(l),lr(l),G(t,u=>{u?s():a()})}function $r(e){const t=N(!1);return G(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const Bi=()=>{var e;const{scopeId:t}=((e=gn())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[Za,Qa]=ke("overlay"),Ja={show:Boolean,zIndex:Z,duration:Z,className:en,lockScroll:ze,lazyRender:ze,customStyle:Object};var el=K({name:Za,props:Ja,setup(e,{slots:t}){const n=N(),i=$r(()=>e.show||!e.lazyRender),o=s=>{e.lockScroll&&hi(s,!0)},r=i(()=>{var s;const a=be(aa(e.zIndex),e.customStyle);return Ae(e.duration)&&(a.animationDuration=`${e.duration}s`),dr(D("div",{ref:n,style:a,class:[Qa(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[hr,e.show]])});return gr("touchmove",o,{target:n}),()=>D(ur,{name:"van-fade",appear:!0},{default:r})}});const tl=De(el),nl=be({},Ya,{round:Boolean,position:U("center"),closeIcon:U("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:U("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[il,Fi]=ke("popup");var ol=K({name:il,inheritAttrs:!1,props:nl,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:i}){let o,r;const s=N(),a=N(),c=$r(()=>e.show||!e.lazyRender),l=Te(()=>{const w={zIndex:s.value};if(Ae(e.duration)){const E=e.position==="center"?"animationDuration":"transitionDuration";w[E]=`${e.duration}s`}return w}),u=()=>{o||(o=!0,s.value=e.zIndex!==void 0?+e.zIndex:Oa(),t("open"))},d=()=>{o&&ya(e.beforeClose,{done(){o=!1,t("close"),t("update:show",!1)}})},h=w=>{t("clickOverlay",w),e.closeOnClickOverlay&&d()},f=()=>{if(e.overlay)return D(tl,He({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},Bi(),{onClick:h}),{default:i["overlay-content"]})},p=w=>{t("clickCloseIcon",w),d()},m=()=>{if(e.closeable)return D(yn,{role:"button",tabindex:0,name:e.closeIcon,class:[Fi("close-icon",e.closeIconPosition),va],classPrefix:e.iconPrefix,onClick:p},null)};let y;const v=()=>{y&&clearTimeout(y),y=setTimeout(()=>{t("opened")})},b=()=>t("closed"),_=w=>t("keydown",w),x=c(()=>{var w;const{round:E,position:P,safeAreaInsetTop:R,safeAreaInsetBottom:C}=e;return dr(D("div",He({ref:a,style:l.value,role:"dialog",tabindex:0,class:[Fi({round:E,[P]:P}),{"van-safe-area-top":R,"van-safe-area-bottom":C}],onKeydown:_},n,Bi()),[(w=i.default)==null?void 0:w.call(i),m()]),[[hr,e.show]])}),S=()=>{const{position:w,transition:E,transitionAppear:P}=e,R=w==="center"?"van-fade":`van-popup-slide-${w}`;return D(ur,{name:E||R,appear:P,onAfterEnter:v,onAfterLeave:b},{default:x})};return G(()=>e.show,w=>{w&&!o&&(u(),n.tabindex===0&&Be(()=>{var E;(E=a.value)==null||E.focus()})),!w&&o&&(o=!1,t("close"))}),_r({popupRef:a}),Ga(a,()=>e.show&&e.lockScroll),gr("popstate",()=>{e.closeOnPopstate&&(d(),r=!1)}),mn(()=>{e.show&&u()}),si(()=>{r&&(t("update:show",!0),r=!1)}),pn(()=>{e.show&&e.teleport&&(d(),r=!0)}),cr(wa,()=>e.show),()=>e.teleport?D(Ls,{to:e.teleport},{default:()=>[f(),S()]}):D(fr,null,[f(),S()])}});const rl=De(ol);let gt=0;function sl(e){e?(gt||document.body.classList.add("van-toast--unclickable"),gt++):gt&&(gt--,gt||document.body.classList.remove("van-toast--unclickable"))}const[al,Ke]=ke("toast"),ll=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],cl={icon:String,show:Boolean,type:U("text"),overlay:Boolean,message:Z,iconSize:Z,duration:Js(2e3),position:U("middle"),teleport:[String,Object],wordBreak:String,className:en,iconPrefix:String,transition:U("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:en,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Z};var Or=K({name:al,props:cl,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,o=!1;const r=()=>{const d=e.show&&e.forbidClick;o!==d&&(o=d,sl(o))},s=d=>t("update:show",d),a=()=>{e.closeOnClick&&s(!1)},c=()=>clearTimeout(i),l=()=>{const{icon:d,type:h,iconSize:f,iconPrefix:p,loadingType:m}=e;if(d||h==="success"||h==="fail")return D(yn,{name:d||h,size:f,class:Ke("icon"),classPrefix:p},null);if(h==="loading")return D(Tr,{class:Ke("loading"),size:f,type:m},null)},u=()=>{const{type:d,message:h}=e;if(n.message)return D("div",{class:Ke("text")},[n.message()]);if(Ae(h)&&h!=="")return d==="html"?D("div",{key:0,class:Ke("text"),innerHTML:String(h)},null):D("div",{class:Ke("text")},[h])};return G(()=>[e.show,e.forbidClick],r),G(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(i=setTimeout(()=>{s(!1)},e.duration))}),mn(r),ri(r),()=>D(rl,He({class:[Ke([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":s},Qs(e,ll)),{default:()=>[l(),u()]})}});function ul(){const e=Fe({show:!1}),t=o=>{e.show=o},n=o=>{be(e,o,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return _r({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function dl(e){const t=ai(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const hl={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let jt=[],fl=!1,ji=be({},hl);const pl=new Map;function ml(e){return vn(e)?e:{message:e}}function gl(){const{instance:e,unmount:t}=dl({setup(){const n=N(""),{open:i,state:o,close:r,toggle:s}=ul(),a=()=>{},c=()=>D(Or,He(o,{onClosed:a,"onUpdate:show":s}),null);return G(n,l=>{o.message=l}),gn().render=c,{open:i,close:r,message:n}}});return e}function vl(){if(!jt.length||fl){const e=gl();jt.push(e)}return jt[jt.length-1]}function Cr(e={}){if(!ui)return{};const t=vl(),n=ml(e);return t.open(be({},ji,pl.get(n.type||ji.type),n)),t}De(Or);const yl=De(Ia),wl=e=>{e.use(yl),e.use(Ua),e.use(yn)},bl="modulepreload",_l=function(e,t){return new URL(e,t).href},Hi={},tn=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(n.map(c=>{if(c=_l(c,i),c in Hi)return;Hi[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!i)for(let f=r.length-1;f>=0;f--){const p=r[f];if(p.href===c&&(!l||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":bl,l||(h.as="script",h.crossOrigin=""),h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),l)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}return o.then(()=>t()).catch(r=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r})},Sl=(e,t,n)=>{const i=e[t];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((o,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function xl(e){return typeof e=="object"&&e!==null}function Vi(e,t){return e=xl(e)?e:Object.create(null),new Proxy(e,{get(n,i,o){return i==="key"?Reflect.get(n,i,o):Reflect.get(n,i,o)||Reflect.get(t,i,o)}})}function El(e,t){return t.reduce((n,i)=>n==null?void 0:n[i],e)}function Tl(e,t,n){return t.slice(0,-1).reduce((i,o)=>/^(__proto__)$/.test(o)?{}:i[o]=i[o]||{},e)[t[t.length-1]]=n,e}function $l(e,t){return t.reduce((n,i)=>{const o=i.split(".");return Tl(n,o,El(e,o))},{})}function Ol(e,t){return n=>{var i;try{const{storage:o=localStorage,beforeRestore:r=void 0,afterRestore:s=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:u=!1}=n;return{storage:o,beforeRestore:r,afterRestore:s,serializer:a,key:((i=e.key)!=null?i:d=>d)(typeof c=="string"?c:c(t.$id)),paths:l,debug:u}}catch(o){return n.debug&&console.error("[pinia-plugin-persistedstate]",o),null}}}function Wi(e,{storage:t,serializer:n,key:i,debug:o}){try{const r=t==null?void 0:t.getItem(i);r&&e.$patch(n==null?void 0:n.deserialize(r))}catch(r){o&&console.error("[pinia-plugin-persistedstate]",r)}}function qi(e,{storage:t,serializer:n,key:i,paths:o,debug:r}){try{const s=Array.isArray(o)?$l(e,o):e;t.setItem(i,n.serialize(s))}catch(s){r&&console.error("[pinia-plugin-persistedstate]",s)}}function Cl(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:i=n},store:o,pinia:r}=t;if(!i)return;if(!(o.$id in r.state.value)){const a=r._s.get(o.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const s=(Array.isArray(i)?i.map(a=>Vi(a,e)):[Vi(i,e)]).map(Ol(e,o)).filter(Boolean);o.$persist=()=>{s.forEach(a=>{qi(o.$state,a)})},o.$hydrate=({runHooks:a=!0}={})=>{s.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;a&&(l==null||l(t)),Wi(o,c),a&&(u==null||u(t))})},s.forEach(a=>{const{beforeRestore:c,afterRestore:l}=a;c==null||c(t),Wi(o,a),l==null||l(t),o.$subscribe((u,d)=>{qi(d,a)},{detached:!0})})}}const fi=Ns();fi.use(Cl({key:e=>`__persisted__${e}`,auto:!1}));const Al=e=>{e.use(fi)};var Pl={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const kl=({prefixKey:e="chatwiki::pc::",storage:t=localStorage}={})=>{const n=class{constructor(){ve(this,"storage",t);ve(this,"prefixKey",e)}getKey(i){return`${this.prefixKey}${i}`.toUpperCase()}set(i,o,r=null){const s=JSON.stringify({value:o,expire:r!==null?new Date().getTime()+r*1e3:null});this.storage.setItem(this.getKey(i),s)}get(i,o=null){const r=this.storage.getItem(this.getKey(i));if(r)try{const s=JSON.parse(r),{value:a,expire:c}=s;if(c===null||c>=Date.now())return a;this.remove(this.getKey(i))}catch{return o}return o}remove(i){console.log("remove:",i),this.storage.removeItem(this.getKey(i))}clear(){this.storage.clear()}setCookie(i,o,r=null){document.cookie=`${this.getKey(i)}=${o}; Max-Age=${r}`}getCookie(i){const o=document.cookie.split("; ");for(let r=0,s=o.length;r<s;r++){const a=o[r].split("=");if(a[0]===this.getKey(i))return a[1]}return""}removeCookie(i){this.setCookie(i,1,-1)}clearCookie(){const i=document.cookie.match(/[^ =;]+(?==)/g);if(i)for(let o=i.length;o--;)document.cookie=`${i[o]}=0;expire=${new Date(0).toUTCString()}`}};return new n},_t=kl(),Ui={"zh-CN":wr,"en-US":Pl},Dl=li("locales",{state:()=>({currentLocale:{lang:_t.get("lang")||"zh-CN",vantLocale:Ui[_t.get("lang")||"zh-CN"]},localeMap:[{lang:"zh-CN",name:"简体中文"},{lang:"en-US",name:"English"}]}),getters:{getCurrentLocale(){return this.currentLocale},getLocaleMap(){return this.localeMap}},actions:{setCurrentLocale(e){this.currentLocale.lang=e==null?void 0:e.lang,this.currentLocale.vantLocale=Ui[e==null?void 0:e.lang],br.use(e==null?void 0:e.lang,this.currentLocale.vantLocale),_t.set("lang",e==null?void 0:e.lang)}}}),Ar=()=>Dl(fi);var Il=typeof global=="object"&&global&&global.Object===Object&&global,Ll=typeof self=="object"&&self&&self.Object===Object&&self,pi=Il||Ll||Function("return this")(),at=pi.Symbol,Pr=Object.prototype,Nl=Pr.hasOwnProperty,Rl=Pr.toString,vt=at?at.toStringTag:void 0;function zl(e){var t=Nl.call(e,vt),n=e[vt];try{e[vt]=void 0;var i=!0}catch{}var o=Rl.call(e);return i&&(t?e[vt]=n:delete e[vt]),o}var Ml=Object.prototype,Bl=Ml.toString;function Fl(e){return Bl.call(e)}var jl="[object Null]",Hl="[object Undefined]",Yi=at?at.toStringTag:void 0;function kr(e){return e==null?e===void 0?Hl:jl:Yi&&Yi in Object(e)?zl(e):Fl(e)}function Vl(e){return e!=null&&typeof e=="object"}var Wl="[object Symbol]";function mi(e){return typeof e=="symbol"||Vl(e)&&kr(e)==Wl}function ql(e,t){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}var gi=Array.isArray,Ul=1/0,Xi=at?at.prototype:void 0,Ki=Xi?Xi.toString:void 0;function Dr(e){if(typeof e=="string")return e;if(gi(e))return ql(e,Dr)+"";if(mi(e))return Ki?Ki.call(e):"";var t=e+"";return t=="0"&&1/e==-Ul?"-0":t}function nn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yl="[object AsyncFunction]",Xl="[object Function]",Kl="[object GeneratorFunction]",Gl="[object Proxy]";function Zl(e){if(!nn(e))return!1;var t=kr(e);return t==Xl||t==Kl||t==Yl||t==Gl}var In=pi["__core-js_shared__"],Gi=function(){var e=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ql(e){return!!Gi&&Gi in e}var Jl=Function.prototype,ec=Jl.toString;function tc(e){if(e!=null){try{return ec.call(e)}catch{}try{return e+""}catch{}}return""}var nc=/[\\^$.*+?()[\]{}|]/g,ic=/^\[object .+?Constructor\]$/,oc=Function.prototype,rc=Object.prototype,sc=oc.toString,ac=rc.hasOwnProperty,lc=RegExp("^"+sc.call(ac).replace(nc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cc(e){if(!nn(e)||Ql(e))return!1;var t=Zl(e)?lc:ic;return t.test(tc(e))}function uc(e,t){return e==null?void 0:e[t]}function vi(e,t){var n=uc(e,t);return cc(n)?n:void 0}var Zi=function(){try{var e=vi(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dc=9007199254740991,hc=/^(?:0|[1-9]\d*)$/;function fc(e,t){var n=typeof e;return t=t??dc,!!t&&(n=="number"||n!="symbol"&&hc.test(e))&&e>-1&&e%1==0&&e<t}function pc(e,t,n){t=="__proto__"&&Zi?Zi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ir(e,t){return e===t||e!==e&&t!==t}var mc=Object.prototype,gc=mc.hasOwnProperty;function vc(e,t,n){var i=e[t];(!(gc.call(e,t)&&Ir(i,n))||n===void 0&&!(t in e))&&pc(e,t,n)}var yc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wc=/^\w*$/;function bc(e,t){if(gi(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||mi(e)?!0:wc.test(e)||!yc.test(e)||t!=null&&e in Object(t)}var Pt=vi(Object,"create");function _c(){this.__data__=Pt?Pt(null):{},this.size=0}function Sc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var xc="__lodash_hash_undefined__",Ec=Object.prototype,Tc=Ec.hasOwnProperty;function $c(e){var t=this.__data__;if(Pt){var n=t[e];return n===xc?void 0:n}return Tc.call(t,e)?t[e]:void 0}var Oc=Object.prototype,Cc=Oc.hasOwnProperty;function Ac(e){var t=this.__data__;return Pt?t[e]!==void 0:Cc.call(t,e)}var Pc="__lodash_hash_undefined__";function kc(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pt&&t===void 0?Pc:t,this}function Ve(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ve.prototype.clear=_c;Ve.prototype.delete=Sc;Ve.prototype.get=$c;Ve.prototype.has=Ac;Ve.prototype.set=kc;function Dc(){this.__data__=[],this.size=0}function wn(e,t){for(var n=e.length;n--;)if(Ir(e[n][0],t))return n;return-1}var Ic=Array.prototype,Lc=Ic.splice;function Nc(e){var t=this.__data__,n=wn(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Lc.call(t,n,1),--this.size,!0}function Rc(e){var t=this.__data__,n=wn(t,e);return n<0?void 0:t[n][1]}function zc(e){return wn(this.__data__,e)>-1}function Mc(e,t){var n=this.__data__,i=wn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function ht(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ht.prototype.clear=Dc;ht.prototype.delete=Nc;ht.prototype.get=Rc;ht.prototype.has=zc;ht.prototype.set=Mc;var Bc=vi(pi,"Map");function Fc(){this.size=0,this.__data__={hash:new Ve,map:new(Bc||ht),string:new Ve}}function jc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function bn(e,t){var n=e.__data__;return jc(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Hc(e){var t=bn(this,e).delete(e);return this.size-=t?1:0,t}function Vc(e){return bn(this,e).get(e)}function Wc(e){return bn(this,e).has(e)}function qc(e,t){var n=bn(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function Ue(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ue.prototype.clear=Fc;Ue.prototype.delete=Hc;Ue.prototype.get=Vc;Ue.prototype.has=Wc;Ue.prototype.set=qc;var Uc="Expected a function";function yi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Uc);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(yi.Cache||Ue),n}yi.Cache=Ue;var Yc=500;function Xc(e){var t=yi(e,function(i){return n.size===Yc&&n.clear(),i}),n=t.cache;return t}var Kc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gc=/\\(\\)?/g,Zc=Xc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Kc,function(n,i,o,r){t.push(o?r.replace(Gc,"$1"):i||n)}),t});function Qc(e){return e==null?"":Dr(e)}function Jc(e,t){return gi(e)?e:bc(e,t)?[e]:Zc(Qc(e))}var eu=1/0;function tu(e){if(typeof e=="string"||mi(e))return e;var t=e+"";return t=="0"&&1/e==-eu?"-0":t}function nu(e,t,n,i){if(!nn(e))return e;t=Jc(t,e);for(var o=-1,r=t.length,s=r-1,a=e;a!=null&&++o<r;){var c=tu(t[o]),l=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var u=a[c];l=void 0,l===void 0&&(l=nn(u)?u:fc(t[o+1])?[]:{})}vc(a,c,l),a=a[c]}return e}function Ln(e,t,n){return e==null?e:nu(e,t,n)}const iu=e=>{var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)};function gm(e,t="lang"){const n={};return Object.keys(e).forEach(i=>{const o=e[i].default;let r=i.replace(`./${t}/`,"").replace(/^\.\//,"");const s=r.lastIndexOf(".");r=r.substring(0,s);const a=r.split("/"),c=a.shift(),l=a.join(".");c&&(l?(Ln(n,c,n[c]||{}),Ln(n[c],l,o)):Ln(n,c,o||{}))}),n}let on;const ou=async()=>{const e=Ar(),t=e.getCurrentLocale,n=e.getLocaleMap,o=(await Sl(Object.assign({"./lang/en-US.ts":()=>tn(()=>import("./en-US-x_b6-lBE.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),"./lang/zh-CN.ts":()=>tn(()=>import("./zh-CN-DKtQiX-O.js"),__vite__mapDeps([6,1,2,3,4,5]),import.meta.url)}),`./lang/${t.lang}.ts`,3)).default??{};return iu(t.lang),e.setCurrentLocale({lang:t.lang}),{legacy:!1,locale:t.lang,fallbackLocale:t.lang,messages:{[t.lang]:o},availableLocales:n.map(r=>r.lang),sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}},ru=async e=>{const t=await ou();on=Rs(t),e.use(on)},su=K({__name:"App",setup(e){return(t,n)=>{const i=st("van-config-provider");return ee(),Mt(i,{theme:"light"},{default:Ct(()=>[D(Wn(zs))]),_:1})}}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qi(Object(n),!0).forEach(function(i){cu(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Xn(e){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(e)}function au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Lr(i.key),i)}}function lu(e,t,n){return t&&Ji(e.prototype,t),n&&Ji(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cu(e,t,n){return t=Lr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e){var t=uu(e,"string");return typeof t=="symbol"?t:String(t)}var eo={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},du='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',_n=typeof window<"u"&&typeof window.document<"u",we=_n?window:{},it=_n&&we.document.documentElement?"ontouchstart"in we.document.documentElement:!1,bi=_n?"PointerEvent"in we:!1,A="viewer",Gt="move",Nr="switch",wt="zoom",Ht="".concat(A,"-active"),hu="".concat(A,"-close"),Zt="".concat(A,"-fade"),Kn="".concat(A,"-fixed"),fu="".concat(A,"-fullscreen"),to="".concat(A,"-fullscreen-exit"),Re="".concat(A,"-hide"),pu="".concat(A,"-hide-md-down"),mu="".concat(A,"-hide-sm-down"),gu="".concat(A,"-hide-xs-down"),ne="".concat(A,"-in"),St="".concat(A,"-invisible"),ot="".concat(A,"-loading"),vu="".concat(A,"-move"),no="".concat(A,"-open"),Ge="".concat(A,"-show"),H="".concat(A,"-transition"),lt="click",Gn="dblclick",io="dragstart",oo="focusin",ro="keydown",ie="load",je="error",yu=it?"touchend touchcancel":"mouseup",wu=it?"touchmove":"mousemove",bu=it?"touchstart":"mousedown",so=bi?"pointerdown":bu,ao=bi?"pointermove":wu,lo=bi?"pointerup pointercancel":yu,co="resize",ae="transitionend",uo="wheel",ho="ready",fo="show",po="shown",mo="hide",go="hidden",vo="view",kt="viewed",yo="move",wo="moved",bo="rotate",_o="rotated",So="scale",xo="scaled",Eo="zoom",To="zoomed",$o="play",Oo="stop",rn="".concat(A,"Action"),_i=/\s\s*/,Vt=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Dt(e){return typeof e=="string"}var _u=Number.isNaN||we.isNaN;function j(e){return typeof e=="number"&&!_u(e)}function Je(e){return typeof e>"u"}function ct(e){return Xn(e)==="object"&&e!==null}var Su=Object.prototype.hasOwnProperty;function et(e){if(!ct(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&Su.call(n,"isPrototypeOf")}catch{return!1}}function z(e){return typeof e=="function"}function B(e,t){if(e&&z(t))if(Array.isArray(e)||j(e.length)){var n=e.length,i;for(i=0;i<n&&t.call(e,e[i],i,e)!==!1;i+=1);}else ct(e)&&Object.keys(e).forEach(function(o){t.call(e,e[o],o,e)});return e}var J=Object.assign||function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return ct(t)&&i.length>0&&i.forEach(function(r){ct(r)&&Object.keys(r).forEach(function(s){t[s]=r[s]})}),t},xu=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ue(e,t){var n=e.style;B(t,function(i,o){xu.test(o)&&j(i)&&(i+="px"),n[o]=i})}function Eu(e){return Dt(e)?e.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function Ze(e,t){return!e||!t?!1:e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function T(e,t){if(!(!e||!t)){if(j(e.length)){B(e,function(i){T(i,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function L(e,t){if(!(!e||!t)){if(j(e.length)){B(e,function(n){L(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function It(e,t,n){if(t){if(j(e.length)){B(e,function(i){It(i,t,n)});return}n?T(e,t):L(e,t)}}var Tu=/([a-z\d])([A-Z])/g;function Si(e){return e.replace(Tu,"$1-$2").toLowerCase()}function tt(e,t){return ct(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Si(t)))}function Zn(e,t,n){ct(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Si(t)),n)}var Rr=function(){var e=!1;if(_n){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(r){t=r}});we.addEventListener("test",n,i),we.removeEventListener("test",n,i)}return e}();function M(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n;t.trim().split(_i).forEach(function(r){if(!Rr){var s=e.listeners;s&&s[r]&&s[r][n]&&(o=s[r][n],delete s[r][n],Object.keys(s[r]).length===0&&delete s[r],Object.keys(s).length===0&&delete e.listeners)}e.removeEventListener(r,o,i)})}function $(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n;t.trim().split(_i).forEach(function(r){if(i.once&&!Rr){var s=e.listeners,a=s===void 0?{}:s;o=function(){delete a[r][n],e.removeEventListener(r,o,i);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];n.apply(e,u)},a[r]||(a[r]={}),a[r][n]&&e.removeEventListener(r,a[r][n],i),a[r][n]=o,e.listeners=a}e.addEventListener(r,o,i)})}function V(e,t,n,i){var o;return z(Event)&&z(CustomEvent)?o=new CustomEvent(t,wi({bubbles:!0,cancelable:!0,detail:n},i)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(o)}function $u(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function Qt(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,o=e.translateX,r=e.translateY,s=[];j(o)&&o!==0&&s.push("translateX(".concat(o,"px)")),j(r)&&r!==0&&s.push("translateY(".concat(r,"px)")),j(t)&&t!==0&&s.push("rotate(".concat(t,"deg)")),j(n)&&n!==1&&s.push("scaleX(".concat(n,")")),j(i)&&i!==1&&s.push("scaleY(".concat(i,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function Ou(e){return Dt(e)?decodeURIComponent(e.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Nn=we.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(we.navigator.userAgent);function zr(e,t,n){var i=document.createElement("img");if(e.naturalWidth&&!Nn)return n(e.naturalWidth,e.naturalHeight),i;var o=document.body||document.documentElement;return i.onload=function(){n(i.width,i.height),Nn||o.removeChild(i)},B(t.inheritedAttributes,function(r){var s=e.getAttribute(r);s!==null&&i.setAttribute(r,s)}),i.src=e.src,Nn||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(i)),i}function Wt(e){switch(e){case 2:return gu;case 3:return mu;case 4:return pu;default:return""}}function Cu(e){var t=wi({},e),n=[];return B(e,function(i,o){delete t[o],B(t,function(r){var s=Math.abs(i.startX-r.startX),a=Math.abs(i.startY-r.startY),c=Math.abs(i.endX-r.endX),l=Math.abs(i.endY-r.endY),u=Math.sqrt(s*s+a*a),d=Math.sqrt(c*c+l*l),h=(d-u)/u;n.push(h)})}),n.sort(function(i,o){return Math.abs(i)<Math.abs(o)}),n[0]}function qt(e,t){var n=e.pageX,i=e.pageY,o={endX:n,endY:i};return t?o:wi({timeStamp:Date.now(),startX:n,startY:i},o)}function Au(e){var t=0,n=0,i=0;return B(e,function(o){var r=o.startX,s=o.startY;t+=r,n+=s,i+=1}),t/=i,n/=i,{pageX:t,pageY:n}}var Pu={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var t=this.element.ownerDocument,n=t.body||t.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-t.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var t=this.options,n=this.parent,i;t.inline&&(i={width:Math.max(n.offsetWidth,t.minWidth),height:Math.max(n.offsetHeight,t.minHeight)},this.parentData=i),(this.fulled||!i)&&(i=this.containerData),this.viewerData=J({},i)},renderViewer:function(){this.options.inline&&!this.fulled&&ue(this.viewer,this.viewerData)},initList:function(){var t=this,n=this.element,i=this.options,o=this.list,r=[];o.innerHTML="",B(this.images,function(s,a){var c=s.src,l=s.alt||Ou(c),u=t.getImageURL(s);if(c||u){var d=document.createElement("li"),h=document.createElement("img");B(i.inheritedAttributes,function(f){var p=s.getAttribute(f);p!==null&&h.setAttribute(f,p)}),i.navbar&&(h.src=c||u),h.alt=l,h.setAttribute("data-original-url",u||c),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),i.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),o.appendChild(d),r.push(d)}}),this.items=r,B(r,function(s){var a=s.firstElementChild,c,l;Zn(a,"filled",!0),i.loading&&T(s,ot),$(a,ie,c=function(d){M(a,je,l),i.loading&&L(s,ot),t.loadImage(d)},{once:!0}),$(a,je,l=function(){M(a,ie,c),i.loading&&L(s,ot)},{once:!0})}),i.transition&&$(n,kt,function(){T(o,H)},{once:!0})},renderList:function(){var t=this.index,n=this.items[t];if(n){var i=n.nextElementSibling,o=parseInt(window.getComputedStyle(i||n).marginLeft,10),r=n.offsetWidth,s=r+o;ue(this.list,J({width:s*this.length-o},Qt({translateX:(this.viewerData.width-r)/2-s*t})))}},resetList:function(){var t=this.list;t.innerHTML="",L(t,H),ue(t,Qt({translateX:0}))},initImage:function(t){var n=this,i=this.options,o=this.image,r=this.viewerData,s=this.footer.offsetHeight,a=r.width,c=Math.max(r.height-s,s),l=this.imageData||{},u;this.imageInitializing={abort:function(){u.onload=null}},u=zr(o,i,function(d,h){var f=d/h,p=Math.max(0,Math.min(1,i.initialCoverage)),m=a,y=c;n.imageInitializing=!1,c*f>a?y=a/f:m=c*f,p=j(p)?p:.9,m=Math.min(m*p,d),y=Math.min(y*p,h);var v=(a-m)/2,b=(c-y)/2,_={left:v,top:b,x:v,y:b,width:m,height:y,oldRatio:1,ratio:m/d,aspectRatio:f,naturalWidth:d,naturalHeight:h},x=J({},_);i.rotatable&&(_.rotate=l.rotate||0,x.rotate=0),i.scalable&&(_.scaleX=l.scaleX||1,_.scaleY=l.scaleY||1,x.scaleX=1,x.scaleY=1),n.imageData=_,n.initialImageData=x,t&&t()})},renderImage:function(t){var n=this,i=this.image,o=this.imageData;if(ue(i,J({width:o.width,height:o.height,marginLeft:o.x,marginTop:o.y},Qt(o))),t)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Ze(i,H)){var r=function(){n.imageRendering=!1,t()};this.imageRendering={abort:function(){M(i,ae,r)}},$(i,ae,r,{once:!0})}else t()},resetImage:function(){var t=this.image;t&&(this.viewing&&this.viewing.abort(),t.parentNode.removeChild(t),this.image=null,this.title.innerHTML="")}},ku={bind:function(){var t=this.options,n=this.viewer,i=this.canvas,o=this.element.ownerDocument;$(n,lt,this.onClick=this.click.bind(this)),$(n,io,this.onDragStart=this.dragstart.bind(this)),$(i,so,this.onPointerDown=this.pointerdown.bind(this)),$(o,ao,this.onPointerMove=this.pointermove.bind(this)),$(o,lo,this.onPointerUp=this.pointerup.bind(this)),$(o,ro,this.onKeyDown=this.keydown.bind(this)),$(window,co,this.onResize=this.resize.bind(this)),t.zoomable&&t.zoomOnWheel&&$(n,uo,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleOnDblclick&&$(i,Gn,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var t=this.options,n=this.viewer,i=this.canvas,o=this.element.ownerDocument;M(n,lt,this.onClick),M(n,io,this.onDragStart),M(i,so,this.onPointerDown),M(o,ao,this.onPointerMove),M(o,lo,this.onPointerUp),M(o,ro,this.onKeyDown),M(window,co,this.onResize),t.zoomable&&t.zoomOnWheel&&M(n,uo,this.onWheel,{passive:!1,capture:!0}),t.toggleOnDblclick&&M(i,Gn,this.onDblclick)}},Du={click:function(t){var n=this.options,i=this.imageData,o=t.target,r=tt(o,rn);switch(!r&&o.localName==="img"&&o.parentElement.localName==="li"&&(o=o.parentElement,r=tt(o,rn)),it&&t.isTrusted&&o===this.canvas&&clearTimeout(this.clickCanvasTimeout),r){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(tt(o,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-i.scaleX||-1);break;case"flip-vertical":this.scaleY(-i.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(t){t.preventDefault(),this.viewed&&t.target===this.image&&(it&&t.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(t.isTrusted?t:t.detail&&t.detail.originalEvent))},load:function(){var t=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,i=this.options,o=this.image,r=this.index,s=this.viewerData;L(o,St),i.loading&&L(this.canvas,ot),o.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){It(o,vu,i.movable),It(o,H,i.transition),t.renderImage(function(){t.viewed=!0,t.viewing=!1,z(i.viewed)&&$(n,kt,i.viewed,{once:!0}),V(n,kt,{originalImage:t.images[r],index:r,image:o},{cancelable:!1})})})},loadImage:function(t){var n=t.target,i=n.parentNode,o=i.offsetWidth||30,r=i.offsetHeight||50,s=!!tt(n,"filled");zr(n,this.options,function(a,c){var l=a/c,u=o,d=r;r*l>o?s?u=r*l:d=o/l:s?d=o/l:u=r*l,ue(n,J({width:u,height:d},Qt({translateX:(o-u)/2,translateY:(r-d)/2})))})},keydown:function(t){var n=this.options;if(n.keyboard){var i=t.keyCode||t.which||t.charCode;switch(i){case 13:this.viewer.contains(t.target)&&this.click(t);break}if(this.fulled)switch(i){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:t.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:t.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:t.ctrlKey&&(t.preventDefault(),this.toggle());break}}},dragstart:function(t){t.target.localName==="img"&&t.preventDefault()},pointerdown:function(t){var n=this.options,i=this.pointers,o=t.buttons,r=t.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(j(o)&&o!==1||j(r)&&r!==0||t.ctrlKey))){t.preventDefault(),t.changedTouches?B(t.changedTouches,function(a){i[a.identifier]=qt(a)}):i[t.pointerId||0]=qt(t);var s=n.movable?Gt:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(i).length>1?s=wt:n.slideOnTouch&&(t.pointerType==="touch"||t.type==="touchstart")&&this.isSwitchable()&&(s=Nr),n.transition&&(s===Gt||s===wt)&&L(this.image,H),this.action=s}},pointermove:function(t){var n=this.pointers,i=this.action;!this.viewed||!i||(t.preventDefault(),t.changedTouches?B(t.changedTouches,function(o){J(n[o.identifier]||{},qt(o,!0))}):J(n[t.pointerId||0]||{},qt(t,!0)),this.change(t))},pointerup:function(t){var n=this,i=this.options,o=this.action,r=this.pointers,s;t.changedTouches?B(t.changedTouches,function(a){s=r[a.identifier],delete r[a.identifier]}):(s=r[t.pointerId||0],delete r[t.pointerId||0]),o&&(t.preventDefault(),i.transition&&(o===Gt||o===wt)&&T(this.image,H),this.action=!1,it&&o!==wt&&s&&Date.now()-s.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),i.toggleOnDblclick&&this.viewed&&t.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){V(n.image,Gn,{originalEvent:t})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,i.backdrop&&i.backdrop!=="static"&&t.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){V(n.canvas,lt,{originalEvent:t})},50)))))},resize:function(){var t=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}B(this.player.getElementsByTagName("img"),function(n){$(n,ie,t.loadImage.bind(t),{once:!0}),V(n,ie)})}},wheel:function(t){var n=this;if(this.viewed&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var i=Number(this.options.zoomRatio)||.1,o=1;t.deltaY?o=t.deltaY>0?1:-1:t.wheelDelta?o=-t.wheelDelta/120:t.detail&&(o=t.detail>0?1:-1),this.zoom(-o*i,!0,null,t)}}},Iu={show:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(t),this;if(z(i.show)&&$(n,fo,i.show,{once:!0}),V(n,fo)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var o=this.viewer;if(L(o,Re),o.setAttribute("role","dialog"),o.setAttribute("aria-labelledby",this.title.id),o.setAttribute("aria-modal",!0),o.removeAttribute("aria-hidden"),i.transition&&!t){var r=this.shown.bind(this);this.transitioning={abort:function(){M(o,ae,r),L(o,ne)}},T(o,H),o.initialOffsetWidth=o.offsetWidth,$(o,ae,r,{once:!0}),T(o,ne)}else T(o,ne),this.shown();return this},hide:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,o=this.options;if(o.inline||this.hiding||!(this.isShown||this.showing))return this;if(z(o.hide)&&$(i,mo,o.hide,{once:!0}),V(i,mo)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var r=this.viewer,s=this.image,a=function(){L(r,ne),t.hidden()};if(o.transition&&!n){var c=function u(d){d&&d.target===r&&(M(r,ae,u),t.hidden())},l=function(){Ze(r,H)?($(r,ae,c),L(r,ne)):a()};this.transitioning={abort:function(){t.viewed&&Ze(s,H)?M(s,ae,l):Ze(r,H)&&M(r,ae,c)}},this.viewed&&Ze(s,H)?($(s,ae,l,{once:!0}),this.zoomTo(0,!1,null,null,!0)):l()}else a();return this},view:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var i=this.element,o=this.options,r=this.title,s=this.canvas,a=this.items[n],c=a.querySelector("img"),l=tt(c,"originalUrl"),u=c.getAttribute("alt"),d=document.createElement("img");if(B(o.inheritedAttributes,function(y){var v=c.getAttribute(y);v!==null&&d.setAttribute(y,v)}),d.src=l,d.alt=u,z(o.view)&&$(i,vo,o.view,{once:!0}),V(i,vo,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(L(h,Ht),h.removeAttribute("aria-selected")),T(a,Ht),a.setAttribute("aria-selected",!0),o.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},T(d,St),o.loading&&T(s,ot),s.innerHTML="",s.appendChild(d),this.renderList(),r.innerHTML="";var f=function(){var v=t.imageData,b=Array.isArray(o.title)?o.title[1]:o.title;r.innerHTML=Eu(z(b)?b.call(t,d,v):"".concat(u," (").concat(v.naturalWidth," × ").concat(v.naturalHeight,")"))},p,m;return $(i,kt,f,{once:!0}),this.viewing={abort:function(){M(i,kt,f),d.complete?t.imageRendering?t.imageRendering.abort():t.imageInitializing&&t.imageInitializing.abort():(d.src="",M(d,ie,p),t.timeout&&clearTimeout(t.timeout))}},d.complete?this.load():($(d,ie,p=function(){M(d,je,m),t.load()},{once:!0}),$(d,je,m=function(){M(d,ie,p),t.timeout&&(clearTimeout(t.timeout),t.timeout=!1),L(d,St),o.loading&&L(t.canvas,ot)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){L(d,St),t.timeout=!1},1e3)),this},prev:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=t?this.length-1:0),this.view(n),this},next:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,i=this.index+1;return i>n&&(i=t?0:n),this.view(i),this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData;return this.moveTo(Je(t)?t:i.x+Number(t),Je(n)?n:i.y+Number(n)),this},moveTo:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.element,s=this.options,a=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&s.movable){var c=a.x,l=a.y,u=!1;if(j(t)?u=!0:t=c,j(i)?u=!0:i=l,u){if(z(s.move)&&$(r,yo,s.move,{once:!0}),V(r,yo,{x:t,y:i,oldX:c,oldY:l,originalEvent:o})===!1)return this;a.x=t,a.y=i,a.left=t,a.top=i,this.moving=!0,this.renderImage(function(){n.moving=!1,z(s.moved)&&$(r,wo,s.moved,{once:!0}),V(r,wo,{x:t,y:i,oldX:c,oldY:l,originalEvent:o},{cancelable:!1})})}}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t)),this},rotateTo:function(t){var n=this,i=this.element,o=this.options,r=this.imageData;if(t=Number(t),j(t)&&this.viewed&&!this.played&&o.rotatable){var s=r.rotate;if(z(o.rotate)&&$(i,bo,o.rotate,{once:!0}),V(i,bo,{degree:t,oldDegree:s})===!1)return this;r.rotate=t,this.rotating=!0,this.renderImage(function(){n.rotating=!1,z(o.rotated)&&$(i,_o,o.rotated,{once:!0}),V(i,_o,{degree:t,oldDegree:s},{cancelable:!1})})}return this},scaleX:function(t){return this.scale(t,this.imageData.scaleY),this},scaleY:function(t){return this.scale(this.imageData.scaleX,t),this},scale:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=this.element,r=this.options,s=this.imageData;if(t=Number(t),i=Number(i),this.viewed&&!this.played&&r.scalable){var a=s.scaleX,c=s.scaleY,l=!1;if(j(t)?l=!0:t=a,j(i)?l=!0:i=c,l){if(z(r.scale)&&$(o,So,r.scale,{once:!0}),V(o,So,{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:c})===!1)return this;s.scaleX=t,s.scaleY=i,this.scaling=!0,this.renderImage(function(){n.scaling=!1,z(r.scaled)&&$(o,xo,r.scaled,{once:!0}),V(o,xo,{scaleX:t,scaleY:i,oldScaleX:a,oldScaleY:c},{cancelable:!1})})}}return this},zoom:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.imageData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,n,i,o),this},zoomTo:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,c=this.options,l=this.pointers,u=this.imageData,d=u.x,h=u.y,f=u.width,p=u.height,m=u.naturalWidth,y=u.naturalHeight;if(t=Math.max(0,t),j(t)&&this.viewed&&!this.played&&(s||c.zoomable)){if(!s){var v=Math.max(.01,c.minZoomRatio),b=Math.min(100,c.maxZoomRatio);t=Math.min(Math.max(t,v),b)}if(r)switch(r.type){case"wheel":c.zoomRatio>=.055&&t>.95&&t<1.05&&(t=1);break;case"pointermove":case"touchmove":case"mousemove":t>.99&&t<1.01&&(t=1);break}var _=m*t,x=y*t,S=_-f,w=x-p,E=u.ratio;if(z(c.zoom)&&$(a,Eo,c.zoom,{once:!0}),V(a,Eo,{ratio:t,oldRatio:E,originalEvent:r})===!1)return this;if(this.zooming=!0,r){var P=$u(this.viewer),R=l&&Object.keys(l).length>0?Au(l):{pageX:r.pageX,pageY:r.pageY};u.x-=S*((R.pageX-P.left-d)/f),u.y-=w*((R.pageY-P.top-h)/p)}else et(o)&&j(o.x)&&j(o.y)?(u.x-=S*((o.x-d)/f),u.y-=w*((o.y-h)/p)):(u.x-=S/2,u.y-=w/2);u.left=u.x,u.top=u.y,u.width=_,u.height=x,u.oldRatio=E,u.ratio=t,this.renderImage(function(){n.zooming=!1,z(c.zoomed)&&$(a,To,c.zoomed,{once:!0}),V(a,To,{ratio:t,oldRatio:E,originalEvent:r},{cancelable:!1})}),i&&this.tooltip()}return this},play:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var i=this.element,o=this.options;if(z(o.play)&&$(i,$o,o.play,{once:!0}),V(i,$o)===!1)return this;var r=this.player,s=this.loadImage.bind(this),a=[],c=0,l=0;if(this.played=!0,this.onLoadWhenPlay=s,n&&this.requestFullscreen(n),T(r,Ge),B(this.items,function(h,f){var p=h.querySelector("img"),m=document.createElement("img");m.src=tt(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,c+=1,T(m,Zt),It(m,H,o.transition),Ze(h,Ht)&&(T(m,ne),l=f),a.push(m),$(m,ie,s,{once:!0}),r.appendChild(m)}),j(o.interval)&&o.interval>0){var u=function h(){clearTimeout(t.playing.timeout),L(a[l],ne),l-=1,l=l>=0?l:c-1,T(a[l],ne),t.playing.timeout=setTimeout(h,o.interval)},d=function h(){clearTimeout(t.playing.timeout),L(a[l],ne),l+=1,l=l<c?l:0,T(a[l],ne),t.playing.timeout=setTimeout(h,o.interval)};c>1&&(this.playing={prev:u,next:d,timeout:setTimeout(d,o.interval)})}return this},stop:function(){var t=this;if(!this.played)return this;var n=this.element,i=this.options;if(z(i.stop)&&$(n,Oo,i.stop,{once:!0}),V(n,Oo)===!1)return this;var o=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,B(o.getElementsByTagName("img"),function(r){M(r,ie,t.onLoadWhenPlay)}),L(o,Ge),o.innerHTML="",this.exitFullscreen(),this},full:function(){var t=this,n=this.options,i=this.viewer,o=this.image,r=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),T(this.button,to),n.transition&&(L(r,H),this.viewed&&L(o,H)),T(i,Kn),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("style"),ue(i,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=J({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){n.transition&&setTimeout(function(){T(o,H),T(r,H)},0)})}),this)},exit:function(){var t=this,n=this.options,i=this.viewer,o=this.image,r=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),L(this.button,to),n.transition&&(L(r,H),this.viewed&&L(o,H)),n.focus&&this.clearEnforceFocus(),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),L(i,Kn),ue(i,{zIndex:n.zIndexInline}),this.viewerData=J({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){t.renderImage(function(){n.transition&&setTimeout(function(){T(o,H),T(r,H)},0)})}),this)},tooltip:function(){var t=this,n=this.options,i=this.tooltipBox,o=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(i.textContent="".concat(Math.round(o.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&V(i,ae),T(i,Ge),T(i,Zt),T(i,H),i.removeAttribute("aria-hidden"),i.initialOffsetWidth=i.offsetWidth,T(i,ne)):(T(i,Ge),i.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?($(i,ae,function(){L(i,Ge),L(i,Zt),L(i,H),i.setAttribute("aria-hidden",!0),t.fading=!1},{once:!0}),L(i,ne),t.fading=!0):(L(i,Ge),i.setAttribute("aria-hidden",!0)),t.tooltipping=!1},1e3),this)},toggle:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,t):this.zoomTo(1,!0,null,t),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=J({},this.initialImageData),this.renderImage()),this},update:function(){var t=this,n=this.element,i=this.options,o=this.isImg;if(o&&!n.parentNode)return this.destroy();var r=[];if(B(o?[n]:n.querySelectorAll("img"),function(l){z(i.filter)?i.filter.call(t,l)&&r.push(l):t.getImageURL(l)&&r.push(l)}),!r.length)return this;if(this.images=r,this.length=r.length,this.ready){var s=[];if(B(this.items,function(l,u){var d=l.querySelector("img"),h=r[u];h&&d?(h.src!==d.src||h.alt!==d.alt)&&s.push(u):s.push(u)}),ue(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=s.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var c=this.items[this.index];T(c,Ht),c.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var t=this.element,n=this.options;return t[A]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||M(t,lt,this.onStart),t[A]=void 0,this):this}},Lu={getImageURL:function(t){var n=this.options.url;return Dt(n)?n=t.getAttribute(n):z(n)?n=n.call(this,t):n="",n},enforceFocus:function(){var t=this;this.clearEnforceFocus(),$(document,oo,this.onFocusin=function(n){var i=t.viewer,o=n.target;if(!(o===document||o===i||i.contains(o))){for(;o;){if(o.getAttribute("tabindex")!==null||o.getAttribute("aria-modal")==="true")return;o=o.parentElement}i.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(M(document,oo,this.onFocusin),this.onFocusin=null)},open:function(){var t=this.body;T(t,no),this.scrollbarWidth>0&&(t.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var t=this.body;L(t,no),this.scrollbarWidth>0&&(t.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var t=this.element,n=this.options,i=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(i.focus(),this.enforceFocus()),z(n.shown)&&$(t,po,n.shown,{once:!0}),V(t,po)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var t=this.element,n=this.options,i=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),T(i,Re),i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-modal"),i.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(z(n.hidden)&&$(t,go,n.hidden,{once:!0}),V(t,go,null,{cancelable:!1}))},requestFullscreen:function(t){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var i=n.documentElement;i.requestFullscreen?et(t)?i.requestFullscreen(t):i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()}},exitFullscreen:function(){var t=this.element.ownerDocument;this.fulled&&(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},change:function(t){var n=this.options,i=this.pointers,o=i[Object.keys(i)[0]];if(o){var r=o.endX-o.startX,s=o.endY-o.startY;switch(this.action){case Gt:(r!==0||s!==0)&&(this.pointerMoved=!0,this.move(r,s,t));break;case wt:this.zoom(Cu(i),!1,null,t);break;case Nr:{this.action="switched";var a=Math.abs(r);a>1&&a>Math.abs(s)&&(this.pointers={},r>1?this.prev(n.loop):r<-1&&this.next(n.loop));break}}B(i,function(c){c.startX=c.endX,c.startY=c.endY})}},isSwitchable:function(){var t=this.imageData,n=this.viewerData;return this.length>1&&t.x>=0&&t.y>=0&&t.width<=n.width&&t.height<=n.height}},Nu=we.Viewer,Ru=function(e){return function(){return e+=1,e}}(-1),ut=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(au(this,e),!t||t.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=t,this.options=J({},eo,et(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=Ru(),this.init()}return lu(e,[{key:"init",value:function(){var n=this,i=this.element,o=this.options;if(!i[A]){i[A]=this,o.focus&&!o.keyboard&&(o.focus=!1);var r=i.localName==="img",s=[];if(B(r?[i]:i.querySelectorAll("img"),function(l){z(o.filter)?o.filter.call(n,l)&&s.push(l):n.getImageURL(l)&&s.push(l)}),this.isImg=r,this.length=s.length,this.images=s,this.initBody(),Je(document.createElement(A).style.transition)&&(o.transition=!1),o.inline){var a=0,c=function(){if(a+=1,a===n.length){var u;n.initializing=!1,n.delaying={abort:function(){clearTimeout(u)}},u=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){B(s,function(u){u.complete||(M(u,ie,c),M(u,je,c))})}},B(s,function(l){if(l.complete)c();else{var u,d;$(l,ie,u=function(){M(l,je,d),c()},{once:!0}),$(l,je,d=function(){M(l,ie,u),c()},{once:!0})}})}else $(i,lt,this.onStart=function(l){var u=l.target;u.localName==="img"&&(!z(o.filter)||o.filter.call(n,u))&&n.view(n.images.indexOf(u))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,i=this.options,o=n.parentNode,r=document.createElement("div");r.innerHTML=du;var s=r.querySelector(".".concat(A,"-container")),a=s.querySelector(".".concat(A,"-title")),c=s.querySelector(".".concat(A,"-toolbar")),l=s.querySelector(".".concat(A,"-navbar")),u=s.querySelector(".".concat(A,"-button")),d=s.querySelector(".".concat(A,"-canvas"));if(this.parent=o,this.viewer=s,this.title=a,this.toolbar=c,this.navbar=l,this.button=u,this.canvas=d,this.footer=s.querySelector(".".concat(A,"-footer")),this.tooltipBox=s.querySelector(".".concat(A,"-tooltip")),this.player=s.querySelector(".".concat(A,"-player")),this.list=s.querySelector(".".concat(A,"-list")),s.id="".concat(A).concat(this.id),a.id="".concat(A,"Title").concat(this.id),T(a,i.title?Wt(Array.isArray(i.title)?i.title[0]:i.title):Re),T(l,i.navbar?Wt(i.navbar):Re),It(u,Re,!i.button),i.keyboard&&u.setAttribute("tabindex",0),i.backdrop&&(T(s,"".concat(A,"-backdrop")),!i.inline&&i.backdrop!=="static"&&Zn(d,rn,"hide")),Dt(i.className)&&i.className&&i.className.split(_i).forEach(function(_){T(s,_)}),i.toolbar){var h=document.createElement("ul"),f=et(i.toolbar),p=Vt.slice(0,3),m=Vt.slice(7,9),y=Vt.slice(9);f||T(c,Wt(i.toolbar)),B(f?i.toolbar:Vt,function(_,x){var S=f&&et(_),w=f?Si(x):_,E=S&&!Je(_.show)?_.show:_;if(!(!E||!i.zoomable&&p.indexOf(w)!==-1||!i.rotatable&&m.indexOf(w)!==-1||!i.scalable&&y.indexOf(w)!==-1)){var P=S&&!Je(_.size)?_.size:_,R=S&&!Je(_.click)?_.click:_,C=document.createElement("li");i.keyboard&&C.setAttribute("tabindex",0),C.setAttribute("role","button"),T(C,"".concat(A,"-").concat(w)),z(R)||Zn(C,rn,w),j(E)&&T(C,Wt(E)),["small","large"].indexOf(P)!==-1?T(C,"".concat(A,"-").concat(P)):w==="play"&&T(C,"".concat(A,"-large")),z(R)&&$(C,lt,R),h.appendChild(C)}}),c.appendChild(h)}else T(c,Re);if(!i.rotatable){var v=c.querySelectorAll('li[class*="rotate"]');T(v,St),B(v,function(_){c.appendChild(_)})}if(i.inline)T(u,fu),ue(s,{zIndex:i.zIndexInline}),window.getComputedStyle(o).position==="static"&&ue(o,{position:"relative"}),o.insertBefore(s,n.nextSibling);else{T(u,hu),T(s,Kn),T(s,Zt),T(s,Re),ue(s,{zIndex:i.zIndex});var b=i.container;Dt(b)&&(b=n.ownerDocument.querySelector(b)),b||(b=this.body),b.appendChild(s)}if(i.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,z(i.ready)&&$(n,ho,i.ready,{once:!0}),V(n,ho)===!1){this.ready=!1;return}this.ready&&i.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Nu,e}},{key:"setDefaults",value:function(n){J(eo,et(n)&&n)}}]),e}();J(ut.prototype,Pu,ku,Du,Iu,Lu);var zu=typeof global=="object"&&global&&global.Object===Object&&global;const Mr=zu;var Mu=typeof self=="object"&&self&&self.Object===Object&&self,Bu=Mr||Mu||Function("return this")();const Sn=Bu;var Fu=Sn.Symbol;const sn=Fu;var Br=Object.prototype,ju=Br.hasOwnProperty,Hu=Br.toString,yt=sn?sn.toStringTag:void 0;function Vu(e){var t=ju.call(e,yt),n=e[yt];try{e[yt]=void 0;var i=!0}catch{}var o=Hu.call(e);return i&&(t?e[yt]=n:delete e[yt]),o}var Wu=Object.prototype,qu=Wu.toString;function Uu(e){return qu.call(e)}var Yu="[object Null]",Xu="[object Undefined]",Co=sn?sn.toStringTag:void 0;function xn(e){return e==null?e===void 0?Xu:Yu:Co&&Co in Object(e)?Vu(e):Uu(e)}function En(e){return e!=null&&typeof e=="object"}var Ku="[object Symbol]";function Gu(e){return typeof e=="symbol"||En(e)&&xn(e)==Ku}var Zu=Array.isArray;const Qu=Zu;var Ju=/\s/;function ed(e){for(var t=e.length;t--&&Ju.test(e.charAt(t)););return t}var td=/^\s+/;function nd(e){return e&&e.slice(0,ed(e)+1).replace(td,"")}function We(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ao=NaN,id=/^[-+]0x[0-9a-f]+$/i,od=/^0b[01]+$/i,rd=/^0o[0-7]+$/i,sd=parseInt;function Po(e){if(typeof e=="number")return e;if(Gu(e))return Ao;if(We(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=We(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nd(e);var n=od.test(e);return n||rd.test(e)?sd(e.slice(2),n?2:8):id.test(e)?Ao:+e}function Fr(e){return e}var ad="[object AsyncFunction]",ld="[object Function]",cd="[object GeneratorFunction]",ud="[object Proxy]";function jr(e){if(!We(e))return!1;var t=xn(e);return t==ld||t==cd||t==ad||t==ud}var dd=Sn["__core-js_shared__"];const Rn=dd;var ko=function(){var e=/[^.]+$/.exec(Rn&&Rn.keys&&Rn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function hd(e){return!!ko&&ko in e}var fd=Function.prototype,pd=fd.toString;function md(e){if(e!=null){try{return pd.call(e)}catch{}try{return e+""}catch{}}return""}var gd=/[\\^$.*+?()[\]{}|]/g,vd=/^\[object .+?Constructor\]$/,yd=Function.prototype,wd=Object.prototype,bd=yd.toString,_d=wd.hasOwnProperty,Sd=RegExp("^"+bd.call(_d).replace(gd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xd(e){if(!We(e)||hd(e))return!1;var t=jr(e)?Sd:vd;return t.test(md(e))}function Ed(e,t){return e==null?void 0:e[t]}function Td(e,t){var n=Ed(e,t);return xd(n)?n:void 0}function $d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Od=800,Cd=16,Ad=Date.now;function Pd(e){var t=0,n=0;return function(){var i=Ad(),o=Cd-(i-n);if(n=i,o>0){if(++t>=Od)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function kd(e){return function(){return e}}var Dd=function(){try{var e=Td(Object,"defineProperty");return e({},"",{}),e}catch{}}();const an=Dd;var Id=an?function(e,t){return an(e,"toString",{configurable:!0,enumerable:!1,value:kd(t),writable:!0})}:Fr;const Ld=Id;var Nd=Pd(Ld);const Rd=Nd;var zd=9007199254740991,Md=/^(?:0|[1-9]\d*)$/;function Hr(e,t){var n=typeof e;return t=t??zd,!!t&&(n=="number"||n!="symbol"&&Md.test(e))&&e>-1&&e%1==0&&e<t}function Vr(e,t,n){t=="__proto__"&&an?an(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function xi(e,t){return e===t||e!==e&&t!==t}var Bd=Object.prototype,Fd=Bd.hasOwnProperty;function Wr(e,t,n){var i=e[t];(!(Fd.call(e,t)&&xi(i,n))||n===void 0&&!(t in e))&&Vr(e,t,n)}function jd(e,t,n,i){var o=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var a=t[r],c=void 0;c===void 0&&(c=e[a]),o?Vr(n,a,c):Wr(n,a,c)}return n}var Do=Math.max;function Hd(e,t,n){return t=Do(t===void 0?e.length-1:t,0),function(){for(var i=arguments,o=-1,r=Do(i.length-t,0),s=Array(r);++o<r;)s[o]=i[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=i[o];return a[t]=n(s),$d(e,this,a)}}function qr(e,t){return Rd(Hd(e,t,Fr),e+"")}var Vd=9007199254740991;function Ur(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Vd}function Tn(e){return e!=null&&Ur(e.length)&&!jr(e)}function Yr(e,t,n){if(!We(n))return!1;var i=typeof t;return(i=="number"?Tn(n)&&Hr(t,n.length):i=="string"&&t in n)?xi(n[t],e):!1}function Wd(e){return qr(function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=e.length>3&&typeof r=="function"?(o--,r):void 0,s&&Yr(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var a=n[i];a&&e(t,a,i,r)}return t})}var qd=Object.prototype;function Ei(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qd;return e===n}function Ud(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var Yd="[object Arguments]";function Io(e){return En(e)&&xn(e)==Yd}var Xr=Object.prototype,Xd=Xr.hasOwnProperty,Kd=Xr.propertyIsEnumerable,Gd=Io(function(){return arguments}())?Io:function(e){return En(e)&&Xd.call(e,"callee")&&!Kd.call(e,"callee")};const Zd=Gd;function Qd(){return!1}var Kr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lo=Kr&&typeof module=="object"&&module&&!module.nodeType&&module,Jd=Lo&&Lo.exports===Kr,No=Jd?Sn.Buffer:void 0,eh=No?No.isBuffer:void 0,th=eh||Qd;const nh=th;var ih="[object Arguments]",oh="[object Array]",rh="[object Boolean]",sh="[object Date]",ah="[object Error]",lh="[object Function]",ch="[object Map]",uh="[object Number]",dh="[object Object]",hh="[object RegExp]",fh="[object Set]",ph="[object String]",mh="[object WeakMap]",gh="[object ArrayBuffer]",vh="[object DataView]",yh="[object Float32Array]",wh="[object Float64Array]",bh="[object Int8Array]",_h="[object Int16Array]",Sh="[object Int32Array]",xh="[object Uint8Array]",Eh="[object Uint8ClampedArray]",Th="[object Uint16Array]",$h="[object Uint32Array]",F={};F[yh]=F[wh]=F[bh]=F[_h]=F[Sh]=F[xh]=F[Eh]=F[Th]=F[$h]=!0;F[ih]=F[oh]=F[gh]=F[rh]=F[vh]=F[sh]=F[ah]=F[lh]=F[ch]=F[uh]=F[dh]=F[hh]=F[fh]=F[ph]=F[mh]=!1;function Oh(e){return En(e)&&Ur(e.length)&&!!F[xn(e)]}function Ch(e){return function(t){return e(t)}}var Gr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xt=Gr&&typeof module=="object"&&module&&!module.nodeType&&module,Ah=xt&&xt.exports===Gr,zn=Ah&&Mr.process,Ph=function(){try{var e=xt&&xt.require&&xt.require("util").types;return e||zn&&zn.binding&&zn.binding("util")}catch{}}();const Ro=Ph;var zo=Ro&&Ro.isTypedArray,kh=zo?Ch(zo):Oh;const Dh=kh;var Ih=Object.prototype,Lh=Ih.hasOwnProperty;function Zr(e,t){var n=Qu(e),i=!n&&Zd(e),o=!n&&!i&&nh(e),r=!n&&!i&&!o&&Dh(e),s=n||i||o||r,a=s?Ud(e.length,String):[],c=a.length;for(var l in e)(t||Lh.call(e,l))&&!(s&&(l=="length"||o&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Hr(l,c)))&&a.push(l);return a}function Nh(e,t){return function(n){return e(t(n))}}var Rh=Nh(Object.keys,Object);const zh=Rh;var Mh=Object.prototype,Bh=Mh.hasOwnProperty;function Fh(e){if(!Ei(e))return zh(e);var t=[];for(var n in Object(e))Bh.call(e,n)&&n!="constructor"&&t.push(n);return t}function jh(e){return Tn(e)?Zr(e):Fh(e)}var Hh=Object.prototype,Vh=Hh.hasOwnProperty,Wh=Wd(function(e,t){if(Ei(t)||Tn(t)){jd(t,jh(t),e);return}for(var n in t)Vh.call(t,n)&&Wr(e,n,t[n])});const qh=Wh;function Uh(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Yh=Object.prototype,Xh=Yh.hasOwnProperty;function Kh(e){if(!We(e))return Uh(e);var t=Ei(e),n=[];for(var i in e)i=="constructor"&&(t||!Xh.call(e,i))||n.push(i);return n}function Gh(e){return Tn(e)?Zr(e,!0):Kh(e)}var Zh=function(){return Sn.Date.now()};const Mn=Zh;var Qh="Expected a function",Jh=Math.max,ef=Math.min;function tf(e,t,n){var i,o,r,s,a,c,l=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Qh);t=Po(t)||0,We(n)&&(u=!!n.leading,d="maxWait"in n,r=d?Jh(Po(n.maxWait)||0,t):r,h="trailing"in n?!!n.trailing:h);function f(w){var E=i,P=o;return i=o=void 0,l=w,s=e.apply(P,E),s}function p(w){return l=w,a=setTimeout(v,t),u?f(w):s}function m(w){var E=w-c,P=w-l,R=t-E;return d?ef(R,r-P):R}function y(w){var E=w-c,P=w-l;return c===void 0||E>=t||E<0||d&&P>=r}function v(){var w=Mn();if(y(w))return b(w);a=setTimeout(v,m(w))}function b(w){return a=void 0,h&&i?f(w):(i=o=void 0,s)}function _(){a!==void 0&&clearTimeout(a),l=0,i=c=o=a=void 0}function x(){return a===void 0?s:b(Mn())}function S(){var w=Mn(),E=y(w);if(i=arguments,o=this,c=w,E){if(a===void 0)return p(c);if(d)return clearTimeout(a),a=setTimeout(v,t),f(c)}return a===void 0&&(a=setTimeout(v,t)),s}return S.cancel=_,S.flush=x,S}var Qr=Object.prototype,nf=Qr.hasOwnProperty,of=qr(function(e,t){e=Object(e);var n=-1,i=t.length,o=i>2?t[2]:void 0;for(o&&Yr(t[0],t[1],o)&&(i=1);++n<i;)for(var r=t[n],s=Gh(r),a=-1,c=s.length;++a<c;){var l=s[a],u=e[l];(u===void 0||xi(u,Qr[l])&&!nf.call(e,l))&&(e[l]=r[l])}return e});const rf=of,sf=({images:e=[],options:t})=>{t=qh(t,{inline:!1});const n=document.createElement("div"),i=qn("div",{style:{display:"none"},class:["__viewer-token"]},e.map(a=>qn("img",typeof a=="string"?{src:a}:a)));Pi(i,n);const o=n.firstElementChild;document.body.appendChild(o);const r=new ut(o,t),s=r.destroy.bind(r);return r.destroy=function(){return s(),Pi(null,n),r},r.show(),o.addEventListener("hidden",function(){this.viewer===r&&r.destroy()}),r},af=({name:e="viewer",debug:t=!1}={})=>{async function n(u,d,h=!1,f=!1){await Be(),!(f&&!i(u))&&(h||!u[`$${e}`]?(s(u),u[`$${e}`]=new ut(u,d),l("Viewer created")):(u[`$${e}`].update(),l("Viewer updated")))}function i(u){const d=u.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return u.__viewerImageDiffCache===h?(l("Element change detected, but image(s) has not changed"),!1):(l("Image change detected"),u.__viewerImageDiffCache=h,!0)}function o(u,d,h,f){a(u);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){l("Observer not supported");return}const m=new p(v=>{v.forEach(b=>{l(`Viewer mutation:${b.type}`),h(u,d,f,!0)})}),y={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(u,y),u.__viewerMutationObserver=m,l("Observer created")}function r(u,d,h,f){u.__viewerUnwatch=G(()=>d.value,(p,m)=>{l("Change detected by watcher: ",d.value),f(u,p,!0,!1)},{deep:!0}),l("Watcher created, expression: ",d.value)}function s(u){!u[`$${e}`]||(u[`$${e}`].destroy(),delete u[`$${e}`],l("Viewer destroyed"))}function a(u){!u.__viewerMutationObserver||(u.__viewerMutationObserver.disconnect(),delete u.__viewerMutationObserver,l("observer destroyed"))}function c(u){!u.__viewerUnwatch||(u.__viewerUnwatch(),delete u.__viewerUnwatch,l("Watcher destroyed"))}function l(...u){t&&console.log(...u)}return{mounted(u,d,h){l("Viewer bind");const f=tf(n,50);f(u,d.value),r(u,d,h,f),d.modifiers.static||o(u,d.value,f,d.modifiers.rebuild)},unmounted(u){l("Viewer unbind"),a(u),c(u),s(u)}}},lf=K({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(e,{emit:t}){let n;const i=N();function o(){n=new ut(i.value,e.options),t("inited",n)}function r(){n&&n.destroy()}function s(){r(),o()}function a(){n?(n.update(),t("inited",n)):o()}function c(){e.rebuild?s():a()}const l={deep:!0};return G(()=>e.images,()=>{Be(()=>{c()})},l),G(()=>e.trigger,()=>{Be(()=>{c()})},l),G(()=>e.options,()=>{Be(()=>{s()})},l),mn(()=>o()),ri(()=>r()),{root:i,createViewer:o,rebuildViewer:s,updateViewer:a,destroyViewer:r}}}),cf=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},uf={ref:"root"};function df(e,t,n,i,o,r){return ee(),Ce("div",uf,[At(e.$slots,"default",{images:e.images,options:e.options})],512)}const hf=cf(lf,[["render",df]]),ff={install(e,{name:t="viewer",debug:n=!1,defaultOptions:i}={}){i&&ut.setDefaults(i),e.config.globalProperties[`$${t}Api`]=sf,e.component(t,rf(hf,{name:t})),e.directive(t,af({name:t,debug:n}))},setDefaults(e){ut.setDefaults(e)}},pf=0,mf="application/x-www-form-urlencoded;charset=UTF-8",gf=5*60*1e3,vf=["/login","/about"],Qn=new URL(""+new URL("../img/user_avatar_2x-D7HF6Y-m.png",import.meta.url).href,import.meta.url).href,vm=new URL("data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='31'%20cy='31'%20r='31'%20fill='url(%23paint0_linear_930_6995)'/%3e%3cpath%20d='M39%2036.3346C41.9455%2036.3346%2044.3333%2033.9468%2044.3333%2031.0013C44.3333%2028.0558%2041.9455%2025.668%2039%2025.668'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23.0013%2025.668C20.0558%2025.668%2017.668%2028.0558%2017.668%2031.0013C17.668%2033.9468%2020.0558%2036.3346%2023.0013%2036.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linejoin='round'/%3e%3cpath%20d='M23%2036.3346V36.0013V34.3346V31.0013V25.668C23%2021.2497%2026.5817%2017.668%2031%2017.668C35.4183%2017.668%2039%2021.2497%2039%2025.668V36.3346C39%2040.7529%2035.4183%2044.3346%2031%2044.3346'%20stroke='%23F2F4FF'%20stroke-width='2.66667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_930_6995'%20x1='31'%20y1='0'%20x2='31'%20y2='62'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23336DFF'/%3e%3cstop%20offset='1'%20stop-color='%23495EFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",import.meta.url).href,yf=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABdZJREFUWEfVWWlsVFUU/s69M2BbpEgwshQDZdpSRU3Ywk6VgEggYKhKXBARSQRUIJ3SImgNS5u2sWiEH1QErBuiQlFEJQihUiUIRqKU0gGibNaltKSLZd57R+8M0+n23pupLer5NZM5y3fvuefcc78htEUyWMTWaaOkIZIYPATgBID6AOgCQACoZHA5gUoIdJTZ2BfTxXHkQAZp4YajcAxcqRzDhvYsEc0GcEs4tky4RMzvkXS8VpZFZ0K1DQlg4mLu5XXoK0CYD8ARqnMTPQ2ErZAy3ZNJv9n5sgXoStEeBeEVAN3tnIX5eyUBS8pyHFus7EwBDpnPzqpuxnowPxVm4PDUCfkxkXKB2flsFeCdKRxVR3ohAxPCi9Y2bQL2RbCcfjyXapp7aAEwKYMdF2r0z64XuAAgBbJrlbzv6EbyNgbZAqArVdsIRsem1WyjifI92VIVYoM0ARjn1uYwsLltiWonK8ZjnlzHW4121v/Rlc43Q9NPAejWTqHa6qbC6ZWDStbRJeWgYQddqdrrYDzZVq/tasfY4Ml1LGwAGJfGsazrpXZNuGc0MHecwLgEQr8egFSXWgiiG8BPfwD7SxhvFxs4V2FrpIFkf082nfftoMvtfRmgJVZmycMIL84QqPcCe44zysoZKnAoIgiI70mYNIgQ0QlYVWhg+xG2NGXmnNO5zlRSbeVcrf4zMXqZWTwwnLA2WWDbYUbmJwZq6kOB1VJHgVs+VWDWCEL6+wY++NYSZLknSvYmV4p3JIiKzUL27Q7sXipReIyx8qMQt8wG/+qZAtMHEyZm6/ilylzZEDyW4tz6CgavMlNLmypw/2BCUpaOuqtBLacEDIZtmtU5VSn26kHbqM7A/jSJnccYaz82XzSBVpLLre0AMMMM4BdugcOn0WT35o0nLLlX+ACnbzew98fWUzX5DsKaZIEbnEDuHgObi4J6q2YKDOsPTM61zMpOGuD2niRQghnAk1kSa3YZKCj2O4+OBA6/IBsq+GIlMH5to+1p5KjoeQlV+UpUQQ1/SceVOv/32aMJy6cJDExr3davxSVqBy9bNecTmRLZuw1s+coPsGsE8PVKiU7XpsLzl4G7M1sP8mWahDrDAYBDM3RU/+n/PmcMwT1F4PblVgBxRQG0LKVdiwVOXgJStwVT8chIv/M6L7Bsm4GDpa27SBpIyHxQIMIJ3yLf+Saol/OQwMDewLQ8yxQbCqBagmnLfWYiYe5YgXuydFyuDeZPHXxVJKFIc93uUcCBdIk3ihjrPrfuDAqgKvSuZoFuigL2uiWOnGUsKjBsq9YOsKrq9bMFhvYjTMrRUdFiAmzioZJcbu8JgBKtHE+4jXxOi04xMnYYuKBObRtEFYyq6tFxhKe3Gr6rz0oYXGrbZgIOxsYTcmcJ3BgBHCpjnP4VqKkPLceRnQjxPYERAwhVtUDadvNz2wzwTttG3dhAXVXJQwlJiWpYIER2Bnqol7CF/F4N1NarYYGx/wSj8DtuaDV2SfA16thl3jHCoCI7ZbPfAxOO6muB6Ub1vE0HGQWHDMurzDYm8yhCBgtXjX4x3Id4c+dT7iLkPSzADCx918Cn34eWfjOQ6qHfN1Le6hu3BqR4s4nIbbsiGwU1BChZ8WF7DBWc58lxLvXPg6kcA9bP2g2sdgtQAwQRcDVsBqaFZ42kTFAUSXDkT9HWg7DADsR1+Z2wyZPtmKdiNQD08S9O/YcOoDjCXVMlHDI+wNs0eXZe42EKwvXYnvoEPNGYr/mPPdyR78l2mD/c1U4o0uhKtL7n36A++kTJyc1JpP8feRQ4T+q1d75W39DhPA0hP7pSLmxOGgVw2BKY1/iavA6gRCrAeK4xD9NasdkC9DVyxdvoeiYYj//TZv73RaOBsdGpydUB/sWqC4QEMODAT5Foi5holtVD3yRgOTO/ScLxqqI0Qm1NYQFscj6rtWFEYoL6G4LBiQRSrL9ixtRFXA3wBYBK1d8QujAOnIlwFCODwr6k/wIr/Tfaom1PdgAAAABJRU5ErkJggg==",import.meta.url).href;async function wf(e,t){const n=e.getReader();let i;for(;!(i=await n.read()).done;)t(i.value)}function bf(e){let t,n,i,o=!1;return function(s){t===void 0?(t=s,n=0,i=-1):t=Sf(t,s);const a=t.length;let c=0;for(;n<a;){o&&(t[n]===10&&(c=++n),o=!1);let l=-1;for(;n<a&&l===-1;++n)switch(t[n]){case 58:i===-1&&(i=n-c);break;case 13:o=!0;case 10:l=n;break}if(l===-1)break;e(t.subarray(c,l),i),c=n,i=-1}c===a?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function _f(e,t,n){let i=Mo(),o=!1;const r=new TextDecoder;return function(a,c){if(a.length===0)n==null||n(i),i=Mo(),o=!1;else if(c>0){const l=r.decode(a.subarray(0,c)),u=c+1,d=r.decode(a.subarray(u));switch(l){case"data":i.data=o?i.data+`
`+d:d,o=!0;break;case"event":i.event=d;break;case"id":e(i.id=d);break;case"retry":const h=parseInt(d,10);isNaN(h)||t(i.retry=h);break}}}}function Sf(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Mo(){return{data:"",event:"",id:"",retry:void 0}}var xf=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const ln="text/event-stream",Ef=1e3,Bo="last-event-id";function Tf(e,t){var{signal:n,headers:i,onopen:o,onmessage:r,onclose:s,onerror:a,openWhenHidden:c,fetch:l}=t,u=xf(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,h)=>{const f=Object.assign({},i);f.accept||(f.accept=ln);let p;function m(){p.abort(),document.hidden||S()}c||document.addEventListener("visibilitychange",m);let y=Ef,v=0;function b(){document.removeEventListener("visibilitychange",m),window.clearTimeout(v),p.abort()}n==null||n.addEventListener("abort",()=>{b(),d()});const _=l??window.fetch,x=o??$f;async function S(){var w;p=new AbortController;try{const E=await _(e,Object.assign(Object.assign({},u),{headers:f,signal:p.signal}));await x(E),await wf(E.body,bf(_f(P=>{P?f[Bo]=P:delete f[Bo]},P=>{y=P},r))),s==null||s(),b(),d()}catch(E){if(!p.signal.aborted)try{const P=(w=a==null?void 0:a(E))!==null&&w!==void 0?w:y;window.clearTimeout(v),v=window.setTimeout(S,P)}catch(P){b(),h(P)}}}S()})}function $f(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(ln)))throw new Error(`Expected content-type to be ${ln}, Actual: ${t}`)}class Of{constructor(t={}){ve(this,"onOpen");ve(this,"onClose");ve(this,"onError");ve(this,"onMessage");ve(this,"opt",{url:"",data:{}});ve(this,"controller",new AbortController);this.opt={...this.opt,...t},this.open()}open(){const t=new FormData;for(const n in this.opt.data)Object.prototype.hasOwnProperty.call(this.opt.data,n)&&t.append(n,this.opt.data[n]);Tf(this.opt.url,{method:"POST",headers:{"App-Type":"yun_pc"},signal:this.controller.signal,openWhenHidden:!0,body:t,onopen:async n=>{if(n.ok&&n.headers.get("content-type")===ln)typeof this.onOpen=="function"&&this.onOpen();else throw n.status>=400&&n.status<500&&n.status!==429?new Error("连接出错"):new Error("连接出错")},onmessage:n=>{typeof this.onMessage=="function"&&this.onMessage(n)},onclose:()=>{typeof this.onClose=="function"&&this.onClose(),this.controller.abort()},onerror:n=>{typeof this.onError=="function"&&this.onError(n)}})}abort(){this.controller.abort()}}const Cf={avater:Qn},Ti=li("user",()=>Fe({...Cf}));function Af(e){const t=new FormData;return Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&t.append(n,e[n])}),t}function Qe(e=16,t=0){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];let o;if(t=t||n.length,e)for(o=0;o<e;o++)i[o]=n[0|Math.random()*t];else{let r;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",o=0;o<36;o++)i[o]||(r=0|Math.random()*16,i[o]=n[o==19?r&3|8:r])}return i.join("")}function Pf(){let e=_t.get("openid");return e||(e="P"+Qe(16),_t.set("openid",e)),e}function ym(e){return e.replace(/[&<"']/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}})}const Fo=(e,t)=>t,Jr=e=>{const t={t:r=>Fo(e,r)};if(!on)return t;const{t:n,...i}=on.global;return{...i,t:(r,...s)=>r?!r.includes(".")&&!e?r:n(Fo(e,r),...s):""}};function kf(e){const{t}=Jr();let n=e.response.status,i=e.response.data.message||e.message,o="";switch(n){case 400:o=`${i}`;break;case 401:o=t("common.errMsg401");break;case 403:o=t("common.errMsg403");break;case 404:o=t("common.errMsg404");break;case 405:o=t("common.errMsg405");break;case 408:o=t("common.errMsg408");break;case 500:o=t("common.errMsg500");break;case 501:o=t("common.errMsg501");break;case 502:o=t("common.errMsg502");break;case 503:o=t("common.errMsg503");break;case 504:o=t("common.errMsg504");break;case 505:o=t("common.errMsg505");break;default:o=`${i}`}return o}let Bn=!1;function es(e){Bn||(Bn=!0,Cr(e),setTimeout(()=>{Bn=!1},200))}const Df=e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"?e.data=Xs.stringify(e.data):e.method==="post"&&e.headers["Content-Type"]==="multipart/form-data"&&(e.data=Af(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const n=Object.keys(e.params);for(const i of n)e.params[i]!==void 0&&e.params[i]!==null&&(t+=`${i}=${encodeURIComponent(e.params[i])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},If=e=>{var t,n,i;if(e.data&&typeof e.data.res<"u"&&(e.data.code=e.data.res,e.data.message=e.data.msg||""),((t=e==null?void 0:e.config)==null?void 0:t.responseType)==="blob")return e;if(e.data.code===pf)return e.data;if(Cr((n=e==null?void 0:e.data)==null?void 0:n.message),((i=e==null?void 0:e.data)==null?void 0:i.code)===401)Ti().logout();else return Promise.reject(e.data)},Lf=e=>e.response?(console.log("response err： "+e),Rf(e)):e.request?(console.log("request err： "+e),Nf(e)):Promise.reject(e),Nf=e=>{var c,l,u;const{t}=Jr(),{response:n,code:i,message:o}=e||{},r=((l=(c=n==null?void 0:n.data)==null?void 0:c.error)==null?void 0:l.message)??"",s=((u=e==null?void 0:e.toString)==null?void 0:u.call(e))??"";let a="";return i==="ECONNABORTED"&&o.indexOf("timeout")!==-1?a=t("common.apiTimeoutMessage"):s!=null&&s.includes("Network Error")?a=t("common.networkExceptionMsg"):a=r,es(a),Promise.reject(e)},Rf=e=>{var i;let t=(i=e==null?void 0:e.response)==null?void 0:i.status,n=kf(e);return es(n),t===401&&Ti().logout(),Promise.reject(e)},zf="",nt=new Map,ft=Ys.create({timeout:gf,baseURL:zf});ft.interceptors.request.use(e=>{const t=new AbortController,n=e.url||"";return e.signal=t.signal,nt.set(n,t),e});ft.interceptors.response.use(e=>{const t=e.config.url||"";return nt.delete(t),e},e=>Promise.reject(e));ft.interceptors.request.use(Df);ft.interceptors.response.use(If);ft.interceptors.response.use(void 0,Lf);const Jn={request:e=>new Promise((t,n)=>{var i;(i=e.interceptors)!=null&&i.requestInterceptors&&(e=e.interceptors.requestInterceptors(e)),ft.request(e).then(o=>{t(o)}).catch(o=>{n(o)})}),cancelRequest:e=>{var n;const t=Array.isArray(e)?e:[e];for(const i of t)(n=nt.get(i))==null||n.abort(),nt.delete(i)},cancelAllRequest(){for(const[e,t]of nt)t.abort();nt.clear()}},Ut=e=>{const t=Ti(),n=Ar(),{url:i,method:o,params:r,data:s,headers:a,responseType:c,withToken:l}=e,u=n.getCurrentLocale,d={"Content-Type":mf,"X-Requested-With":"XMLHttpRequest","App-Type":"yun_pc",lang:u.lang,...a};return l||(d.token=t.getToken??""),Jn.request({url:i,method:o,params:r,data:s,responseType:c,headers:{...d}})},pt={get:e=>Ut({method:"get",...e}),post:e=>Ut({method:"post",...e}),delete:e=>Ut({method:"delete",...e}),put:e=>Ut({method:"put",...e}),cancelRequest:e=>Jn.cancelRequest(e),cancelAllRequest:()=>Jn.cancelAllRequest()},Mf="",Bf=({openid:e})=>pt.get({url:"/chat/getWsUrl",params:{openid:e,debug:0}}),Ff=e=>new Of({url:Mf+"/chat/request",data:e}),jf=e=>pt.post({url:"/chat/welcome",data:e}),Hf=e=>pt.post({url:"/manage/getDialogueList",data:e}),Vf=e=>pt.post({url:"/chat/message",data:e}),Wf=e=>pt.get({url:"/chat/getFastCommandList",params:e}),qf=({id:e,prompt:t})=>pt.post({url:"/manage/editPrompt",data:{id:e,prompt:t}});function Uf(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(o){o(n)}),(i=e.get("*"))&&i.slice().map(function(o){o(t,n)})}}}const Yt=Uf(),ts=e=>({on:Yt.on,off:Yt.off,emit:Yt.emit,all:Yt.all});class Yf{constructor(t,n){this.debug=n.debug||!1,this.socketOpen=!1,this.socketMsgQueue=[],this.heartbeatInterval=5*1e3,this.heartbeatTimer=null,this.disableHeartbeat=n.disableHeartbeat,this.disableReconnect=!1,this.reconnectAttempts=0,this.reconnectInterval=5*1e3,this.reconnectTimer=null,this.events={},this.url=t,this.ws=null,this.options=n,this.connect(),this.log=function(){},this.debug&&(this.log=console.log)}connect(){this.ws&&this.socketOpen||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.log("WebSocket open"),this.onOpen()},this.ws.onmessage=t=>{this.log("WebSocket message"),this.log(t),this.onMessage(t)},this.ws.onerror=t=>{this.log("WebSocket error"),this.log(t),this.onError(t)},this.ws.onclose=t=>{this.log("WebSocket closed"),this.log(t),this.onClose(t)})}onOpen(){this.socketOpen=!0,this.reconnectAttempts=0,this.disableReconnect=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.sendHeartBeat();for(var t=0;t<this.socketMsgQueue.length;t++)this.send(this.socketMsgQueue[t]);this.socketMsgQueue=[],this.emit("open")}onMessage(t){t&&t.data==="ping"?this.pong(t):this.emit("message",JSON.parse(t.data))}onError(t){this.emit("error",t)}onClose(t){this.emit("close",t),this.ws=null,this.socketOpen=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.stopHeartBeat(),this.shouldReconnect()&&!this.disableReconnect&&this.reconnect()}send(t){this.ws&&this.socketOpen?this.ws.send(JSON.stringify(t)):this.socketMsgQueue.push(t)}pong(){this.ws.send("pong")}sendHeartBeat(){this.disableHeartbeat||(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=setTimeout(()=>{this.send({type:"ping"}),this.sendHeartBeat(),this.emit("ping")},this.heartbeatInterval))}stopHeartBeat(){this.disableHeartbeat||clearTimeout(this.heartbeatTimer)}shouldReconnect(){const t=this.options.maxReconnectAttempts||1/0;return this.reconnectAttempts<t}reconnect(){this.reconnectTimer||(this.disableReconnect=!1,this.reconnectAttempts++,this.reconnectTimer=setTimeout(()=>{this.ws?(this.ws.close(),this.socketOpen=!1,this.ws=null):this.connect()},this.reconnectInterval))}close(t=!0){this.disableReconnect=t,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.ws&&this.ws.close()}emit(t,...n){this.events&&Array.isArray(this.events[t])&&this.events[t].forEach(i=>i(...n))}on(t,n){this.events||(this.events={}),this.events[t]||(this.events[t]=[]),this.events[t].push(n)}off(t,n){if(this.events&&Array.isArray(this.events[t]))if(!n)this.events[t]=[];else{const i=this.events[t].indexOf(n);i!==-1&&this.events[t].splice(i,1)}}}const jo=N(null),Ie=N(null),ye=Fe({}),Xf=()=>{async function e(r,s){let a=await Bf({openid:r});a&&(jo.value=a.data.ws_url),Ie.value&&Ie.value.close(),Ie.value=new Yf(jo.value,{disableHeartbeat:!0}),s&&s(),Ie.value.on("message",c=>{n("message",c)}),Ie.value.on("error",i)}function t(r,s){ye[r]||(ye[r]=[]),ye[r].push(s)}function n(r,...s){ye&&Array.isArray(ye[r])&&ye[r].forEach(a=>a(...s))}function i(r){console.log(r)}function o(){Object.keys(ye).forEach(r=>{ye[r]=[],delete ye[r]}),Ie.value&&Ie.value.close()}return{connect:e,on:t,close:o}},ns=li("chat",()=>{const e=ts(),t=Xf(),n=N([]);let i=null;const o=N(0),r=N(""),s=Fe({admin_user_id:"",avatar:"",id:"",name:"",nickname:"",openid:""}),a=Fe({id:null,library_ids:"",prompt:"",robot_avatar:"",robot_intro:"",robot_key:"",robot_name:"",yunpc_fast_command_switch:"",openid:"",welcomes:{content:"",question:[]},comand_list:[],app_id:-2,is_sending:!1}),c=Fe({headTitle:"WikiChat.com",headSubTitle:"Based on LLM, free and open-source.",headImage:yf,lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"}}),l=N(!1),u=async g=>{i&&(i.abort(),i=null),n.value=[],C.value=!1,v.value=!1,g.dialogue_id?(l.value=!1,o.value=g.dialogue_id):(l.value=!0,o.value=0),r.value=g.openid||Pf(),a.robot_key=g.robot_key,a.openid=r.value,s.openid=r.value,s.avatar=g.avatar||Qn,s.name=g.name||"",s.nickname=g.nickname||"";const k=await jf({robot_key:a.robot_key,openid:r.value,nickname:s.nickname,name:s.name,avatar:s.avatar||Qn});try{const q=k.data.customer,O=k.data.robot;return s.admin_user_id=q.admin_user_id,s.avatar=q.avatar,s.id=q.id,s.name=q.name,s.nickname=q.nickname,a.prompt=O.prompt,a.robot_avatar=O.robot_avatar,a.robot_intro=O.robot_intro,a.robot_key=O.robot_key,a.robot_name=O.robot_name,a.library_ids=O.library_ids,a.yunpc_fast_command_switch=O.yunpc_fast_command_switch,a.id=O.id,O.welcomes&&(a.welcomes=JSON.parse(O.welcomes)),O.external_config_pc&&Object.assign(c,JSON.parse(O.external_config_pc)),h(k.data.message),t.connect(r.value),t.on("message",d),k}catch(q){Promise.reject(q)}},d=g=>{g&&g.dialogue_id==o.value&&(g.uid=Qe(32),g.loading=!1,g.isWelcome=!0,g.avatar=a.robot_avatar,g.menu_json&&typeof g.menu_json=="string"&&(g.menu_json=JSON.parse(g.menu_json)),g.quote_file&&typeof g.quote_file=="string"&&(g.quote_file=JSON.parse(g.quote_file)),n.value.push(g))},h=g=>{g&&(g.uid=Qe(32),g.loading=!1,g.isWelcome=!0,g.avatar=a.robot_avatar,g.menu_json&&(g.menu_json=JSON.parse(g.menu_json)),g.quote_file&&(g.quote_file=JSON.parse(g.quote_file)),n.value.push(g))},f=g=>{g.uid=Qe(32),g.loading=!1,g.avatar=s.avatar,g.openid=s.openid,g.msg_type=1,g.is_customer=1,n.value.push(g)},p=g=>{n.value.push(g),e.emit("updateAiMessage",g)},m=(g,k,q)=>{const O=n.value.findIndex(W=>W.uid==q);if(g=="sending"){const W=n.value[O].content;n.value[O].content=W+k}if(g=="quote_file"&&(n.value[O].quote_file=k.length>0?k:[]),g=="ai_message"){if(k.menu_json&&k.msg_type==2){let W=JSON.parse(k.menu_json);n.value[O].content=W.content,n.value[O].menu_json=W}n.value[O].id=k.id}g=="debug"&&(n.value[O].debug=k.length>0?k:[]),e.emit("updateAiMessage",n.value[O])},y=()=>{const g=n.value.length-1;n.value[g].loading=!1},v=N(!1),b=g=>{if(v.value)return;const k={loading:!0,id:"",content:"",uid:Qe(32),avatar:a.robot_avatar,msg_type:1,quote_file:[],is_customer:0,debug:[]},q={robot_key:a.robot_key,openid:a.openid,question:g.message,prompt:a.prompt,library_ids:a.library_ids,dialogue_id:o.value};v.value=!0,i=Ff(q),i.onMessage=O=>{if(a.is_sending=!0,O.event=="dialogue_id"&&(o.value=O.data),O.event=="c_message"){const W=JSON.parse(O.data);f(W)}if(O.event=="robot"&&(p(k),l.value&&(l.value=!1)),O.event=="sending"&&m("sending",O.data,k.uid),O.event=="ai_message"){const W=JSON.parse(O.data);m("ai_message",W,k.uid)}if(O.event=="quote_file"){const W=JSON.parse(O.data);m("quote_file",W,k.uid)}if(O.event=="debug"){const W=JSON.parse(O.data);m("debug",W,k.uid)}O.event=="finish"&&(a.is_sending=!1)},i.onClose=()=>{y(),v.value=!1,i=null}},_=25,x=N([]),S=N(!1),w=N(!1),E=async()=>{if(w.value||S.value)return!1;let g=0;x.value.length>0&&(g=x.value[x.value.length-1].id),S.value=!0;const k=await Hf({min_id:g,size:_,robot_key:a.robot_key});S.value=!1;const q=k.data||[];return q.length===0?(w.value=!0,!1):(x.value=[...x.value,...q],k)},P=async g=>await u(g),R=20,C=N(!1),X=async()=>{if(C.value)return;let g=0;const k=n.value.filter(O=>!O.isWelcome);k.length>0&&(g=k[0].id);const q={robot_key:a.robot_key,openid:s.openid,min_id:g,size:R,dialogue_id:o.value};try{const O=await Vf(q),W=O.data.list||[];if(W.length===0){C.value=!0;return}return W.sort((Q,Cs)=>Q.id-Cs.id),W.forEach(Q=>{Q.loading=!1,Q.uid=Qe(32),Q.is_customer==1?Q.avatar=s.avatar:Q.avatar=a.robot_avatar,Q.menu_json&&(Q.menu_json=JSON.parse(Q.menu_json)),Q.quote_file&&(Q.quote_file=JSON.parse(Q.quote_file))}),n.value=[...W,...n.value],O}catch(O){Promise.reject(O)}},re=g=>{a.prompt=g},ge=()=>qf({id:a.id,prompt:a.prompt}),Y=()=>{Wf({robot_key:a.robot_key,openid:a.openid,app_id:a.app_id}).then(g=>{a.comand_list=g.data})},_e=g=>{Object.assign(c,g)},se=g=>{a.comand_list=g.comand_list||[],a.yunpc_fast_command_switch=g.fast_command_switch};function te(){o.value=0,n.value=[],r.value="",s.admin_user_id="",s.avatar="",s.id="",s.name="",s.nickname="",s.openid="",a.id=null,a.library_ids="",a.prompt="",a.robot_avatar="",a.robot_intro="",a.robot_key="",a.robot_key="",a.robot_name="",a.yunpc_fast_command_switch="",a.openid="",a.welcomes={content:"",question:[]},l.value=!1,C.value=!1,v.value=!1,S.value=!1,w.value=!1,x.value=[]}return{$reset:te,user:s,robot:a,dialogue_id:o,openid:r,sendLock:v,messageList:n,createChat:u,sendMessage:b,getMyChatList:E,myChatList:x,openChat:P,onGetChatMessage:X,changeRobotPrompt:re,saveRobotPrompt:ge,externalConfigPC:c,upDataUiStyle:_e,getFastCommand:Y,updataQuickComand:se}});function Kf(e){return{openid:e.openid||"",robot_key:e.robot_key||"",avatar:e.avatar||"",name:e.name||"",nickname:e.nickname||"",dialogue_id:e.dialogue_id||""}}function Gf(e){return vf.some(t=>t===e.name)}function Zf(e){const t=ns();e.beforeEach(async(n,i,o)=>{const r=Kf(n.query);if(Gf(n))o();else if(t.robot.id)o();else try{await t.createChat(r),o()}catch(s){console.error("Failed to get robot info:",s)}})}const Qf=[{path:"/",name:"home",component:()=>tn(()=>import("./index-Cnh_47pP.js"),__vite__mapDeps([7,1,8]),import.meta.url)},{path:"/chat",name:"chat",component:()=>tn(()=>import("./index-BUiQbEU6.js"),__vite__mapDeps([9,1,4,2,3,5,10]),import.meta.url)}],Fn=Ms({history:Bs(),routes:Qf});async function Jf(e){Zf(Fn),e.use(Fn),await Fn.isReady()}const ep={class:"svg-action"},tp=["fill","width","height"],np=["xlink:href","fill"],ip=K({__name:"index",props:{name:{type:String,required:!0},size:{type:String,default:"1em"},width:{type:String},height:{type:String},color:{type:String,default:"currentColor"}},setup(e){const t=e,n=Te(()=>`#${t.name}`),i=Te(()=>t.width?t.width:t.size),o=Te(()=>t.height?t.height:t.size);return(r,s)=>(ee(),Ce("span",ep,[(ee(),Ce("svg",{"aria-hidden":"true",class:"svg-icon",fill:t.color,width:i.value,height:o.value},[Ee("use",{"xlink:href":n.value,fill:t.color},null,8,np)],8,tp))]))}}),op=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},rp=op(ip,[["__scopeId","data-v-3a039f58"]]),sp=e=>{e.component("SvgIcon",rp)},ap=["top","right","bottom","left"],Ho=["start","end"],Vo=ap.reduce((e,t)=>e.concat(t,t+"-"+Ho[0],t+"-"+Ho[1]),[]),Me=Math.min,Ne=Math.max,lp={left:"right",right:"left",bottom:"top",top:"bottom"},cp={start:"end",end:"start"};function ei(e,t,n){return Ne(e,Me(t,n))}function Ye(e,t){return typeof e=="function"?e(t):e}function me(e){return e.split("-")[0]}function de(e){return e.split("-")[1]}function is(e){return e==="x"?"y":"x"}function $i(e){return e==="y"?"height":"width"}function qe(e){return["top","bottom"].includes(me(e))?"y":"x"}function Oi(e){return is(qe(e))}function os(e,t,n){n===void 0&&(n=!1);const i=de(e),o=Oi(e),r=$i(o);let s=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=un(s)),[s,un(s)]}function up(e){const t=un(e);return[cn(e),t,cn(t)]}function cn(e){return e.replace(/start|end/g,t=>cp[t])}function dp(e,t,n){const i=["left","right"],o=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?r:s;default:return[]}}function hp(e,t,n,i){const o=de(e);let r=dp(me(e),n==="start",i);return o&&(r=r.map(s=>s+"-"+o),t&&(r=r.concat(r.map(cn)))),r}function un(e){return e.replace(/left|right|bottom|top/g,t=>lp[t])}function fp(e){return{top:0,right:0,bottom:0,left:0,...e}}function rs(e){return typeof e!="number"?fp(e):{top:e,right:e,bottom:e,left:e}}function Et(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function Wo(e,t,n){let{reference:i,floating:o}=e;const r=qe(t),s=Oi(t),a=$i(s),c=me(t),l=r==="y",u=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,h=i[a]/2-o[a]/2;let f;switch(c){case"top":f={x:u,y:i.y-o.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-o.width,y:d};break;default:f={x:i.x,y:i.y}}switch(de(t)){case"start":f[s]-=h*(n&&l?-1:1);break;case"end":f[s]+=h*(n&&l?-1:1);break}return f}const pp=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:s}=n,a=r.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Wo(l,i,c),h=i,f={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:b,y:_,data:x,reset:S}=await v({x:u,y:d,initialPlacement:i,placement:h,strategy:o,middlewareData:f,rects:l,platform:s,elements:{reference:e,floating:t}});u=b??u,d=_??d,f={...f,[y]:{...f[y],...x}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(l=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:u,y:d}=Wo(l,h,c)),m=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:f}};async function $n(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:r,rects:s,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ye(t,e),p=rs(f),y=a[h?d==="floating"?"reference":"floating":d],v=Et(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(y)))==null||n?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),b=d==="floating"?{x:i,y:o,width:s.floating.width,height:s.floating.height}:s.reference,_=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),x=await(r.isElement==null?void 0:r.isElement(_))?await(r.getScale==null?void 0:r.getScale(_))||{x:1,y:1}:{x:1,y:1},S=Et(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:_,strategy:c}):b);return{top:(v.top-S.top+p.top)/x.y,bottom:(S.bottom-v.bottom+p.bottom)/x.y,left:(v.left-S.left+p.left)/x.x,right:(S.right-v.right+p.right)/x.x}}const mp=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:r,platform:s,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=Ye(e,t)||{};if(l==null)return{};const d=rs(u),h={x:n,y:i},f=Oi(o),p=$i(f),m=await s.getDimensions(l),y=f==="y",v=y?"top":"left",b=y?"bottom":"right",_=y?"clientHeight":"clientWidth",x=r.reference[p]+r.reference[f]-h[f]-r.floating[p],S=h[f]-r.reference[f],w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let E=w?w[_]:0;(!E||!await(s.isElement==null?void 0:s.isElement(w)))&&(E=a.floating[_]||r.floating[p]);const P=x/2-S/2,R=E/2-m[p]/2-1,C=Me(d[v],R),X=Me(d[b],R),re=C,ge=E-m[p]-X,Y=E/2-m[p]/2+P,_e=ei(re,Y,ge),se=!c.arrow&&de(o)!=null&&Y!==_e&&r.reference[p]/2-(Y<re?C:X)-m[p]/2<0,te=se?Y<re?Y-re:Y-ge:0;return{[f]:h[f]+te,data:{[f]:_e,centerOffset:Y-_e-te,...se&&{alignmentOffset:te}},reset:se}}});function gp(e,t,n){return(e?[...n.filter(o=>de(o)===e),...n.filter(o=>de(o)!==e)]:n.filter(o=>me(o)===o)).filter(o=>e?de(o)===e||(t?cn(o)!==o:!1):!0)}const vp=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,o;const{rects:r,middlewareData:s,placement:a,platform:c,elements:l}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:h=Vo,autoAlignment:f=!0,...p}=Ye(e,t),m=d!==void 0||h===Vo?gp(d||null,f,h):h,y=await $n(t,p),v=((n=s.autoPlacement)==null?void 0:n.index)||0,b=m[v];if(b==null)return{};const _=os(b,r,await(c.isRTL==null?void 0:c.isRTL(l.floating)));if(a!==b)return{reset:{placement:m[0]}};const x=[y[me(b)],y[_[0]],y[_[1]]],S=[...((i=s.autoPlacement)==null?void 0:i.overflows)||[],{placement:b,overflows:x}],w=m[v+1];if(w)return{data:{index:v+1,overflows:S},reset:{placement:w}};const E=S.map(C=>{const X=de(C.placement);return[C.placement,X&&u?C.overflows.slice(0,2).reduce((re,ge)=>re+ge,0):C.overflows[0],C.overflows]}).sort((C,X)=>C[1]-X[1]),R=((o=E.filter(C=>C[2].slice(0,de(C[0])?2:3).every(X=>X<=0))[0])==null?void 0:o[0])||E[0][0];return R!==a?{data:{index:v+1,overflows:S},reset:{placement:R}}:{}}}},yp=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:r,rects:s,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=Ye(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const v=me(o),b=qe(a),_=me(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(l.floating)),S=h||(_||!m?[un(a)]:up(a)),w=p!=="none";!h&&w&&S.push(...hp(a,m,p,x));const E=[a,...S],P=await $n(t,y),R=[];let C=((i=r.flip)==null?void 0:i.overflows)||[];if(u&&R.push(P[v]),d){const Y=os(o,s,x);R.push(P[Y[0]],P[Y[1]])}if(C=[...C,{placement:o,overflows:R}],!R.every(Y=>Y<=0)){var X,re;const Y=(((X=r.flip)==null?void 0:X.index)||0)+1,_e=E[Y];if(_e)return{data:{index:Y,overflows:C},reset:{placement:_e}};let se=(re=C.filter(te=>te.overflows[0]<=0).sort((te,g)=>te.overflows[1]-g.overflows[1])[0])==null?void 0:re.placement;if(!se)switch(f){case"bestFit":{var ge;const te=(ge=C.filter(g=>{if(w){const k=qe(g.placement);return k===b||k==="y"}return!0}).map(g=>[g.placement,g.overflows.filter(k=>k>0).reduce((k,q)=>k+q,0)]).sort((g,k)=>g[1]-k[1])[0])==null?void 0:ge[0];te&&(se=te);break}case"initialPlacement":se=a;break}if(o!==se)return{reset:{placement:se}}}return{}}}};async function wp(e,t){const{placement:n,platform:i,elements:o}=e,r=await(i.isRTL==null?void 0:i.isRTL(o.floating)),s=me(n),a=de(n),c=qe(n)==="y",l=["left","top"].includes(s)?-1:1,u=r&&c?-1:1,d=Ye(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),c?{x:f*u,y:h*l}:{x:h*l,y:f*u}}const bp=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:r,placement:s,middlewareData:a}=t,c=await wp(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:o+c.x,y:r+c.y,data:{...c,placement:s}}}}},_p=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=Ye(e,t),l={x:n,y:i},u=await $n(t,c),d=qe(me(o)),h=is(d);let f=l[h],p=l[d];if(r){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=f+u[y],_=f-u[v];f=ei(b,f,_)}if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=p+u[y],_=p-u[v];p=ei(b,p,_)}const m=a.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-i}}}}},Sp=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:r}=t,{apply:s=()=>{},...a}=Ye(e,t),c=await $n(t,a),l=me(n),u=de(n),d=qe(n)==="y",{width:h,height:f}=i.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=u===(await(o.isRTL==null?void 0:o.isRTL(r.floating))?"start":"end")?"left":"right"):(m=l,p=u==="end"?"top":"bottom");const y=f-c.top-c.bottom,v=h-c.left-c.right,b=Me(f-c[p],y),_=Me(h-c[m],v),x=!t.middlewareData.shift;let S=b,w=_;if(d?w=u||x?Me(_,v):v:S=u||x?Me(b,y):y,x&&!u){const P=Ne(c.left,0),R=Ne(c.right,0),C=Ne(c.top,0),X=Ne(c.bottom,0);d?w=h-2*(P!==0||R!==0?P+R:Ne(c.left,c.right)):S=f-2*(C!==0||X!==0?C+X:Ne(c.top,c.bottom))}await s({...t,availableWidth:w,availableHeight:S});const E=await o.getDimensions(r.floating);return h!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}};function oe(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fe(e){return oe(e).getComputedStyle(e)}const qo=Math.min,Tt=Math.max,dn=Math.round;function ss(e){const t=fe(e);let n=parseFloat(t.width),i=parseFloat(t.height);const o=e.offsetWidth,r=e.offsetHeight,s=dn(n)!==o||dn(i)!==r;return s&&(n=o,i=r),{width:n,height:i,fallback:s}}function Pe(e){return ls(e)?(e.nodeName||"").toLowerCase():""}let Xt;function as(){if(Xt)return Xt;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Xt=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Xt):navigator.userAgent}function pe(e){return e instanceof oe(e).HTMLElement}function $e(e){return e instanceof oe(e).Element}function ls(e){return e instanceof oe(e).Node}function Uo(e){return typeof ShadowRoot>"u"?!1:e instanceof oe(e).ShadowRoot||e instanceof ShadowRoot}function On(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=fe(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function xp(e){return["table","td","th"].includes(Pe(e))}function ti(e){const t=/firefox/i.test(as()),n=fe(e),i=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!i&&i!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const r=n.contain;return r!=null&&r.includes(o)})}function cs(){return!/^((?!chrome|android).)*safari/i.test(as())}function Ci(e){return["html","body","#document"].includes(Pe(e))}function us(e){return $e(e)?e:e.contextElement}const ds={x:1,y:1};function rt(e){const t=us(e);if(!pe(t))return ds;const n=t.getBoundingClientRect(),{width:i,height:o,fallback:r}=ss(t);let s=(r?dn(n.width):n.width)/i,a=(r?dn(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}function Lt(e,t,n,i){var o,r;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=us(e);let c=ds;t&&(i?$e(i)&&(c=rt(i)):c=rt(e));const l=a?oe(a):window,u=!cs()&&n;let d=(s.left+(u&&((o=l.visualViewport)==null?void 0:o.offsetLeft)||0))/c.x,h=(s.top+(u&&((r=l.visualViewport)==null?void 0:r.offsetTop)||0))/c.y,f=s.width/c.x,p=s.height/c.y;if(a){const m=oe(a),y=i&&$e(i)?oe(i):i;let v=m.frameElement;for(;v&&i&&y!==m;){const b=rt(v),_=v.getBoundingClientRect(),x=getComputedStyle(v);_.x+=(v.clientLeft+parseFloat(x.paddingLeft))*b.x,_.y+=(v.clientTop+parseFloat(x.paddingTop))*b.y,d*=b.x,h*=b.y,f*=b.x,p*=b.y,d+=_.x,h+=_.y,v=oe(v).frameElement}}return{width:f,height:p,top:h,right:d+f,bottom:h+p,left:d,x:d,y:h}}function Oe(e){return((ls(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cn(e){return $e(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function hs(e){return Lt(Oe(e)).left+Cn(e).scrollLeft}function Nt(e){if(Pe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uo(e)&&e.host||Oe(e);return Uo(t)?t.host:t}function fs(e){const t=Nt(e);return Ci(t)?t.ownerDocument.body:pe(t)&&On(t)?t:fs(t)}function hn(e,t){var n;t===void 0&&(t=[]);const i=fs(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),r=oe(i);return o?t.concat(r,r.visualViewport||[],On(i)?i:[]):t.concat(i,hn(i))}function Yo(e,t,n){return t==="viewport"?Et(function(i,o){const r=oe(i),s=Oe(i),a=r.visualViewport;let c=s.clientWidth,l=s.clientHeight,u=0,d=0;if(a){c=a.width,l=a.height;const h=cs();(h||!h&&o==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:c,height:l,x:u,y:d}}(e,n)):$e(t)?Et(function(i,o){const r=Lt(i,!0,o==="fixed"),s=r.top+i.clientTop,a=r.left+i.clientLeft,c=pe(i)?rt(i):{x:1,y:1};return{width:i.clientWidth*c.x,height:i.clientHeight*c.y,x:a*c.x,y:s*c.y}}(t,n)):Et(function(i){const o=Oe(i),r=Cn(i),s=i.ownerDocument.body,a=Tt(o.scrollWidth,o.clientWidth,s.scrollWidth,s.clientWidth),c=Tt(o.scrollHeight,o.clientHeight,s.scrollHeight,s.clientHeight);let l=-r.scrollLeft+hs(i);const u=-r.scrollTop;return fe(s).direction==="rtl"&&(l+=Tt(o.clientWidth,s.clientWidth)-a),{width:a,height:c,x:l,y:u}}(Oe(e)))}function Xo(e){return pe(e)&&fe(e).position!=="fixed"?e.offsetParent:null}function Ko(e){const t=oe(e);let n=Xo(e);for(;n&&xp(n)&&fe(n).position==="static";)n=Xo(n);return n&&(Pe(n)==="html"||Pe(n)==="body"&&fe(n).position==="static"&&!ti(n))?t:n||function(i){let o=Nt(i);for(;pe(o)&&!Ci(o);){if(ti(o))return o;o=Nt(o)}return null}(e)||t}function Ep(e,t,n){const i=pe(t),o=Oe(t),r=Lt(e,!0,n==="fixed",t);let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(i||!i&&n!=="fixed")if((Pe(t)!=="body"||On(o))&&(s=Cn(t)),pe(t)){const c=Lt(t,!0);a.x=c.x+t.clientLeft,a.y=c.y+t.clientTop}else o&&(a.x=hs(o));return{x:r.left+s.scrollLeft-a.x,y:r.top+s.scrollTop-a.y,width:r.width,height:r.height}}const Tp={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const r=n==="clippingAncestors"?function(l,u){const d=u.get(l);if(d)return d;let h=hn(l).filter(y=>$e(y)&&Pe(y)!=="body"),f=null;const p=fe(l).position==="fixed";let m=p?Nt(l):l;for(;$e(m)&&!Ci(m);){const y=fe(m),v=ti(m);(p?v||f:v||y.position!=="static"||!f||!["absolute","fixed"].includes(f.position))?f=y:h=h.filter(b=>b!==m),m=Nt(m)}return u.set(l,h),h}(t,this._c):[].concat(n),s=[...r,i],a=s[0],c=s.reduce((l,u)=>{const d=Yo(t,u,o);return l.top=Tt(d.top,l.top),l.right=qo(d.right,l.right),l.bottom=qo(d.bottom,l.bottom),l.left=Tt(d.left,l.left),l},Yo(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const o=pe(n),r=Oe(n);if(n===r)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const c={x:0,y:0};if((o||!o&&i!=="fixed")&&((Pe(n)!=="body"||On(r))&&(s=Cn(n)),pe(n))){const l=Lt(n);a=rt(n),c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}},isElement:$e,getDimensions:function(e){return pe(e)?ss(e):e.getBoundingClientRect()},getOffsetParent:Ko,getDocumentElement:Oe,getScale:rt,async getElementRects(e){let{reference:t,floating:n,strategy:i}=e;const o=this.getOffsetParent||Ko,r=this.getDimensions;return{reference:Ep(t,await o(n),i),floating:{x:0,y:0,...await r(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>fe(e).direction==="rtl"},$p=(e,t,n)=>{const i=new Map,o={platform:Tp,...n},r={...o.platform,_c:i};return pp(e,t,{...o,platform:r})};function ps(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?ps(e[n],t[n]):e[n]=t[n])}const he={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:150,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,autoHideOnMousedown:!1,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover"],delay:{show:0,hide:400}}}};function Rt(e,t){let n=he.themes[e]||{},i;do i=n[t],typeof i>"u"?n.$extend?n=he.themes[n.$extend]||{}:(n=null,i=he[t]):n=null;while(n);return i}function Op(e){const t=[e];let n=he.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=he.themes[n.$extend]||{}):n=null;while(n);return t.map(i=>`v-popper--theme-${i}`)}function Go(e){const t=[e];let n=he.themes[e]||{};do n.$extend?(t.push(n.$extend),n=he.themes[n.$extend]||{}):n=null;while(n);return t}let dt=!1;if(typeof window<"u"){dt=!1;try{const e=Object.defineProperty({},"passive",{get(){dt=!0}});window.addEventListener("test",null,e)}catch{}}let ms=!1;typeof window<"u"&&typeof navigator<"u"&&(ms=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const gs=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),Zo={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},Qo={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function Jo(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function jn(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const ce=[];let Le=null;const er={};function tr(e){let t=er[e];return t||(t=er[e]=[]),t}let ni=function(){};typeof window<"u"&&(ni=window.Element);function I(e){return function(t){return Rt(t.theme,e)}}const Hn="__floating-vue__popper",vs=()=>K({name:"VPopper",provide(){return{[Hn]:{parentPopper:this}}},inject:{[Hn]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:I("disabled")},positioningDisabled:{type:Boolean,default:I("positioningDisabled")},placement:{type:String,default:I("placement"),validator:e=>gs.includes(e)},delay:{type:[String,Number,Object],default:I("delay")},distance:{type:[Number,String],default:I("distance")},skidding:{type:[Number,String],default:I("skidding")},triggers:{type:Array,default:I("triggers")},showTriggers:{type:[Array,Function],default:I("showTriggers")},hideTriggers:{type:[Array,Function],default:I("hideTriggers")},popperTriggers:{type:Array,default:I("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:I("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:I("popperHideTriggers")},container:{type:[String,Object,ni,Boolean],default:I("container")},boundary:{type:[String,ni],default:I("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:I("strategy")},autoHide:{type:[Boolean,Function],default:I("autoHide")},handleResize:{type:Boolean,default:I("handleResize")},instantMove:{type:Boolean,default:I("instantMove")},eagerMount:{type:Boolean,default:I("eagerMount")},popperClass:{type:[String,Array,Object],default:I("popperClass")},computeTransformOrigin:{type:Boolean,default:I("computeTransformOrigin")},autoMinSize:{type:Boolean,default:I("autoMinSize")},autoSize:{type:[Boolean,String],default:I("autoSize")},autoMaxSize:{type:Boolean,default:I("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:I("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:I("preventOverflow")},overflowPadding:{type:[Number,String],default:I("overflowPadding")},arrowPadding:{type:[Number,String],default:I("arrowPadding")},arrowOverflow:{type:Boolean,default:I("arrowOverflow")},flip:{type:Boolean,default:I("flip")},shift:{type:Boolean,default:I("shift")},shiftCrossAxis:{type:Boolean,default:I("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:I("noAutoFocus")},disposeTimeout:{type:Number,default:I("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},randomId:`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,shownChildren:new Set,lastAutoHide:!0,pendingHide:!1,containsGlobalTarget:!1,isDisposed:!0,mouseDownContains:!1}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[Hn])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},triggers:{handler:"$_refreshListeners",deep:!0},positioningDisabled:"$_refreshListeners",...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})},created(){this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var i,o;(i=this.parentPopper)!=null&&i.lockedChild&&this.parentPopper.lockedChild!==this||(this.pendingHide=!1,(n||!this.disabled)&&(((o=this.parentPopper)==null?void 0:o.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e;this.isDisposed&&(this.isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((e=this.referenceNode)==null?void 0:e.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(t=>t.nodeType===t.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.isDisposed||(this.isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(bp({mainAxis:this.distance,crossAxis:this.skidding}));const t=this.placement.startsWith("auto");if(t?e.middleware.push(vp({alignment:this.placement.split("-")[1]??""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(_p({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!t&&this.flip&&e.middleware.push(yp({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(mp({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:o,middlewareData:r})=>{let s;const{centerOffset:a}=r.arrow;return i.startsWith("top")||i.startsWith("bottom")?s=Math.abs(a)>o.reference.width/2:s=Math.abs(a)>o.reference.height/2,{data:{overflow:s}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:o,placement:r,middlewareData:s})=>{var a;if((a=s.autoSize)!=null&&a.skip)return{};let c,l;return r.startsWith("top")||r.startsWith("bottom")?c=o.reference.width:l=o.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=c!=null?`${c}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=l!=null?`${l}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(Sp({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:i,availableHeight:o})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=o!=null?`${o}px`:null}})));const n=await $p(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:n.x,y:n.y,placement:n.placement,strategy:n.strategy,arrow:{...n.middlewareData.arrow,...n.middlewareData.arrowOverflow}})},$_scheduleShow(e,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Le&&this.instantMove&&Le.instantMove&&Le!==this.parentPopper){Le.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e,t=!1){if(this.shownChildren.size>0){this.pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Le=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await jn(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...hn(this.$_referenceNode),...hn(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),i=n.parentNode.getBoundingClientRect(),o=t.x+t.width/2-(i.left+n.offsetLeft),r=t.y+t.height/2-(i.top+n.offsetTop);this.result.transformOrigin=`${o}px ${r}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<ce.length;n++)t=ce[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}ce.push(this),document.body.classList.add("v-popper--some-open");for(const t of Go(this.theme))tr(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await jn(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,Jo(ce,this),ce.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of Go(this.theme)){const i=tr(n);Jo(i,this),i.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Le===this&&(Le=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=this.disposeTimeout;t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await jn(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,Zo,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Zo,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,Qo,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],Qo,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(i=>i.addEventListener(t,n,dt?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,i,o){let r=n;i!=null&&(r=typeof i=="function"?i(r):i),r.forEach(s=>{const a=t[s];a&&this.$_registerEventListeners(e,a,o)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:i,eventType:o,handler:r}=n;!e||e===o?i.forEach(s=>s.removeEventListener(o,r)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const i=n.getAttribute(e);i&&(n.removeAttribute(e),n.setAttribute(t,i))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const i=e[n];i==null?t.removeAttribute(n):t.setAttribute(n,i)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if($t>=e.left&&$t<=e.right&&Ot>=e.top&&Ot<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=$t-Se,i=Ot-xe,o=t.left+t.width/2-Se+(t.top+t.height/2)-xe+t.width+t.height,r=Se+n*o,s=xe+i*o;return Kt(Se,xe,r,s,t.left,t.top,t.left,t.bottom)||Kt(Se,xe,r,s,t.left,t.top,t.right,t.top)||Kt(Se,xe,r,s,t.right,t.top,t.right,t.bottom)||Kt(Se,xe,r,s,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});if(typeof document<"u"&&typeof window<"u"){if(ms){const e=dt?{passive:!0,capture:!0}:!0;document.addEventListener("touchstart",t=>nr(t,!0),e),document.addEventListener("touchend",t=>ir(t,!0),e)}else window.addEventListener("mousedown",e=>nr(e,!1),!0),window.addEventListener("click",e=>ir(e,!1),!0);window.addEventListener("resize",Ap)}function nr(e,t){if(he.autoHideOnMousedown)ys(e,t);else for(let n=0;n<ce.length;n++){const i=ce[n];try{i.mouseDownContains=i.popperNode().contains(e.target)}catch{}}}function ir(e,t){he.autoHideOnMousedown||ys(e,t)}function ys(e,t){const n={};for(let i=ce.length-1;i>=0;i--){const o=ce[i];try{const r=o.containsGlobalTarget=o.mouseDownContains||o.popperNode().contains(e.target);o.pendingHide=!1,requestAnimationFrame(()=>{if(o.pendingHide=!1,!n[o.randomId]&&or(o,r,e)){if(o.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&r){let a=o.parentPopper;for(;a;)n[a.randomId]=!0,a=a.parentPopper;return}let s=o.parentPopper;for(;s&&or(s,s.containsGlobalTarget,e);)s.$_handleGlobalClose(e,t),s=s.parentPopper}})}catch{}}}function or(e,t,n){return n.closeAllPopover||n.closePopover&&t||Cp(e,n)&&!t}function Cp(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function Ap(){for(let e=0;e<ce.length;e++)ce[e].$_computePosition()}let Se=0,xe=0,$t=0,Ot=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{Se=$t,xe=Ot,$t=e.clientX,Ot=e.clientY},dt?{passive:!0}:void 0);function Kt(e,t,n,i,o,r,s,a){const c=((s-o)*(t-r)-(a-r)*(e-o))/((a-r)*(n-e)-(s-o)*(i-t)),l=((n-e)*(t-r)-(i-t)*(e-o))/((a-r)*(n-e)-(s-o)*(i-t));return c>=0&&c<=1&&l>=0&&l<=1}const Pp={extends:vs()},An=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n};function kp(e,t,n,i,o,r){return ee(),Ce("div",{ref:"reference",class:ci(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[At(e.$slots,"default",Ws(qs(e.slotData)))],2)}const Dp=An(Pp,[["render",kp]]);function Ip(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):-1}let Jt;function ii(){ii.init||(ii.init=!0,Jt=Ip()!==-1)}var Pn={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){ii(),Be(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Jt&&this.$el.appendChild(e),e.data="about:blank",Jt||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Jt&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Lp=Hs();Fs("data-v-b329ee4c");const Np={class:"resize-observer",tabindex:"-1"};js();const Rp=Lp((e,t,n,i,o,r)=>(ee(),Mt("div",Np)));Pn.render=Rp;Pn.__scopeId="data-v-b329ee4c";Pn.__file="src/components/ResizeObserver.vue";const ws=(e="theme")=>({computed:{themeClass(){return Op(this[e])}}}),zp=K({name:"VPopperContent",components:{ResizeObserver:Pn},mixins:[ws()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),Mp=["id","aria-hidden","tabindex","data-popper-placement"],Bp={ref:"inner",class:"v-popper__inner"},Fp=Ee("div",{class:"v-popper__arrow-outer"},null,-1),jp=Ee("div",{class:"v-popper__arrow-inner"},null,-1),Hp=[Fp,jp];function Vp(e,t,n,i,o,r){const s=st("ResizeObserver");return ee(),Ce("div",{id:e.popperId,ref:"popover",class:ci(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:kn(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=Vs(a=>e.autoHide&&e.$emit("hide"),["esc"]))},[Ee("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=a=>e.autoHide&&e.$emit("hide"))}),Ee("div",{class:"v-popper__wrapper",style:kn(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[Ee("div",Bp,[e.mounted?(ee(),Ce(fr,{key:0},[Ee("div",null,[At(e.$slots,"default")]),e.handleResize?(ee(),Mt(s,{key:0,onNotify:t[1]||(t[1]=a=>e.$emit("resize",a))})):ki("",!0)],64)):ki("",!0)],512),Ee("div",{ref:"arrow",class:"v-popper__arrow-container",style:kn(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},Hp,4)],4)],46,Mp)}const bs=An(zp,[["render",Vp]]),_s={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}};let oi=function(){};typeof window<"u"&&(oi=window.Element);const Wp=K({name:"VPopperWrapper",components:{Popper:Dp,PopperContent:bs},mixins:[_s,ws("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,oi,Boolean],default:void 0},boundary:{type:[String,oi],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function qp(e,t,n,i,o,r){const s=st("PopperContent"),a=st("Popper");return ee(),Mt(a,He({ref:"popper"},e.$props,{theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:[e.themeClass],onShow:t[0]||(t[0]=()=>e.$emit("show")),onHide:t[1]||(t[1]=()=>e.$emit("hide")),"onUpdate:shown":t[2]||(t[2]=c=>e.$emit("update:shown",c)),onApplyShow:t[3]||(t[3]=()=>e.$emit("apply-show")),onApplyHide:t[4]||(t[4]=()=>e.$emit("apply-hide")),onCloseGroup:t[5]||(t[5]=()=>e.$emit("close-group")),onCloseDirective:t[6]||(t[6]=()=>e.$emit("close-directive")),onAutoHide:t[7]||(t[7]=()=>e.$emit("auto-hide")),onResize:t[8]||(t[8]=()=>e.$emit("resize"))}),{default:Ct(({popperId:c,isShown:l,shouldMountContent:u,skipTransition:d,autoHide:h,show:f,hide:p,handleResize:m,onResize:y,classes:v,result:b})=>[At(e.$slots,"default",{shown:l,show:f,hide:p}),D(s,{ref:"popperContent","popper-id":c,theme:e.finalTheme,shown:l,mounted:u,"skip-transition":d,"auto-hide":h,"handle-resize":m,classes:v,result:b,onHide:p,onResize:y},{default:Ct(()=>[At(e.$slots,"popper",{shown:l,hide:p})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const Ai=An(Wp,[["render",qp]]),Up={...Ai,name:"VDropdown",vPopperTheme:"dropdown"},Yp={...Ai,name:"VMenu",vPopperTheme:"menu"},Xp={...Ai,name:"VTooltip",vPopperTheme:"tooltip"},Kp=K({name:"VTooltipDirective",components:{Popper:vs(),PopperContent:bs},mixins:[_s],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>Rt(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>Rt(e.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(i=>this.onResult(t,i)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),Gp=["innerHTML"],Zp=["textContent"];function Qp(e,t,n,i,o,r){const s=st("PopperContent"),a=st("Popper");return ee(),Mt(a,He({ref:"popper"},e.$attrs,{theme:e.theme,"target-nodes":e.targetNodes,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:Ct(({popperId:c,isShown:l,shouldMountContent:u,skipTransition:d,autoHide:h,hide:f,handleResize:p,onResize:m,classes:y,result:v})=>[D(s,{ref:"popperContent",class:ci({"v-popper--tooltip-loading":e.loading}),"popper-id":c,theme:e.theme,shown:l,mounted:u,"skip-transition":d,"auto-hide":h,"handle-resize":p,classes:y,result:v,onHide:f,onResize:m},{default:Ct(()=>[e.html?(ee(),Ce("div",{key:0,innerHTML:e.finalContent},null,8,Gp)):(ee(),Ce("div",{key:1,textContent:Us(e.finalContent)},null,8,Zp))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const Jp=An(Kp,[["render",Qp]]),Ss="v-popper--has-tooltip";function em(e,t){let n=e.placement;if(!n&&t)for(const i of gs)t[i]&&(n=i);return n||(n=Rt(e.theme||"tooltip","placement")),n}function xs(e,t,n){let i;const o=typeof t;return o==="string"?i={content:t}:t&&o==="object"?i=t:i={content:!1},i.placement=em(i,n),i.targetNodes=()=>[e],i.referenceNode=()=>e,i}let Vn,zt,tm=0;function nm(){if(Vn)return;zt=N([]),Vn=ai({name:"VTooltipDirectiveApp",setup(){return{directives:zt}},render(){return this.directives.map(t=>qn(Jp,{...t.options,shown:t.shown||t.options.shown,key:t.id}))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),Vn.mount(e)}function im(e,t,n){nm();const i=N(xs(e,t,n)),o=N(!1),r={id:tm++,options:i,shown:o};return zt.value.push(r),e.classList&&e.classList.add(Ss),e.$_popper={options:i,item:r,show(){o.value=!0},hide(){o.value=!1}}}function Es(e){if(e.$_popper){const t=zt.value.indexOf(e.$_popper.item);t!==-1&&zt.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(Ss)}function rr(e,{value:t,modifiers:n}){const i=xs(e,t,n);if(!i.content||Rt(i.theme||"tooltip","disabled"))Es(e);else{let o;e.$_popper?(o=e.$_popper,o.options.value=i):o=im(e,t,n),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?o.show():o.hide())}}const om={beforeMount:rr,updated:rr,beforeUnmount(e){Es(e)}};function sr(e){e.addEventListener("mousedown",fn),e.addEventListener("click",fn),e.addEventListener("touchstart",Ts,dt?{passive:!0}:!1)}function ar(e){e.removeEventListener("mousedown",fn),e.removeEventListener("click",fn),e.removeEventListener("touchstart",Ts),e.removeEventListener("touchend",$s),e.removeEventListener("touchcancel",Os)}function fn(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function Ts(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",$s),t.addEventListener("touchcancel",Os)}}function $s(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],i=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-i.screenY)<20&&Math.abs(n.screenX-i.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function Os(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}const rm={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t>"u"||t)&&sr(e)},updated(e,{value:t,oldValue:n,modifiers:i}){e.$_closePopoverModifiers=i,t!==n&&(typeof t>"u"||t?sr(e):ar(e))},beforeUnmount(e){ar(e)}};function sm(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,ps(he,t),e.directive("tooltip",om),e.directive("close-popper",rm),e.component("VTooltip",Xp),e.component("VDropdown",Up),e.component("VMenu",Yp))}const am={version:"5.2.2",install:sm,options:he},lm=ts();window.addEventListener("message",function(e){const t=e.data;t.action==="openWindow"&&lm.emit("openWindow",e.data);const n=ns(),{upDataUiStyle:i,updataQuickComand:o}=n;switch(t.type){case"onPreview":{i(t.data);break}case"updataQuickComand":{o(t.data);break}}});const cm=async()=>{const e=ai(su);await ru(e),Al(e),Jf(e),wl(e),sp(e),e.use(ff),e.use(am),e.mount("#app")};cm();export{vm as D,op as _,ts as a,Xf as b,ym as e,gm as g,Cr as s,ns as u};
