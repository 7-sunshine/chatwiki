const __vite__fileDeps=["assets/js/en-US-m1451PQz.js","assets/js/vue-chunks-Bd9XTHQu.js","assets/js/axios-B4uVmeYG.js","assets/js/qs-DrHefV6n.js","assets/js/dayjs-C4iS2aBk.js","assets/js/crypto-js-BJ7SvduI.js","assets/js/zh-CN--uaYA9XH.js","assets/js/index-BuJQToxx.js","assets/css/index-cOql1q-t.css","assets/js/index-CplD5Rfx.js","assets/css/index-BrfpQIMB.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Jn=Object.defineProperty;var Qn=(e,t,n)=>t in e?Jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var V=(e,t,n)=>(Qn(e,typeof t!="symbol"?t+"":t,n),n);import{o as ht,a as We,i as eo,w as B,b as Ke,n as vt,c as mt,u as xe,r as E,d as gt,e as W,f as K,g as ye,p as yt,h as to,j as z,k as b,l as bt,m as dn,q as ve,T as pn,s as hn,v as vn,t as no,F as mn,x as gn,y as oo,z as wt,A as ro,B as ao,C as io,D as it,E as so,R as co,G as lo,H as uo,I as Rt,J as fo}from"./assets/js/vue-chunks-Bd9XTHQu.js";import{a as po}from"./assets/js/axios-B4uVmeYG.js";import{q as ho}from"./assets/js/qs-DrHefV6n.js";import"./assets/js/dayjs-C4iS2aBk.js";import"./assets/js/crypto-js-BJ7SvduI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol fill="none"  viewBox="0 0 16 16" id="down-arrow"><path d="m12 6-4 4-4-4" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" /></symbol><symbol fill="none"  viewBox="0 0 40 40" class="design-iconfont" id="paper-airplane-new-active"><path fill="url(#paper-airplane-new-active_a)" d="M20 0a20 20 0 1 0 0 40 20 20 0 1 0 0-40Z" /><path d="M20.997 10.248c.43.202.77.545.975.957l7.799 15.57c.536 1.105.099 2.438-.975 2.998a2.26 2.26 0 0 1-1.65.127l-5.502-1.703a1.208 1.208 0 0 1-.847-1.156c0-1.09-.8-6.766-.8-6.766s-.8 5.69-.8 6.762c0 .533-.346 1.003-.853 1.157l-5.521 1.68a2.184 2.184 0 0 1-2.725-1.486 2.134 2.134 0 0 1 .15-1.638l7.8-15.545c.55-1.086 1.874-1.523 2.949-.957Z" fill="#F5F9FF" /><defs><linearGradient id="paper-airplane-new-active_a" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#36ABFF" /><stop offset="1" stop-color="#2476FF" /></linearGradient></defs></symbol><symbol fill="none"  viewBox="0 0 40 40" class="design-iconfont" id="paper-airplane-new"><g opacity=".5"><path fill="url(#paper-airplane-new_a)" d="M20 0a20 20 0 1 0 0 40 20 20 0 1 0 0-40Z" /><path d="M20.997 10.248c.43.202.77.545.975.957l7.799 15.57c.536 1.105.099 2.438-.975 2.998a2.26 2.26 0 0 1-1.65.127l-5.502-1.703a1.208 1.208 0 0 1-.847-1.156c0-1.09-.8-6.766-.8-6.766s-.8 5.69-.8 6.762c0 .533-.346 1.003-.853 1.157l-5.521 1.68a2.184 2.184 0 0 1-2.725-1.486 2.134 2.134 0 0 1 .15-1.638l7.8-15.545c.55-1.086 1.874-1.523 2.949-.957Z" fill="#F5F9FF" /></g><defs><linearGradient id="paper-airplane-new_a" x1="0" y1="0" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#36ABFF" /><stop offset="1" stop-color="#2476FF" /></linearGradient></defs></symbol><symbol fill="none"  viewBox="0 0 20 20" id="paper-airplane"><path d="M17.5 3.333 12.543 17.5 9.71 11.125 3.334 8.292l14.167-4.959ZM17.5 3.333 9.71 11.125" stroke="currentColor" stroke-width="1.625" stroke-linecap="round" stroke-linejoin="round" /></symbol><symbol fill="none"  viewBox="0 0 22 25" id="pointer"><g filter="url(#pointer_a)"><mask id="pointer_b" maskUnits="userSpaceOnUse" x="3" y="2" width="16" height="19" fill="#000"><path fill="#fff" d="M3 2h16v19H3z" /><path fill-rule="evenodd" clip-rule="evenodd" d="m7.836 13-.887-1.355c-.605-.925-1.895-1.262-2.881-.755l.23-.118a.572.572 0 0 0-.262.7l1.227 3.175c.195.504.692 1.216 1.104 1.573 0 0 2.469 2.044 2.469 2.81V20h4l1-2 1 2h1v-.97c0-.766 1.508-3.18 1.508-3.18.278-.468.51-1.295.51-1.843V9.972c-.018-.893-.778-1.617-1.715-1.617-.468 0-.848.362-.848.808v.324c0-.894-.76-1.618-1.696-1.618-.47 0-.849.362-.849.81V9c0-.893-.76-1.617-1.696-1.617-.469 0-.849.362-.849.809v.323c0-.143-.015-.258-.045-.348l-.258-4.167A1.072 1.072 0 0 0 8.836 3c-.557 0-1 .448-1 1v9Zm7.018-1h1v4h-1v-4Zm-2 0h1v4h-1v-4Zm-2 0h1v4h-1v-4Z" /></mask><path fill-rule="evenodd" clip-rule="evenodd" d="m7.836 13-.887-1.355c-.605-.925-1.895-1.262-2.881-.755l.23-.118a.572.572 0 0 0-.262.7l1.227 3.175c.195.504.692 1.216 1.104 1.573 0 0 2.469 2.044 2.469 2.81V20h4l1-2 1 2h1v-.97c0-.766 1.508-3.18 1.508-3.18.278-.468.51-1.295.51-1.843V9.972c-.018-.893-.778-1.617-1.715-1.617-.468 0-.848.362-.848.808v.324c0-.894-.76-1.618-1.696-1.618-.47 0-.849.362-.849.81V9c0-.893-.76-1.617-1.696-1.617-.469 0-.849.362-.849.809v.323c0-.143-.015-.258-.045-.348l-.258-4.167A1.072 1.072 0 0 0 8.836 3c-.557 0-1 .448-1 1v9Zm7.018-1h1v4h-1v-4Zm-2 0h1v4h-1v-4Zm-2 0h1v4h-1v-4Z" fill="#fff" /><path d="m7.836 13-.837.548 1.837 2.806V13h-1Zm-.887-1.355.837-.547-.837.547Zm-2.913-.173-.933.36.933-.36Zm1.227 3.175.933-.36-.933.36Zm1.104 1.573-.656.755.009.008.009.008.638-.77ZM8.836 20h-1v1h1v-1Zm4 0v1h.618l.276-.553-.895-.447Zm1-2 .894-.447-.895-1.79-.894 1.79.894.447Zm1 2-.895.447.276.553h.618v-1Zm1 0v1h1v-1h-1Zm1.508-4.15.848.53.007-.01.006-.01-.86-.51Zm.51-5.878h1v-.02l-1 .02Zm-7.697-1.804-.999.062.008.128.04.121.95-.311Zm-.26-4.167-.997.062.998-.062ZM7.837 4h-1 1Zm8.018 8h1v-1h-1v1Zm0 4v1h1v-1h-1Zm-1 0h-1v1h1v-1Zm-1-4h1v-1h-1v1Zm0 4v1h1v-1h-1Zm-1 0h-1v1h1v-1Zm-1-4h1v-1h-1v1Zm0 4v1h1v-1h-1Zm-1 0h-1v1h1v-1Zm-2.182-3.548-.886-1.354-1.674 1.095L7 13.548l1.673-1.096Zm-.886-1.354C6.898 9.742 5.049 9.26 3.61 10l.915 1.778c.534-.274 1.264-.08 1.587.414l1.674-1.095Zm-3.261.681.23-.118-.915-1.779-.23.119.915 1.778ZM3.84 9.882a1.571 1.571 0 0 0-.737 1.95l1.866-.72a.435.435 0 0 1 .005.31.45.45 0 0 1-.22.24l-.914-1.78Zm-.737 1.95 1.228 3.176 1.865-.721-1.227-3.175-1.866.72Zm1.228 3.176c.252.654.844 1.502 1.38 1.967l1.311-1.51c-.287-.25-.69-.825-.826-1.178l-1.865.72Zm2.036 1.212-.638.77v.001l.005.004a2.638 2.638 0 0 1 .091.077 21.981 21.981 0 0 1 1.075.979c.296.29.568.581.759.829.096.124.154.215.184.272.04.078-.007.022-.007-.122h2c0-.336-.126-.623-.22-.804-.105-.2-.24-.395-.375-.57a10.688 10.688 0 0 0-.939-1.031 22.293 22.293 0 0 0-1.265-1.148l-.023-.02-.007-.005-.002-.001-.638.77Zm1.469 2.81V20h2v-.97h-2Zm1 1.97h4v-2h-4v2Zm4.894-.553 1-2-1.789-.894-1 2 1.789.894Zm-.789-2 1 2 1.789-.894-1-2-1.789.894ZM14.835 21h1v-2h-1v2Zm2-1v-.97h-2V20h2Zm0-.97c0 .036.011-.086.157-.43.124-.293.296-.635.478-.972a25.155 25.155 0 0 1 .663-1.15l.045-.074.011-.018.003-.004v-.001l-.848-.53-.848-.53-.001.002a.192.192 0 0 1-.004.006l-.014.023a28.588 28.588 0 0 0-.767 1.326c-.196.362-.4.767-.56 1.142-.137.324-.315.791-.315 1.21h2Zm1.37-2.67c.198-.334.354-.747.462-1.134a4.75 4.75 0 0 0 .187-1.22h-2c0 .155-.037.404-.114.685-.078.28-.176.515-.256.65l1.72 1.02Zm.649-2.353V9.972h-2v4.035h2Zm0-4.055c-.03-1.47-1.266-2.597-2.715-2.597v2c.426 0 .708.32.715.637l2-.04Zm-2.715-2.597c-.975 0-1.848.765-1.848 1.808h2c0 .069-.03.123-.062.152a.134.134 0 0 1-.09.04v-2Zm-1.848 1.808v.324h2v-.324h-2Zm2 .324c0-1.49-1.253-2.618-2.696-2.618v2c.43 0 .696.321.696.618h2Zm-2.696-2.618c-.976 0-1.849.766-1.849 1.81h2c0 .067-.03.122-.061.15a.134.134 0 0 1-.09.04v-2Zm-1.849 1.81V9h2v-.323h-2Zm2 .322c0-1.49-1.252-2.617-2.696-2.617v2c.43 0 .696.32.696.617h2ZM11.05 6.384c-.976 0-1.849.765-1.849 1.809h2c0 .068-.03.122-.061.152a.134.134 0 0 1-.09.04v-2ZM9.2 8.193v.323h2v-.323h-2Zm2 .323c0-.207-.02-.435-.094-.66l-1.9.623c-.009-.023-.01-.035-.008-.027 0 .007.002.027.002.064h2Zm-.046-.41-.26-4.167-1.995.124.258 4.167 1.997-.124Zm-.26-4.167A2.072 2.072 0 0 0 8.836 2v2c.01 0 .025.003.042.02.016.014.022.03.023.043l1.996-.124ZM8.836 2c-1.11 0-2 .898-2 2h2V2Zm-2 2v4h2V4h-2Zm0 4v5h2V8h-2Zm8.019 5h1v-2h-1v2Zm0-1v4h2v-4h-2Zm1 3h-1v2h1v-2Zm0 1v-4h-2v4h2Zm-3-3h1v-2h-1v2Zm0-1v4h2v-4h-2Zm1 3h-1v2h1v-2Zm0 1v-4h-2v4h2Zm-3-3h1v-2h-1v2Zm0-1v4h2v-4h-2Zm1 3h-1v2h1v-2Zm0 1v-4h-2v4h2Z" fill="#000" fill-opacity=".8" mask="url(#pointer_b)" /></g><defs><filter id="pointer_a" x="0" y="0" width="21.854" height="25" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="1.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_1405_7552"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_1405_7552" result="shape"></feBlend></filter></defs></symbol>',t.insertBefore(n,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}function vo(){}const U=Object.assign,ke=typeof window<"u",Ye=e=>e!==null&&typeof e=="object",te=e=>e!=null,st=e=>typeof e=="function",mo=e=>Ye(e)&&st(e.then)&&st(e.catch),yn=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),go=()=>ke?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function $t(e,t){const n=t.split(".");let o=e;return n.forEach(r=>{var a;o=Ye(o)&&(a=o[r])!=null?a:""}),o}function bn(e,t,n){return t.reduce((o,r)=>(o[r]=e[r],o),{})}const Te=null,$=[Number,String],F={type:Boolean,default:!0},yo=()=>({type:Array,default:()=>[]}),bo=e=>({type:Number,default:e}),I=e=>({type:String,default:e});var Ge=typeof window<"u",wo=e=>e===window,Bt=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Pc=e=>{const t=xe(e);if(wo(t)){const n=t.innerWidth,o=t.innerHeight;return Bt(n,o)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():Bt(0,0)};function Ac(e){const t=gt(e,null);if(t){const n=ye(),{link:o,unlink:r,internalChildren:a}=t;o(n),ht(()=>r(n));const s=W(()=>a.indexOf(n));return{parent:t,index:s}}return{parent:null,index:E(-1)}}function _o(e){const t=[],n=o=>{Array.isArray(o)&&o.forEach(r=>{var a;to(r)&&(t.push(r),(a=r.component)!=null&&a.subTree&&(t.push(r.component.subTree),n(r.component.subTree.children)),r.children&&n(r.children))})};return n(e),t}var Dt=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(o=>t.key!==void 0&&t.key!==null&&o.type===t.type&&o.key===t.key):n};function Oo(e,t,n){const o=_o(e.subTree.children);n.sort((a,s)=>Dt(o,a.vnode)-Dt(o,s.vnode));const r=n.map(a=>a.proxy);t.sort((a,s)=>{const i=r.indexOf(a),c=r.indexOf(s);return i-c})}function Ic(e){const t=K([]),n=K([]),o=ye();return{children:t,linkChildren:a=>{yt(e,Object.assign({link:c=>{c.proxy&&(n.push(c),t.push(c.proxy),Oo(o,t,n))},unlink:c=>{const u=n.indexOf(c);t.splice(u,1),n.splice(u,1)},children:t,internalChildren:n},a))}}}function wn(e){let t;Ke(()=>{e(),vt(()=>{t=!0})}),mt(()=>{t&&e()})}function _t(e,t,n={}){if(!Ge)return;const{target:o=window,passive:r=!1,capture:a=!1}=n;let s=!1,i;const c=f=>{if(s)return;const p=xe(f);p&&!i&&(p.addEventListener(e,t,{capture:a,passive:r}),i=!0)},u=f=>{if(s)return;const p=xe(f);p&&i&&(p.removeEventListener(e,t,a),i=!1)};ht(()=>u(o)),We(()=>u(o)),wn(()=>c(o));let l;return eo(o)&&(l=B(o,(f,p)=>{u(p),c(f)})),()=>{l==null||l(),u(o),s=!0}}function So(e,t,n={}){if(!Ge)return;const{eventName:o="click"}=n;_t(o,a=>{(Array.isArray(e)?e:[e]).every(c=>{const u=xe(c);return u&&!u.contains(a.target)})&&t(a)},{target:document})}var Re,tt;function Eo(){if(!Re&&(Re=E(0),tt=E(0),Ge)){const e=()=>{Re.value=window.innerWidth,tt.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:Re,height:tt}}var Co=/scroll|auto|overlay/i,xo=Ge?window:void 0;function ko(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function To(e,t=xo){let n=e;for(;n&&n!==t&&ko(n);){const{overflowY:o}=window.getComputedStyle(n);if(Co.test(o))return n;n=n.parentNode}return t}go();const Po=e=>e.stopPropagation();function Ot(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Po(e)}const{width:Lc,height:Rc}=Eo();function N(e){if(te(e))return yn(e)?`${e}px`:String(e)}function Ao(e){if(te(e)){if(Array.isArray(e))return{width:N(e[0]),height:N(e[1])};const t=N(e);return{width:t,height:t}}}function Io(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Lo=/-(\w)/g,_n=e=>e.replace(Lo,(t,n)=>n.toUpperCase()),Ro=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:$o}=Object.prototype;function Bo(e,t,n){const o=t[n];te(o)&&(!$o.call(e,n)||!Ye(o)?e[n]=o:e[n]=On(Object(e[n]),o))}function On(e,t){return Object.keys(t).forEach(n=>{Bo(e,t,n)}),e}var Sn={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const Mt=E("zh-CN"),jt=K({"zh-CN":Sn}),En={messages(){return jt[Mt.value]},use(e,t){Mt.value=e,this.add({[e]:t})},add(e={}){On(jt,e)}};var Do=En;function Mo(e){const t=_n(e)+".";return(n,...o)=>{const r=Do.messages(),a=$t(r,t+n)||$t(r,n);return st(a)?a(...o):a}}function ct(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+ct(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?ct(e,o):""),""):""}function jo(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${ct(t,n)}`)}function X(e){const t=`van-${e}`;return[t,jo(t),Mo(t)]}const Ie="van-hairline",$c=`${Ie}--top`,Bc=`${Ie}--left`,No=`${Ie}--right`,Fo=`${Ie}--bottom`,qo=`${Ie}--surround`,zo="van-haptics-feedback",Nt=5;function Zo(e,{args:t=[],done:n,canceled:o,error:r}){if(e){const a=e.apply(null,t);mo(a)?a.then(s=>{s?n():o&&o()}).catch(r||vo):a?n():o&&o()}else n()}function J(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(_n(`-${n}`),e))},e}const Cn=Symbol();function Dc(e){const t=gt(Cn,null);t&&B(t,n=>{n&&e()})}function xn(e){const t=ye();t&&U(t.proxy,e)}const Uo={to:[String,Object],url:String,replace:Boolean};function Vo({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Ho(){const e=ye().proxy;return()=>Vo(e)}const[Wo,Ft]=X("badge"),Ko={dot:Boolean,max:$,tag:I("div"),color:String,offset:Array,content:$,showZero:F,position:I("top-right")};var Yo=z({name:Wo,props:Ko,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:i,showZero:c}=e;return te(i)&&i!==""&&(c||i!==0&&i!=="0")},o=()=>{const{dot:i,max:c,content:u}=e;if(!i&&n())return t.content?t.content():te(c)&&yn(u)&&+u>+c?`${c}+`:u},r=i=>i.startsWith("-")?i.replace("-",""):`-${i}`,a=W(()=>{const i={background:e.color};if(e.offset){const[c,u]=e.offset,{position:l}=e,[f,p]=l.split("-");t.default?(typeof u=="number"?i[f]=N(f==="top"?u:-u):i[f]=f==="top"?N(u):r(u),typeof c=="number"?i[p]=N(p==="left"?c:-c):i[p]=p==="left"?N(c):r(c)):(i.marginTop=N(u),i.marginLeft=N(c))}return i}),s=()=>{if(n()||e.dot)return b("div",{class:Ft([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:i}=e;return b(i,{class:Ft("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const Go=J(Yo);let kn=2e3;const Xo=()=>++kn,Jo=e=>{kn=e},[Tn,Qo]=X("config-provider"),Pn=Symbol(Tn),er={tag:I("div"),theme:I("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:I("local"),iconPrefix:String};function tr(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function nr(e){const t={};return Object.keys(e).forEach(n=>{const o=tr(Ro(n));t[`--van-${o}`]=e[n]}),t}function $e(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var or=z({name:Tn,props:er,setup(e,{slots:t}){const n=W(()=>nr(U({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(ke){const o=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(a=e.theme)=>{document.documentElement.classList.remove(`van-theme-${a}`)};B(()=>e.theme,(a,s)=>{s&&r(s),o()},{immediate:!0}),mt(o),We(r),bt(r),B(n,(a,s)=>{e.themeVarsScope==="global"&&$e(a,s)}),B(()=>e.themeVarsScope,(a,s)=>{s==="global"&&$e({},n.value),a==="global"&&$e(n.value,{})}),e.themeVarsScope==="global"&&$e(n.value,{})}return yt(Pn,e),dn(()=>{e.zIndex!==void 0&&Jo(e.zIndex)}),()=>b(e.tag,{class:Qo(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[rr,qt]=X("icon"),ar=e=>e==null?void 0:e.includes("/"),ir={dot:Boolean,tag:I("i"),name:String,size:$,badge:$,color:String,badgeProps:Object,classPrefix:String};var sr=z({name:rr,props:ir,setup(e,{slots:t}){const n=gt(Pn,null),o=W(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||qt());return()=>{const{tag:r,dot:a,name:s,size:i,badge:c,color:u}=e,l=ar(s);return b(Go,ve({dot:a,tag:r,class:[o.value,l?"":`${o.value}-${s}`],style:{color:u,fontSize:N(i)},content:c},e.badgeProps),{default:()=>{var f;return[(f=t.default)==null?void 0:f.call(t),l&&b("img",{class:qt("image"),src:s},null)]}})}}});const Le=J(sr),[cr,Ee]=X("loading"),lr=Array(12).fill(null).map((e,t)=>b("i",{class:Ee("line",String(t+1))},null)),ur=b("svg",{class:Ee("circular"),viewBox:"25 25 50 50"},[b("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),fr={size:$,type:I("circular"),color:String,vertical:Boolean,textSize:$,textColor:String};var dr=z({name:cr,props:fr,setup(e,{slots:t}){const n=W(()=>U({color:e.color},Ao(e.size))),o=()=>{const a=e.type==="spinner"?lr:ur;return b("span",{class:Ee("spinner",e.type),style:n.value},[t.icon?t.icon():a])},r=()=>{var a;if(t.default)return b("span",{class:Ee("text"),style:{fontSize:N(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[t.default()])};return()=>{const{type:a,vertical:s}=e;return b("div",{class:Ee([a,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[o(),r()])}}});const An=J(dr),[pr,ue]=X("button"),hr=U({},Uo,{tag:I("button"),text:String,icon:String,type:I("default"),size:I("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:I("button"),loadingSize:$,loadingText:String,loadingType:String,iconPosition:I("left")});var vr=z({name:pr,props:hr,emits:["click"],setup(e,{emit:t,slots:n}){const o=Ho(),r=()=>n.loading?n.loading():b(An,{size:e.loadingSize,type:e.loadingType,class:ue("loading")},null),a=()=>{if(e.loading)return r();if(n.icon)return b("div",{class:ue("icon")},[n.icon()]);if(e.icon)return b(Le,{name:e.icon,class:ue("icon"),classPrefix:e.iconPrefix},null)},s=()=>{let u;if(e.loading?u=e.loadingText:u=n.default?n.default():e.text,u)return b("span",{class:ue("text")},[u])},i=()=>{const{color:u,plain:l}=e;if(u){const f={color:l?u:"white"};return l||(f.background=u),u.includes("gradient")?f.border=0:f.borderColor=u,f}},c=u=>{e.loading?Ot(u):e.disabled||(t("click",u),o())};return()=>{const{tag:u,type:l,size:f,block:p,round:h,plain:w,square:g,loading:_,disabled:C,hairline:y,nativeType:T,iconPosition:x}=e,O=[ue([l,f,{plain:w,block:p,round:h,square:g,loading:_,disabled:C,hairline:y}]),{[qo]:y}];return b(u,{type:T,class:O,style:i(),disabled:C,onClick:c},{default:()=>[b("div",{class:ue("content")},[x==="left"&&a(),s(),x==="right"&&a()])]})}}});const mr=J(vr),In={show:Boolean,zIndex:$,overlay:F,duration:$,teleport:[String,Object],lockScroll:F,lazyRender:F,beforeClose:Function,overlayStyle:Object,overlayClass:Te,transitionAppear:Boolean,closeOnClickOverlay:F},Mc=Object.keys(In);function gr(e,t){return e>t?"horizontal":t>e?"vertical":""}function yr(){const e=E(0),t=E(0),n=E(0),o=E(0),r=E(0),a=E(0),s=E(""),i=E(!0),c=()=>s.value==="vertical",u=()=>s.value==="horizontal",l=()=>{n.value=0,o.value=0,r.value=0,a.value=0,s.value="",i.value=!0};return{move:h=>{const w=h.touches[0];n.value=(w.clientX<0?0:w.clientX)-e.value,o.value=w.clientY-t.value,r.value=Math.abs(n.value),a.value=Math.abs(o.value);const g=10;(!s.value||r.value<g&&a.value<g)&&(s.value=gr(r.value,a.value)),i.value&&(r.value>Nt||a.value>Nt)&&(i.value=!1)},start:h=>{l(),e.value=h.touches[0].clientX,t.value=h.touches[0].clientY},reset:l,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:r,offsetY:a,direction:s,isVertical:c,isHorizontal:u,isTap:i}}let _e=0;const zt="van-overflow-hidden";function br(e,t){const n=yr(),o="01",r="10",a=l=>{n.move(l);const f=n.deltaY.value>0?r:o,p=To(l.target,e.value),{scrollHeight:h,offsetHeight:w,scrollTop:g}=p;let _="11";g===0?_=w>=h?"00":"01":g+w>=h&&(_="10"),_!=="11"&&n.isVertical()&&!(parseInt(_,2)&parseInt(f,2))&&Ot(l,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",a,{passive:!1}),_e||document.body.classList.add(zt),_e++},i=()=>{_e&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",a),_e--,_e||document.body.classList.remove(zt))},c=()=>t()&&s(),u=()=>t()&&i();wn(c),We(u),bt(u),B(t,l=>{l?s():i()})}function Ln(e){const t=E(!1);return B(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const lt=()=>{var e;const{scopeId:t}=((e=ye())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[wr,_r]=X("overlay"),Or={show:Boolean,zIndex:$,duration:$,className:Te,lockScroll:F,lazyRender:F,customStyle:Object};var Sr=z({name:wr,props:Or,setup(e,{slots:t}){const n=E(),o=Ln(()=>e.show||!e.lazyRender),r=s=>{e.lockScroll&&Ot(s,!0)},a=o(()=>{var s;const i=U(Io(e.zIndex),e.customStyle);return te(e.duration)&&(i.animationDuration=`${e.duration}s`),hn(b("div",{ref:n,style:i,class:[_r(),e.className]},[(s=t.default)==null?void 0:s.call(t)]),[[vn,e.show]])});return _t("touchmove",r,{target:n}),()=>b(pn,{name:"van-fade",appear:!0},{default:a})}});const Er=J(Sr),Cr=U({},In,{round:Boolean,position:I("center"),closeIcon:I("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:I("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[xr,Zt]=X("popup");var kr=z({name:xr,inheritAttrs:!1,props:Cr,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:o}){let r,a;const s=E(),i=E(),c=Ln(()=>e.show||!e.lazyRender),u=W(()=>{const m={zIndex:s.value};if(te(e.duration)){const P=e.position==="center"?"animationDuration":"transitionDuration";m[P]=`${e.duration}s`}return m}),l=()=>{r||(r=!0,s.value=e.zIndex!==void 0?+e.zIndex:Xo(),t("open"))},f=()=>{r&&Zo(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},p=m=>{t("clickOverlay",m),e.closeOnClickOverlay&&f()},h=()=>{if(e.overlay)return b(Er,ve({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},lt(),{onClick:p}),{default:o["overlay-content"]})},w=m=>{t("clickCloseIcon",m),f()},g=()=>{if(e.closeable)return b(Le,{role:"button",tabindex:0,name:e.closeIcon,class:[Zt("close-icon",e.closeIconPosition),zo],classPrefix:e.iconPrefix,onClick:w},null)};let _;const C=()=>{_&&clearTimeout(_),_=setTimeout(()=>{t("opened")})},y=()=>t("closed"),T=m=>t("keydown",m),x=c(()=>{var m;const{round:P,position:A,safeAreaInsetTop:j,safeAreaInsetBottom:M}=e;return hn(b("div",ve({ref:i,style:u.value,role:"dialog",tabindex:0,class:[Zt({round:P,[A]:A}),{"van-safe-area-top":j,"van-safe-area-bottom":M}],onKeydown:T},n,lt()),[(m=o.default)==null?void 0:m.call(o),g()]),[[vn,e.show]])}),O=()=>{const{position:m,transition:P,transitionAppear:A}=e,j=m==="center"?"van-fade":`van-popup-slide-${m}`;return b(pn,{name:P||j,appear:A,onAfterEnter:C,onAfterLeave:y},{default:x})};return B(()=>e.show,m=>{m&&!r&&(l(),n.tabindex===0&&vt(()=>{var P;(P=i.value)==null||P.focus()})),!m&&r&&(r=!1,t("close"))}),xn({popupRef:i}),br(i,()=>e.show&&e.lockScroll),_t("popstate",()=>{e.closeOnPopstate&&(f(),a=!1)}),Ke(()=>{e.show&&l()}),mt(()=>{a&&(t("update:show",!0),a=!1)}),We(()=>{e.show&&e.teleport&&(f(),a=!0)}),yt(Cn,()=>e.show),()=>e.teleport?b(no,{to:e.teleport},{default:()=>[h(),O()]}):b(mn,null,[h(),O()])}});const Rn=J(kr),Tr=(e,t)=>{const n=E(e());return B(e,o=>{o!==n.value&&(n.value=o)}),B(n,o=>{o!==e()&&t(o)}),n};let Oe=0;function Pr(e){e?(Oe||document.body.classList.add("van-toast--unclickable"),Oe++):Oe&&(Oe--,Oe||document.body.classList.remove("van-toast--unclickable"))}const[Ar,fe]=X("toast"),Ir=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Lr={icon:String,show:Boolean,type:I("text"),overlay:Boolean,message:$,iconSize:$,duration:bo(2e3),position:I("middle"),teleport:[String,Object],wordBreak:String,className:Te,iconPrefix:String,transition:I("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Te,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:$};var $n=z({name:Ar,props:Lr,emits:["update:show"],setup(e,{emit:t,slots:n}){let o,r=!1;const a=()=>{const f=e.show&&e.forbidClick;r!==f&&(r=f,Pr(r))},s=f=>t("update:show",f),i=()=>{e.closeOnClick&&s(!1)},c=()=>clearTimeout(o),u=()=>{const{icon:f,type:p,iconSize:h,iconPrefix:w,loadingType:g}=e;if(f||p==="success"||p==="fail")return b(Le,{name:f||p,size:h,class:fe("icon"),classPrefix:w},null);if(p==="loading")return b(An,{class:fe("loading"),size:h,type:g},null)},l=()=>{const{type:f,message:p}=e;if(n.message)return b("div",{class:fe("text")},[n.message()]);if(te(p)&&p!=="")return f==="html"?b("div",{key:0,class:fe("text"),innerHTML:String(p)},null):b("div",{class:fe("text")},[p])};return B(()=>[e.show,e.forbidClick],a),B(()=>[e.show,e.type,e.message,e.duration],()=>{c(),e.show&&e.duration>0&&(o=setTimeout(()=>{s(!1)},e.duration))}),Ke(a),ht(a),()=>b(Rn,ve({class:[fe([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:i,onClosed:c,"onUpdate:show":s},bn(e,Ir)),{default:()=>[u(),l()]})}});function Rr(){const e=K({show:!1}),t=r=>{e.show=r},n=r=>{U(e,r,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return xn({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function $r(e){const t=gn(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Br={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Be=[],Dr=!1,Ut=U({},Br);const Mr=new Map;function jr(e){return Ye(e)?e:{message:e}}function Nr(){const{instance:e,unmount:t}=$r({setup(){const n=E(""),{open:o,state:r,close:a,toggle:s}=Rr(),i=()=>{},c=()=>b($n,ve(r,{onClosed:i,"onUpdate:show":s}),null);return B(n,u=>{r.message=u}),ye().render=c,{open:o,close:a,message:n}}});return e}function Fr(){if(!Be.length||Dr){const e=Nr();Be.push(e)}return Be[Be.length-1]}function Bn(e={}){if(!ke)return{};const t=Fr(),n=jr(e);return t.open(U({},Ut,Mr.get(n.type||Ut.type),n)),t}J($n);const qr=J(or);function Z(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function St(e){var t=Z(e).Element;return e instanceof t||e instanceof Element}function q(e){var t=Z(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Dn(e){if(typeof ShadowRoot>"u")return!1;var t=Z(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var me=Math.round;function ut(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function zr(){return!/^((?!chrome|android).)*safari/i.test(ut())}function Fe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var o=e.getBoundingClientRect(),r=1,a=1;t&&q(e)&&(r=e.offsetWidth>0&&me(o.width)/e.offsetWidth||1,a=e.offsetHeight>0&&me(o.height)/e.offsetHeight||1);var s=St(e)?Z(e):window,i=s.visualViewport,c=!zr()&&n,u=(o.left+(c&&i?i.offsetLeft:0))/r,l=(o.top+(c&&i?i.offsetTop:0))/a,f=o.width/r,p=o.height/a;return{width:f,height:p,top:l,right:u+f,bottom:l+p,left:u,x:u,y:l}}function Mn(e){var t=Z(e),n=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Zr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ur(e){return e===Z(e)||!q(e)?Mn(e):Zr(e)}function Y(e){return e?(e.nodeName||"").toLowerCase():null}function Xe(e){return((St(e)?e.ownerDocument:e.document)||window.document).documentElement}function Vr(e){return Fe(Xe(e)).left+Mn(e).scrollLeft}function G(e){return Z(e).getComputedStyle(e)}function Et(e){var t=G(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function Hr(e){var t=e.getBoundingClientRect(),n=me(t.width)/e.offsetWidth||1,o=me(t.height)/e.offsetHeight||1;return n!==1||o!==1}function Wr(e,t,n){n===void 0&&(n=!1);var o=q(t),r=q(t)&&Hr(t),a=Xe(t),s=Fe(e,r,n),i={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&((Y(t)!=="body"||Et(a))&&(i=Ur(t)),q(t)?(c=Fe(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=Vr(a))),{x:s.left+i.scrollLeft-c.x,y:s.top+i.scrollTop-c.y,width:s.width,height:s.height}}function Kr(e){var t=Fe(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function Ct(e){return Y(e)==="html"?e:e.assignedSlot||e.parentNode||(Dn(e)?e.host:null)||Xe(e)}function jn(e){return["html","body","#document"].indexOf(Y(e))>=0?e.ownerDocument.body:q(e)&&Et(e)?e:jn(Ct(e))}function Ne(e,t){var n;t===void 0&&(t=[]);var o=jn(e),r=o===((n=e.ownerDocument)==null?void 0:n.body),a=Z(o),s=r?[a].concat(a.visualViewport||[],Et(o)?o:[]):o,i=t.concat(s);return r?i:i.concat(Ne(Ct(s)))}function Yr(e){return["table","td","th"].indexOf(Y(e))>=0}function Vt(e){return!q(e)||G(e).position==="fixed"?null:e.offsetParent}function Gr(e){var t=/firefox/i.test(ut()),n=/Trident/i.test(ut());if(n&&q(e)){var o=G(e);if(o.position==="fixed")return null}var r=Ct(e);for(Dn(r)&&(r=r.host);q(r)&&["html","body"].indexOf(Y(r))<0;){var a=G(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Nn(e){for(var t=Z(e),n=Vt(e);n&&Yr(n)&&G(n).position==="static";)n=Vt(n);return n&&(Y(n)==="html"||Y(n)==="body"&&G(n).position==="static")?t:n||Gr(e)||t}var he="top",qe="bottom",Pe="right",ie="left",Fn="auto",Xr=[he,qe,Pe,ie],qn="start",ze="end",Jr=[].concat(Xr,[Fn]).reduce(function(e,t){return e.concat([t,t+"-"+qn,t+"-"+ze])},[]),Qr="beforeRead",ea="read",ta="afterRead",na="beforeMain",oa="main",ra="afterMain",aa="beforeWrite",ia="write",sa="afterWrite",ft=[Qr,ea,ta,na,oa,ra,aa,ia,sa];function ca(e){var t=new Map,n=new Set,o=[];e.forEach(function(a){t.set(a.name,a)});function r(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(i){if(!n.has(i)){var c=t.get(i);c&&r(c)}}),o.push(a)}return e.forEach(function(a){n.has(a.name)||r(a)}),o}function la(e){var t=ca(e);return ft.reduce(function(n,o){return n.concat(t.filter(function(r){return r.phase===o}))},[])}function ua(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return[].concat(n).reduce(function(r,a){return r.replace(/%s/,a)},e)}var oe='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',fa='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Ht=["name","enabled","phase","fn","effect","requires","options"];function da(e){e.forEach(function(t){[].concat(Object.keys(t),Ht).filter(function(n,o,r){return r.indexOf(n)===o}).forEach(function(n){switch(n){case"name":typeof t.name!="string"&&console.error(ee(oe,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(ee(oe,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":ft.indexOf(t.phase)<0&&console.error(ee(oe,t.name,'"phase"',"either "+ft.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(ee(oe,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(ee(oe,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(ee(oe,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(ee(oe,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+Ht.map(function(o){return'"'+o+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(o){e.find(function(r){return r.name===o})==null&&console.error(ee(fa,String(t.name),o,o))})})})}function pa(e,t){var n=new Set;return e.filter(function(o){var r=t(o);if(!n.has(r))return n.add(r),!0})}function Je(e){return e.split("-")[0]}function ha(e){var t=e.reduce(function(n,o){var r=n[o.name];return n[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,n},{});return Object.keys(t).map(function(n){return t[n]})}function zn(e){return e.split("-")[1]}function va(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ma(e){var t=e.reference,n=e.element,o=e.placement,r=o?Je(o):null,a=o?zn(o):null,s=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,c;switch(r){case he:c={x:s,y:t.y-n.height};break;case qe:c={x:s,y:t.y+t.height};break;case Pe:c={x:t.x+t.width,y:i};break;case ie:c={x:t.x-n.width,y:i};break;default:c={x:t.x,y:t.y}}var u=r?va(r):null;if(u!=null){var l=u==="y"?"height":"width";switch(a){case qn:c[u]=c[u]-(t[l]/2-n[l]/2);break;case ze:c[u]=c[u]+(t[l]/2-n[l]/2);break}}return c}var Wt="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",ga="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Kt={placement:"bottom",modifiers:[],strategy:"absolute"};function Yt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function ya(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,o=n===void 0?[]:n,r=t.defaultOptions,a=r===void 0?Kt:r;return function(i,c,u){u===void 0&&(u=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kt,a),modifiersData:{},elements:{reference:i,popper:c},attributes:{},styles:{}},f=[],p=!1,h={state:l,setOptions:function(C){var y=typeof C=="function"?C(l.options):C;g(),l.options=Object.assign({},a,l.options,y),l.scrollParents={reference:St(i)?Ne(i):i.contextElement?Ne(i.contextElement):[],popper:Ne(c)};var T=la(ha([].concat(o,l.options.modifiers)));l.orderedModifiers=T.filter(function(R){return R.enabled});{var x=pa([].concat(T,l.options.modifiers),function(R){var Q=R.name;return Q});if(da(x),Je(l.options.placement)===Fn){var O=l.orderedModifiers.find(function(R){var Q=R.name;return Q==="flip"});O||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var m=G(c),P=m.marginTop,A=m.marginRight,j=m.marginBottom,M=m.marginLeft;[P,A,j,M].some(function(R){return parseFloat(R)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return w(),h.update()},forceUpdate:function(){if(!p){var C=l.elements,y=C.reference,T=C.popper;if(!Yt(y,T)){console.error(Wt);return}l.rects={reference:Wr(y,Nn(T),l.options.strategy==="fixed"),popper:Kr(T)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(R){return l.modifiersData[R.name]=Object.assign({},R.data)});for(var x=0,O=0;O<l.orderedModifiers.length;O++){if(x+=1,x>100){console.error(ga);break}if(l.reset===!0){l.reset=!1,O=-1;continue}var m=l.orderedModifiers[O],P=m.fn,A=m.options,j=A===void 0?{}:A,M=m.name;typeof P=="function"&&(l=P({state:l,options:j,name:M,instance:h})||l)}}},update:ua(function(){return new Promise(function(_){h.forceUpdate(),_(l)})}),destroy:function(){g(),p=!0}};if(!Yt(i,c))return console.error(Wt),h;h.setOptions(u).then(function(_){!p&&u.onFirstUpdate&&u.onFirstUpdate(_)});function w(){l.orderedModifiers.forEach(function(_){var C=_.name,y=_.options,T=y===void 0?{}:y,x=_.effect;if(typeof x=="function"){var O=x({state:l,name:C,instance:h,options:T}),m=function(){};f.push(O||m)}})}function g(){f.forEach(function(_){return _()}),f=[]}return h}}var De={passive:!0};function ba(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,a=r===void 0?!0:r,s=o.resize,i=s===void 0?!0:s,c=Z(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(l){l.addEventListener("scroll",n.update,De)}),i&&c.addEventListener("resize",n.update,De),function(){a&&u.forEach(function(l){l.removeEventListener("scroll",n.update,De)}),i&&c.removeEventListener("resize",n.update,De)}}var wa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ba,data:{}};function _a(e){var t=e.state,n=e.name;t.modifiersData[n]=ma({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Oa={name:"popperOffsets",enabled:!0,phase:"read",fn:_a,data:{}},Sa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ea(e){var t=e.x,n=e.y,o=window,r=o.devicePixelRatio||1;return{x:me(t*r)/r||0,y:me(n*r)/r||0}}function Gt(e){var t,n=e.popper,o=e.popperRect,r=e.placement,a=e.variation,s=e.offsets,i=e.position,c=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,f=e.isFixed,p=s.x,h=p===void 0?0:p,w=s.y,g=w===void 0?0:w,_=typeof l=="function"?l({x:h,y:g}):{x:h,y:g};h=_.x,g=_.y;var C=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),T=ie,x=he,O=window;if(u){var m=Nn(n),P="clientHeight",A="clientWidth";if(m===Z(n)&&(m=Xe(n),G(m).position!=="static"&&i==="absolute"&&(P="scrollHeight",A="scrollWidth")),m=m,r===he||(r===ie||r===Pe)&&a===ze){x=qe;var j=f&&m===O&&O.visualViewport?O.visualViewport.height:m[P];g-=j-o.height,g*=c?1:-1}if(r===ie||(r===he||r===qe)&&a===ze){T=Pe;var M=f&&m===O&&O.visualViewport?O.visualViewport.width:m[A];h-=M-o.width,h*=c?1:-1}}var R=Object.assign({position:i},u&&Sa),Q=l===!0?Ea({x:h,y:g}):{x:h,y:g};if(h=Q.x,g=Q.y,c){var ne;return Object.assign({},R,(ne={},ne[x]=y?"0":"",ne[T]=C?"0":"",ne.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",ne))}return Object.assign({},R,(t={},t[x]=y?g+"px":"",t[T]=C?h+"px":"",t.transform="",t))}function Ca(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=o===void 0?!0:o,a=n.adaptive,s=a===void 0?!0:a,i=n.roundOffsets,c=i===void 0?!0:i;{var u=G(t.elements.popper).transitionProperty||"";s&&["transform","top","right","bottom","left"].some(function(f){return u.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var l={placement:Je(t.placement),variation:zn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Gt(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Gt(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var xa={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ca,data:{}};function ka(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var o=t.styles[n]||{},r=t.attributes[n]||{},a=t.elements[n];!q(a)||!Y(a)||(Object.assign(a.style,o),Object.keys(r).forEach(function(s){var i=r[s];i===!1?a.removeAttribute(s):a.setAttribute(s,i===!0?"":i)}))})}function Ta(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(o){var r=t.elements[o],a=t.attributes[o]||{},s=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:n[o]),i=s.reduce(function(c,u){return c[u]="",c},{});!q(r)||!Y(r)||(Object.assign(r.style,i),Object.keys(a).forEach(function(c){r.removeAttribute(c)}))})}}var Pa={name:"applyStyles",enabled:!0,phase:"write",fn:ka,effect:Ta,requires:["computeStyles"]},Aa=[wa,Oa,xa,Pa],Ia=ya({defaultModifiers:Aa});function La(e,t,n){var o=Je(e),r=[ie,he].indexOf(o)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],i=a[1];return s=s||0,i=(i||0)*r,[ie,Pe].indexOf(o)>=0?{x:i,y:s}:{x:s,y:i}}function Ra(e){var t=e.state,n=e.options,o=e.name,r=n.offset,a=r===void 0?[0,0]:r,s=Jr.reduce(function(l,f){return l[f]=La(f,t.rects,a),l},{}),i=s[t.placement],c=i.x,u=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=s}var $a={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ra};const[Ba,re]=X("popover"),Da=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],Ma={show:Boolean,theme:I("light"),overlay:Boolean,actions:yo(),actionsDirection:I("vertical"),trigger:I("click"),duration:$,showArrow:F,placement:I("bottom"),iconPrefix:String,overlayClass:Te,overlayStyle:Object,closeOnClickAction:F,closeOnClickOverlay:F,closeOnClickOutside:F,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var ja=z({name:Ba,props:Ma,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:o}){let r;const a=E(),s=E(),i=E(),c=Tr(()=>e.show,y=>t("update:show",y)),u=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},U({},$a,{options:{offset:e.offset}})]}),l=()=>s.value&&i.value?Ia(s.value,i.value.popupRef.value,u()):null,f=()=>{vt(()=>{c.value&&(r?r.setOptions(u()):(r=l(),ke&&(window.addEventListener("animationend",f),window.addEventListener("transitionend",f))))})},p=y=>{c.value=y},h=()=>{e.trigger==="click"&&(c.value=!c.value)},w=(y,T)=>{y.disabled||(t("select",y,T),e.closeOnClickAction&&(c.value=!1))},g=()=>{c.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(c.value=!1)},_=(y,T)=>n.action?n.action({action:y,index:T}):[y.icon&&b(Le,{name:y.icon,classPrefix:e.iconPrefix,class:re("action-icon")},null),b("div",{class:[re("action-text"),{[Fo]:e.actionsDirection==="vertical"}]},[y.text])],C=(y,T)=>{const{icon:x,color:O,disabled:m,className:P}=y;return b("div",{role:"menuitem",class:[re("action",{disabled:m,"with-icon":x}),{[No]:e.actionsDirection==="horizontal"},P],style:{color:O},tabindex:m?void 0:0,"aria-disabled":m||void 0,onClick:()=>w(y,T)},[_(y,T)])};return Ke(()=>{f(),dn(()=>{var y;a.value=(y=i.value)==null?void 0:y.popupRef.value})}),bt(()=>{r&&(ke&&(window.removeEventListener("animationend",f),window.removeEventListener("transitionend",f)),r.destroy(),r=null)}),B(()=>[c.value,e.offset,e.placement],f),So([s,a],g,{eventName:"touchstart"}),()=>{var y;return b(mn,null,[b("span",{ref:s,class:re("wrapper"),onClick:h},[(y=n.reference)==null?void 0:y.call(n)]),b(Rn,ve({ref:i,show:c.value,class:re([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":p},o,lt(),bn(e,Da)),{default:()=>[e.showArrow&&b("div",{class:re("arrow")},null),b("div",{role:"menu",class:re("content",e.actionsDirection)},[n.default?n.default():e.actions.map(C)])]})])}}});const Na=J(ja),Fa=e=>{e.use(qr),e.use(mr),e.use(Le),e.use(Na)},qa="modulepreload",za=function(e){return"/"+e},Xt={},Ze=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(n.map(i=>{if(i=za(i),i in Xt)return;Xt[i]=!0;const c=i.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":qa,c||(l.as="script",l.crossOrigin=""),l.href=i,s&&l.setAttribute("nonce",s),document.head.appendChild(l),c)return new Promise((f,p)=>{l.addEventListener("load",f),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})}))}return r.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},Za=(e,t,n)=>{const o=e[t];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};function Ua(e){return typeof e=="object"&&e!==null}function Jt(e,t){return e=Ua(e)?e:Object.create(null),new Proxy(e,{get(n,o,r){return o==="key"?Reflect.get(n,o,r):Reflect.get(n,o,r)||Reflect.get(t,o,r)}})}function Va(e,t){return t.reduce((n,o)=>n==null?void 0:n[o],e)}function Ha(e,t,n){return t.slice(0,-1).reduce((o,r)=>/^(__proto__)$/.test(r)?{}:o[r]=o[r]||{},e)[t[t.length-1]]=n,e}function Wa(e,t){return t.reduce((n,o)=>{const r=o.split(".");return Ha(n,r,Va(e,r))},{})}function Ka(e,t){return n=>{var o;try{const{storage:r=localStorage,beforeRestore:a=void 0,afterRestore:s=void 0,serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:u=null,debug:l=!1}=n;return{storage:r,beforeRestore:a,afterRestore:s,serializer:i,key:((o=e.key)!=null?o:f=>f)(typeof c=="string"?c:c(t.$id)),paths:u,debug:l}}catch(r){return n.debug&&console.error("[pinia-plugin-persistedstate]",r),null}}}function Qt(e,{storage:t,serializer:n,key:o,debug:r}){try{const a=t==null?void 0:t.getItem(o);a&&e.$patch(n==null?void 0:n.deserialize(a))}catch(a){r&&console.error("[pinia-plugin-persistedstate]",a)}}function en(e,{storage:t,serializer:n,key:o,paths:r,debug:a}){try{const s=Array.isArray(r)?Wa(e,r):e;t.setItem(o,n.serialize(s))}catch(s){a&&console.error("[pinia-plugin-persistedstate]",s)}}function Ya(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:o=n},store:r,pinia:a}=t;if(!o)return;if(!(r.$id in a.state.value)){const i=a._s.get(r.$id.replace("__hot:",""));i&&Promise.resolve().then(()=>i.$persist());return}const s=(Array.isArray(o)?o.map(i=>Jt(i,e)):[Jt(o,e)]).map(Ka(e,r)).filter(Boolean);r.$persist=()=>{s.forEach(i=>{en(r.$state,i)})},r.$hydrate=({runHooks:i=!0}={})=>{s.forEach(c=>{const{beforeRestore:u,afterRestore:l}=c;i&&(u==null||u(t)),Qt(r,c),i&&(l==null||l(t))})},s.forEach(i=>{const{beforeRestore:c,afterRestore:u}=i;c==null||c(t),Qt(r,i),u==null||u(t),r.$subscribe((l,f)=>{en(f,i)},{detached:!0})})}}const xt=oo();xt.use(Ya({key:e=>`__persisted__${e}`,auto:!1}));const Ga=e=>{e.use(xt)};var Xa={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>`${e*10}% off`,condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const Ja=({prefixKey:e="chatwiki::mobile::",storage:t=localStorage}={})=>{const n=class{constructor(){V(this,"storage",t);V(this,"prefixKey",e)}getKey(o){return`${this.prefixKey}${o}`.toUpperCase()}set(o,r,a=null){const s=JSON.stringify({value:r,expire:a!==null?new Date().getTime()+a*1e3:null});this.storage.setItem(this.getKey(o),s)}get(o,r=null){const a=this.storage.getItem(this.getKey(o));if(a)try{const s=JSON.parse(a),{value:i,expire:c}=s;if(c===null||c>=Date.now())return i;this.remove(this.getKey(o))}catch{return r}return r}remove(o){console.log("remove:",o),this.storage.removeItem(this.getKey(o))}clear(){this.storage.clear()}setCookie(o,r,a=null){document.cookie=`${this.getKey(o)}=${r}; Max-Age=${a}`}getCookie(o){const r=document.cookie.split("; ");for(let a=0,s=r.length;a<s;a++){const i=r[a].split("=");if(i[0]===this.getKey(o))return i[1]}return""}removeCookie(o){this.setCookie(o,1,-1)}clearCookie(){const o=document.cookie.match(/[^ =;]+(?==)/g);if(o)for(let r=o.length;r--;)document.cookie=`${o[r]}=0;expire=${new Date(0).toUTCString()}`}};return new n},Ce=Ja(),tn={"zh-CN":Sn,"en-US":Xa},Qa=wt("locales",{state:()=>({currentLocale:{lang:Ce.get("lang")||"zh-CN",vantLocale:tn[Ce.get("lang")||"zh-CN"]},localeMap:[{lang:"zh-CN",name:"简体中文"},{lang:"en-US",name:"English"}]}),getters:{getCurrentLocale(){return this.currentLocale},getLocaleMap(){return this.localeMap}},actions:{setCurrentLocale(e){this.currentLocale.lang=e==null?void 0:e.lang,this.currentLocale.vantLocale=tn[e==null?void 0:e.lang],En.use(e==null?void 0:e.lang,this.currentLocale.vantLocale),Ce.set("lang",e==null?void 0:e.lang)}}}),Zn=()=>Qa(xt);var ei=typeof global=="object"&&global&&global.Object===Object&&global,ti=typeof self=="object"&&self&&self.Object===Object&&self,kt=ei||ti||Function("return this")(),ge=kt.Symbol,Un=Object.prototype,ni=Un.hasOwnProperty,oi=Un.toString,Se=ge?ge.toStringTag:void 0;function ri(e){var t=ni.call(e,Se),n=e[Se];try{e[Se]=void 0;var o=!0}catch{}var r=oi.call(e);return o&&(t?e[Se]=n:delete e[Se]),r}var ai=Object.prototype,ii=ai.toString;function si(e){return ii.call(e)}var ci="[object Null]",li="[object Undefined]",nn=ge?ge.toStringTag:void 0;function Vn(e){return e==null?e===void 0?li:ci:nn&&nn in Object(e)?ri(e):si(e)}function ui(e){return e!=null&&typeof e=="object"}var fi="[object Symbol]";function Tt(e){return typeof e=="symbol"||ui(e)&&Vn(e)==fi}function di(e,t){for(var n=-1,o=e==null?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}var Pt=Array.isArray,pi=1/0,on=ge?ge.prototype:void 0,rn=on?on.toString:void 0;function Hn(e){if(typeof e=="string")return e;if(Pt(e))return di(e,Hn)+"";if(Tt(e))return rn?rn.call(e):"";var t=e+"";return t=="0"&&1/e==-pi?"-0":t}function Ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hi="[object AsyncFunction]",vi="[object Function]",mi="[object GeneratorFunction]",gi="[object Proxy]";function yi(e){if(!Ue(e))return!1;var t=Vn(e);return t==vi||t==mi||t==hi||t==gi}var nt=kt["__core-js_shared__"],an=function(){var e=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bi(e){return!!an&&an in e}var wi=Function.prototype,_i=wi.toString;function Oi(e){if(e!=null){try{return _i.call(e)}catch{}try{return e+""}catch{}}return""}var Si=/[\\^$.*+?()[\]{}|]/g,Ei=/^\[object .+?Constructor\]$/,Ci=Function.prototype,xi=Object.prototype,ki=Ci.toString,Ti=xi.hasOwnProperty,Pi=RegExp("^"+ki.call(Ti).replace(Si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ai(e){if(!Ue(e)||bi(e))return!1;var t=yi(e)?Pi:Ei;return t.test(Oi(e))}function Ii(e,t){return e==null?void 0:e[t]}function At(e,t){var n=Ii(e,t);return Ai(n)?n:void 0}var sn=function(){try{var e=At(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Li=9007199254740991,Ri=/^(?:0|[1-9]\d*)$/;function $i(e,t){var n=typeof e;return t=t??Li,!!t&&(n=="number"||n!="symbol"&&Ri.test(e))&&e>-1&&e%1==0&&e<t}function Bi(e,t,n){t=="__proto__"&&sn?sn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Wn(e,t){return e===t||e!==e&&t!==t}var Di=Object.prototype,Mi=Di.hasOwnProperty;function ji(e,t,n){var o=e[t];(!(Mi.call(e,t)&&Wn(o,n))||n===void 0&&!(t in e))&&Bi(e,t,n)}var Ni=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fi=/^\w*$/;function qi(e,t){if(Pt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Tt(e)?!0:Fi.test(e)||!Ni.test(e)||t!=null&&e in Object(t)}var Ae=At(Object,"create");function zi(){this.__data__=Ae?Ae(null):{},this.size=0}function Zi(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ui="__lodash_hash_undefined__",Vi=Object.prototype,Hi=Vi.hasOwnProperty;function Wi(e){var t=this.__data__;if(Ae){var n=t[e];return n===Ui?void 0:n}return Hi.call(t,e)?t[e]:void 0}var Ki=Object.prototype,Yi=Ki.hasOwnProperty;function Gi(e){var t=this.__data__;return Ae?t[e]!==void 0:Yi.call(t,e)}var Xi="__lodash_hash_undefined__";function Ji(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ae&&t===void 0?Xi:t,this}function se(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}se.prototype.clear=zi;se.prototype.delete=Zi;se.prototype.get=Wi;se.prototype.has=Gi;se.prototype.set=Ji;function Qi(){this.__data__=[],this.size=0}function Qe(e,t){for(var n=e.length;n--;)if(Wn(e[n][0],t))return n;return-1}var es=Array.prototype,ts=es.splice;function ns(e){var t=this.__data__,n=Qe(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():ts.call(t,n,1),--this.size,!0}function os(e){var t=this.__data__,n=Qe(t,e);return n<0?void 0:t[n][1]}function rs(e){return Qe(this.__data__,e)>-1}function as(e,t){var n=this.__data__,o=Qe(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function be(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}be.prototype.clear=Qi;be.prototype.delete=ns;be.prototype.get=os;be.prototype.has=rs;be.prototype.set=as;var is=At(kt,"Map");function ss(){this.size=0,this.__data__={hash:new se,map:new(is||be),string:new se}}function cs(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function et(e,t){var n=e.__data__;return cs(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ls(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t}function us(e){return et(this,e).get(e)}function fs(e){return et(this,e).has(e)}function ds(e,t){var n=et(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function ce(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ce.prototype.clear=ss;ce.prototype.delete=ls;ce.prototype.get=us;ce.prototype.has=fs;ce.prototype.set=ds;var ps="Expected a function";function It(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ps);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,o);return n.cache=a.set(r,s)||a,s};return n.cache=new(It.Cache||ce),n}It.Cache=ce;var hs=500;function vs(e){var t=It(e,function(o){return n.size===hs&&n.clear(),o}),n=t.cache;return t}var ms=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gs=/\\(\\)?/g,ys=vs(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ms,function(n,o,r,a){t.push(r?a.replace(gs,"$1"):o||n)}),t});function bs(e){return e==null?"":Hn(e)}function ws(e,t){return Pt(e)?e:qi(e,t)?[e]:ys(bs(e))}var _s=1/0;function Os(e){if(typeof e=="string"||Tt(e))return e;var t=e+"";return t=="0"&&1/e==-_s?"-0":t}function Ss(e,t,n,o){if(!Ue(e))return e;t=ws(t,e);for(var r=-1,a=t.length,s=a-1,i=e;i!=null&&++r<a;){var c=Os(t[r]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(r!=s){var l=i[c];u=void 0,u===void 0&&(u=Ue(l)?l:$i(t[r+1])?[]:{})}ji(i,c,u),i=i[c]}return e}function ot(e,t,n){return e==null?e:Ss(e,t,n)}const Es=e=>{var t;(t=document.querySelector("html"))==null||t.setAttribute("lang",e)};function jc(e,t="lang"){const n={};return Object.keys(e).forEach(o=>{const r=e[o].default;let a=o.replace(`./${t}/`,"").replace(/^\.\//,"");const s=a.lastIndexOf(".");a=a.substring(0,s);const i=a.split("/"),c=i.shift(),u=i.join(".");c&&(u?(ot(n,c,n[c]||{}),ot(n[c],u,r)):ot(n,c,r||{}))}),n}let Ve;const Cs=async()=>{const e=Zn(),t=e.getCurrentLocale,n=e.getLocaleMap,r=(await Za(Object.assign({"./lang/en-US.ts":()=>Ze(()=>import("./assets/js/en-US-m1451PQz.js"),__vite__mapDeps([0,1,2,3,4,5])),"./lang/zh-CN.ts":()=>Ze(()=>import("./assets/js/zh-CN--uaYA9XH.js"),__vite__mapDeps([6,1,2,3,4,5]))}),`./lang/${t.lang}.ts`,3)).default??{};return Es(t.lang),e.setCurrentLocale({lang:t.lang}),{legacy:!1,locale:t.lang,fallbackLocale:t.lang,messages:{[t.lang]:r},availableLocales:n.map(a=>a.lang),sync:!0,silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0}},xs=async e=>{const t=await Cs();Ve=ro(t),e.use(Ve)},ks=z({__name:"App",setup(e){return(t,n)=>{const o=io("van-config-provider");return it(),ao(o,{theme:"light"},{default:so(()=>[b(xe(co))]),_:1})}}}),Ts=0,Ps="application/x-www-form-urlencoded;charset=UTF-8",As=5*60*1e3,Is=["/login","/about","icons"],dt=new URL("/assets/img/user_avatar_2x-D7HF6Y-m.png",import.meta.url).href;async function Ls(e,t){const n=e.getReader();let o;for(;!(o=await n.read()).done;)t(o.value)}function Rs(e){let t,n,o,r=!1;return function(s){t===void 0?(t=s,n=0,o=-1):t=Bs(t,s);const i=t.length;let c=0;for(;n<i;){r&&(t[n]===10&&(c=++n),r=!1);let u=-1;for(;n<i&&u===-1;++n)switch(t[n]){case 58:o===-1&&(o=n-c);break;case 13:r=!0;case 10:u=n;break}if(u===-1)break;e(t.subarray(c,u),o),c=n,o=-1}c===i?t=void 0:c!==0&&(t=t.subarray(c),n-=c)}}function $s(e,t,n){let o=cn(),r=!1;const a=new TextDecoder;return function(i,c){if(i.length===0)n==null||n(o),o=cn(),r=!1;else if(c>0){const u=a.decode(i.subarray(0,c)),l=c+1,f=a.decode(i.subarray(l));switch(u){case"data":o.data=r?o.data+`
`+f:f,r=!0;break;case"event":o.event=f;break;case"id":e(o.id=f);break;case"retry":const p=parseInt(f,10);isNaN(p)||t(o.retry=p);break}}}}function Bs(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function cn(){return{data:"",event:"",id:"",retry:void 0}}var Ds=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const He="text/event-stream",Ms=1e3,ln="last-event-id";function js(e,t){var{signal:n,headers:o,onopen:r,onmessage:a,onclose:s,onerror:i,openWhenHidden:c,fetch:u}=t,l=Ds(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,p)=>{const h=Object.assign({},o);h.accept||(h.accept=He);let w;function g(){w.abort(),document.hidden||O()}c||document.addEventListener("visibilitychange",g);let _=Ms,C=0;function y(){document.removeEventListener("visibilitychange",g),window.clearTimeout(C),w.abort()}n==null||n.addEventListener("abort",()=>{y(),f()});const T=u??window.fetch,x=r??Ns;async function O(){var m;w=new AbortController;try{const P=await T(e,Object.assign(Object.assign({},l),{headers:h,signal:w.signal}));await x(P),await Ls(P.body,Rs($s(A=>{A?h[ln]=A:delete h[ln]},A=>{_=A},a))),s==null||s(),y(),f()}catch(P){if(!w.signal.aborted)try{const A=(m=i==null?void 0:i(P))!==null&&m!==void 0?m:_;window.clearTimeout(C),C=window.setTimeout(O,A)}catch(A){y(),p(A)}}}O()})}function Ns(e){const t=e.headers.get("content-type");if(!(t!=null&&t.startsWith(He)))throw new Error(`Expected content-type to be ${He}, Actual: ${t}`)}class Fs{constructor(t={}){V(this,"onOpen");V(this,"onClose");V(this,"onError");V(this,"onMessage");V(this,"opt",{url:"",data:{}});V(this,"controller",new AbortController);this.opt={...this.opt,...t},this.open()}open(){const t=new FormData;for(const n in this.opt.data)Object.prototype.hasOwnProperty.call(this.opt.data,n)&&t.append(n,this.opt.data[n]);js(this.opt.url,{method:"POST",signal:this.controller.signal,openWhenHidden:!0,body:t,onopen:async n=>{if(n.ok&&n.headers.get("content-type")===He)typeof this.onOpen=="function"&&this.onOpen();else throw n.status>=400&&n.status<500&&n.status!==429?new Error("连接出错"):new Error("连接出错")},onmessage:n=>{typeof this.onMessage=="function"&&this.onMessage(n)},onclose:()=>{typeof this.onClose=="function"&&this.onClose(),this.controller.abort()},onerror:n=>{typeof this.onError=="function"&&this.onError(n)}})}abort(){this.controller.abort()}}const qs={avater:dt},Lt=wt("user",()=>K({...qs}));function zs(e){const t=new FormData;return Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&t.append(n,e[n])}),t}function de(e=16,t=0){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];let r;if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else{let a;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(a=0|Math.random()*16,o[r]=n[r==19?a&3|8:a])}return o.join("")}function Zs(){let e=Ce.get("openid");return e||(e="M"+de(16),Ce.set("openid",e)),e}function Nc(e){return e.replace(/[&<"']/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;";default:return"&#039;"}})}const un=(e,t)=>t,Kn=e=>{const t={t:a=>un(e,a)};if(!Ve)return t;const{t:n,...o}=Ve.global;return{...o,t:(a,...s)=>a?!a.includes(".")&&!e?a:n(un(e,a),...s):""}};function Us(e){const{t}=Kn();let n=e.response.status,o=e.response.data.message||e.message,r="";switch(n){case 400:r=`${o}`;break;case 401:r=t("common.errMsg401");break;case 403:r=t("common.errMsg403");break;case 404:r=t("common.errMsg404");break;case 405:r=t("common.errMsg405");break;case 408:r=t("common.errMsg408");break;case 500:r=t("common.errMsg500");break;case 501:r=t("common.errMsg501");break;case 502:r=t("common.errMsg502");break;case 503:r=t("common.errMsg503");break;case 504:r=t("common.errMsg504");break;case 505:r=t("common.errMsg505");break;default:r=`${o}`}return r}let rt=!1;function Yn(e){rt||(rt=!0,Bn(e),setTimeout(()=>{rt=!1},200))}const Vs=e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"?e.data=ho.stringify(e.data):e.method==="post"&&e.headers["Content-Type"]==="multipart/form-data"&&(e.data=zs(e.data)),e.method==="get"&&e.params){let t=e.url;t+="?";const n=Object.keys(e.params);for(const o of n)e.params[o]!==void 0&&e.params[o]!==null&&(t+=`${o}=${encodeURIComponent(e.params[o])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},Hs=e=>{var t,n,o;if(e.data&&typeof e.data.res<"u"&&(e.data.code=e.data.res,e.data.message=e.data.msg||""),((t=e==null?void 0:e.config)==null?void 0:t.responseType)==="blob")return e;if(e.data.code===Ts)return e.data;if(Bn((n=e==null?void 0:e.data)==null?void 0:n.message),((o=e==null?void 0:e.data)==null?void 0:o.code)===401)Lt().logout();else return Promise.reject(e.data)},Ws=e=>e.response?(console.log("response err： "+e),Ys(e)):e.request?(console.log("request err： "+e),Ks(e)):Promise.reject(e),Ks=e=>{var c,u,l;const{t}=Kn(),{response:n,code:o,message:r}=e||{},a=((u=(c=n==null?void 0:n.data)==null?void 0:c.error)==null?void 0:u.message)??"",s=((l=e==null?void 0:e.toString)==null?void 0:l.call(e))??"";let i="";return o==="ECONNABORTED"&&r.indexOf("timeout")!==-1?i=t("common.apiTimeoutMessage"):s!=null&&s.includes("Network Error")?i=t("common.networkExceptionMsg"):i=a,Yn(i),Promise.reject(e)},Ys=e=>{var o;let t=(o=e==null?void 0:e.response)==null?void 0:o.status,n=Us(e);return Yn(n),t===401&&Lt().logout(),Promise.reject(e)},Gs="",pe=new Map,we=po.create({timeout:As,baseURL:Gs});we.interceptors.request.use(e=>{const t=new AbortController,n=e.url||"";return e.signal=t.signal,pe.set(n,t),e});we.interceptors.response.use(e=>{const t=e.config.url||"";return pe.delete(t),e},e=>Promise.reject(e));we.interceptors.request.use(Vs);we.interceptors.response.use(Hs);we.interceptors.response.use(void 0,Ws);const pt={request:e=>new Promise((t,n)=>{var o;(o=e.interceptors)!=null&&o.requestInterceptors&&(e=e.interceptors.requestInterceptors(e)),we.request(e).then(r=>{t(r)}).catch(r=>{n(r)})}),cancelRequest:e=>{var n;const t=Array.isArray(e)?e:[e];for(const o of t)(n=pe.get(o))==null||n.abort(),pe.delete(o)},cancelAllRequest(){for(const[e,t]of pe)t.abort();pe.clear()}},Me=e=>{const t=Lt(),n=Zn(),{url:o,method:r,params:a,data:s,headers:i,responseType:c,withToken:u}=e,l=n.getCurrentLocale,f={"Content-Type":Ps,"X-Requested-With":"XMLHttpRequest",app_type:"yun_h5",lang:l.lang,...i};return u||(f.token=t.getToken??""),pt.request({url:o,method:r,params:a,data:s,responseType:c,headers:{...f}})},le={get:e=>Me({method:"get",...e}),post:e=>Me({method:"post",...e}),delete:e=>Me({method:"delete",...e}),put:e=>Me({method:"put",...e}),cancelRequest:e=>pt.cancelRequest(e),cancelAllRequest:()=>pt.cancelAllRequest()},Xs="",Js=({openid:e})=>le.get({url:"/chat/getWsUrl",params:{openid:e,debug:0}}),Qs=e=>new Fs({url:Xs+"/chat/request",data:e}),ec=e=>le.post({url:"/chat/welcome",data:e}),tc=e=>le.post({url:"/manage/getDialogueList",data:e}),nc=e=>le.post({url:"/chat/message",data:e}),oc=e=>le.post({url:"/chat/questionGuide",data:e}),Fc=e=>le.get({url:"/chat/getFastCommandList",params:e}),rc=({id:e,prompt:t})=>le.post({url:"/manage/editPrompt",data:{id:e,prompt:t}});function ac(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(r){r(n)}),(o=e.get("*"))&&o.slice().map(function(r){r(t,n)})}}}const je=ac(),ic=e=>({on:je.on,off:je.off,emit:je.emit,all:je.all});class sc{constructor(t,n){this.debug=n.debug||!1,this.socketOpen=!1,this.socketMsgQueue=[],this.heartbeatInterval=5*1e3,this.heartbeatTimer=null,this.disableHeartbeat=n.disableHeartbeat,this.disableReconnect=!1,this.reconnectAttempts=0,this.reconnectInterval=5*1e3,this.reconnectTimer=null,this.events={},this.url=t,this.ws=null,this.options=n,this.connect(),this.log=function(){},this.debug&&(this.log=console.log)}connect(){this.ws&&this.socketOpen||(this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.log("WebSocket open"),this.onOpen()},this.ws.onmessage=t=>{this.log("WebSocket message"),this.log(t),this.onMessage(t)},this.ws.onerror=t=>{this.log("WebSocket error"),this.log(t),this.onError(t)},this.ws.onclose=t=>{this.log("WebSocket closed"),this.log(t),this.onClose(t)})}onOpen(){this.socketOpen=!0,this.reconnectAttempts=0,this.disableReconnect=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.sendHeartBeat();for(var t=0;t<this.socketMsgQueue.length;t++)this.send(this.socketMsgQueue[t]);this.socketMsgQueue=[],this.emit("open")}onMessage(t){t&&t.data==="ping"?this.pong(t):this.emit("message",JSON.parse(t.data))}onError(t){this.emit("error",t)}onClose(t){this.emit("close",t),this.ws=null,this.socketOpen=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.stopHeartBeat(),this.shouldReconnect()&&!this.disableReconnect&&this.reconnect()}send(t){this.ws&&this.socketOpen?this.ws.send(JSON.stringify(t)):this.socketMsgQueue.push(t)}pong(){this.ws.send("pong")}sendHeartBeat(){this.disableHeartbeat||(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=setTimeout(()=>{this.send({type:"ping"}),this.sendHeartBeat(),this.emit("ping")},this.heartbeatInterval))}stopHeartBeat(){this.disableHeartbeat||clearTimeout(this.heartbeatTimer)}shouldReconnect(){const t=this.options.maxReconnectAttempts||1/0;return this.reconnectAttempts<t}reconnect(){this.reconnectTimer||(this.disableReconnect=!1,this.reconnectAttempts++,this.reconnectTimer=setTimeout(()=>{this.ws?(this.ws.close(),this.socketOpen=!1,this.ws=null):this.connect()},this.reconnectInterval))}close(t=!0){this.disableReconnect=t,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.ws&&this.ws.close()}emit(t,...n){this.events&&Array.isArray(this.events[t])&&this.events[t].forEach(o=>o(...n))}on(t,n){this.events||(this.events={}),this.events[t]||(this.events[t]=[]),this.events[t].push(n)}off(t,n){if(this.events&&Array.isArray(this.events[t]))if(!n)this.events[t]=[];else{const o=this.events[t].indexOf(n);o!==-1&&this.events[t].splice(o,1)}}}const fn=E(null),ae=E(null),H=K({}),cc=()=>{async function e(a,s){let i=await Js({openid:a});i&&(fn.value=i.data.ws_url),ae.value&&ae.value.close(),ae.value=new sc(fn.value,{disableHeartbeat:!0}),s&&s(),ae.value.on("message",c=>{n("message",c)}),ae.value.on("error",o)}function t(a,s){H[a]||(H[a]=[]),H[a].push(s)}function n(a,...s){H&&Array.isArray(H[a])&&H[a].forEach(i=>i(...s))}function o(a){console.log(a)}function r(){Object.keys(H).forEach(a=>{H[a]=[],delete H[a]}),ae.value&&ae.value.close()}return{connect:e,on:t,close:r}},lc=wt("chat",()=>{const e=ic(),t=cc(),n=E([]);let o=null;const r=E(0),a=E(""),s=K({admin_user_id:"",avatar:"",id:"",name:"",nickname:"",openid:""}),i=K({id:null,library_ids:"",prompt:"",robot_avatar:"",robot_intro:"",robot_key:"",robot_name:"",openid:"",welcomes:{content:"",question:[]},enable_question_guide:!1,common_question_list:[],enable_common_question:!1}),c=K({pageTitle:"ZHIMA CHATAI",lang:"zh-CN",logo:"",navbarShow:2,accessRestrictionsType:1,pageStyle:{navbarBackgroundColor:"#2475FC"}}),u=E(!1),l=async d=>{o&&(o.abort(),o=null),n.value=[],M.value=!1,C.value=!1,d.dialogue_id?(u.value=!1,r.value=d.dialogue_id):(u.value=!0,r.value=0),a.value=d.openid||Zs(),i.robot_key=d.robot_key,i.openid=a.value,s.openid=a.value,s.avatar=d.avatar||dt,s.name=d.name||"",s.nickname=d.nickname||"";const S=await ec({robot_key:i.robot_key,openid:a.value,nickname:s.nickname,name:s.name,avatar:s.avatar||dt});try{const L=S.data.customer,v=S.data.robot;s.admin_user_id=L.admin_user_id,s.avatar=L.avatar,s.id=L.id,s.name=L.name,s.nickname=L.nickname,i.library_ids=v.library_ids,i.prompt=v.prompt,i.robot_avatar=v.robot_avatar,i.robot_intro=v.robot_intro,i.robot_key=v.robot_key,i.robot_name=v.robot_name,i.library_ids=v.library_ids,i.id=v.id,i.enable_question_guide=v.enable_question_guide=="true",i.enable_common_question=v.enable_common_question=="true",v.common_question_list&&(i.common_question_list=JSON.parse(v.common_question_list)),v.welcomes&&(i.welcomes=JSON.parse(v.welcomes)),p(S.data.message),t.connect(a.value),t.on("message",f),v.external_config_h5?Object.assign(c,JSON.parse(v.external_config_h5)):(c.pageTitle=v.robot_name,c.logo=v.robot_avatar),document.title=c.pageTitle;const k=document.querySelector('link[rel="icon"]');return k&&c.logo&&k.setAttribute("href",c.logo),S}catch(L){Promise.reject(L)}},f=d=>{d&&d.dialogue_id==r.value&&(d.uid=de(32),d.loading=!1,d.isWelcome=!0,d.avatar=i.robot_avatar,d.menu_json&&typeof d.menu_json=="string"&&(d.menu_json=JSON.parse(d.menu_json)),d.quote_file&&typeof d.quote_file=="string"&&(d.quote_file=JSON.parse(d.quote_file)),n.value.push(d))},p=d=>{d&&(d.uid=de(32),d.loading=!1,d.isWelcome=!0,d.avatar=i.robot_avatar,d.menu_json&&(d.menu_json=JSON.parse(d.menu_json)),d.quote_file&&(d.quote_file=JSON.parse(d.quote_file)),n.value.push(d))},h=d=>{d.uid=de(32),d.loading=!1,d.avatar=s.avatar,d.openid=s.openid,d.msg_type=1,d.is_customer=1,n.value.push(d)},w=d=>{n.value.push(d),e.emit("updateAiMessage",d)},g=(d,S,L)=>{const v=n.value.findIndex(k=>k.uid==L);if(d=="sending"){const k=n.value[v].content;n.value[v].content=k+S}if(d=="quote_file"&&(n.value[v].quote_file=S.length>0?S:[]),d=="ai_message"){if(S.menu_json&&S.msg_type==2){const k=JSON.parse(S.menu_json);n.value[v].content=k.content,n.value[v].menu_json=k}n.value[v].id=S.id}d=="debug"&&(n.value[v].debug=S.length>0?S:[]),d=="guess_you_want"&&(n.value=n.value.map(k=>({...k,question_tabkey:-1,guess_you_want:[]})),n.value[v].guess_you_want=S,n.value[v].question_tabkey=S.length>0?1:2),d=="set_question_tabkey"&&(n.value=n.value.map(k=>({...k,question_tabkey:-1})),n.value[v].question_tabkey=S),e.emit("updateAiMessage",n.value[v])},_=()=>{const d=n.value.length-1;n.value[d].loading=!1},C=E(!1),y=d=>{if(C.value)return;const S={loading:!0,id:"",content:"",uid:de(32),avatar:i.robot_avatar,msg_type:1,quote_file:[],is_customer:0,debug:[]},L={robot_key:i.robot_key,openid:i.openid,question:d.message,prompt:i.prompt,library_ids:i.library_ids,dialogue_id:r.value};C.value=!0,o=Qs(L),o.onMessage=v=>{if(v.event=="dialogue_id"&&(r.value=v.data),v.event=="c_message"){const k=JSON.parse(v.data);h(k)}if(v.event=="robot"&&(w(S),u.value&&(u.value=!1)),v.event=="sending"&&g("sending",v.data,S.uid),v.event=="ai_message"){const k=JSON.parse(v.data);g("ai_message",k,S.uid)}if(v.event=="quote_file"){const k=JSON.parse(v.data);g("quote_file",k,S.uid)}if(v.event=="debug"){const k=JSON.parse(v.data);g("debug",k,S.uid)}v.event=="finish"&&(i.enable_question_guide?oc({robot_key:i.robot_key,openid:i.openid,dialogue_id:r.value}).then(k=>{g("guess_you_want",k.data||[],S.uid)}):g("set_question_tabkey",2,S.uid))},o.onClose=()=>{_(),C.value=!1,o=null}},T=25,x=E([]),O=E(!1),m=E(!1),P=async()=>{if(m.value||O.value)return!1;let d=0;x.value.length>0&&(d=x.value[x.value.length-1].id),O.value=!0;const S=await tc({min_id:d,size:T,robot_key:i.robot_key});O.value=!1;const L=S.data||[];return L.length===0?(m.value=!0,!1):(x.value=[...x.value,...L],S)},A=async d=>await l(d),j=20,M=E(!1),R=async()=>{if(M.value)return;let d=0;const S=n.value.filter(v=>!v.isWelcome);S.length>0&&(d=S[0].id);const L={robot_key:i.robot_key,openid:s.openid,min_id:d,size:j,dialogue_id:r.value};try{const v=await nc(L),k=v.data.list||[];if(k.length===0){M.value=!0;return}return k.sort((D,Xn)=>D.id-Xn.id),k.forEach(D=>{D.loading=!1,D.uid=de(32),D.is_customer==1?D.avatar=s.avatar:D.avatar=i.robot_avatar,D.menu_json&&(D.menu_json=JSON.parse(D.menu_json)),D.quote_file&&(D.quote_file=JSON.parse(D.quote_file))}),n.value=[...k,...n.value],v}catch(v){Promise.reject(v)}},Q=d=>{i.prompt=d},ne=()=>rc({id:i.id,prompt:i.prompt});function Gn(){t.close(),r.value=0,n.value=[],a.value="",s.admin_user_id="",s.avatar="",s.id="",s.name="",s.nickname="",s.openid="",i.id=null,i.library_ids="",i.prompt="",i.robot_avatar="",i.robot_intro="",i.robot_key="",i.robot_key="",i.robot_name="",i.openid="",i.welcomes={content:"",question:[]},u.value=!1,M.value=!1,C.value=!1,O.value=!1,m.value=!1,x.value=[]}return{$reset:Gn,user:s,robot:i,dialogue_id:r,openid:a,sendLock:C,messageList:n,createChat:l,sendMessage:y,getMyChatList:P,myChatList:x,openChat:A,onGetChatMessage:R,changeRobotPrompt:Q,saveRobotPrompt:ne,externalConfigH5:c}});function uc(e){return{openid:e.openid||"",robot_key:e.robot_key||"",avatar:e.avatar||"",name:e.name||"",nickname:e.nickname||"",dialogue_id:e.dialogue_id||""}}function fc(e){return Is.some(t=>t===e.name)}function dc(e){const t=lc();e.beforeEach(async(n,o,r)=>{const a=uc(n.query);if(fc(n))r();else if(t.robot.id)r();else try{await t.createChat(a),r()}catch(s){console.error("Failed to get robot info:",s)}})}const pc=[{path:"/",name:"home",component:()=>Ze(()=>import("./assets/js/index-BuJQToxx.js"),__vite__mapDeps([7,1,2,3,4,5,8]))},{path:"/chat",name:"chat",component:()=>Ze(()=>import("./assets/js/index-CplD5Rfx.js"),__vite__mapDeps([9,1,4,2,3,5,10]))}],at=lo({history:uo(),routes:pc});async function hc(e){dc(at),e.use(at),await at.isReady()}const vc={class:"svg-action"},mc=["fill","width","height"],gc=["xlink:href","fill"],yc=z({__name:"index",props:{name:{type:String,required:!0},size:{type:String,default:"1em"},width:{type:String},height:{type:String},color:{type:String,default:"currentColor"}},setup(e){const t=e,n=W(()=>`#${t.name}`),o=W(()=>t.width?t.width:t.size),r=W(()=>t.height?t.height:t.size);return(a,s)=>(it(),Rt("span",vc,[(it(),Rt("svg",{"aria-hidden":"true",class:"svg-icon",fill:t.color,width:o.value,height:r.value},[fo("use",{"xlink:href":n.value,fill:t.color},null,8,gc)],8,mc))]))}}),bc=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},wc=bc(yc,[["__scopeId","data-v-3a039f58"]]),_c=e=>{e.component("SvgIcon",wc)};(function(){if(typeof window>"u")return;var e,t="ontouchstart"in window;document.createTouch||(document.createTouch=function(l,f,p,h,w,g,_){return new n(f,p,{pageX:h,pageY:w,screenX:g,screenY:_,clientX:h-window.pageXOffset,clientY:w-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var l=o(),f=0;f<arguments.length;f++)l[f]=arguments[f];return l.length=arguments.length,l}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(l){var f=this;do{if(f.matches(l))return f;f=f.parentElement||f.parentNode}while(f!==null&&f.nodeType===1);return null});var n=function(f,p,h,w,g){w=w||0,g=g||0,this.identifier=p,this.target=f,this.clientX=h.clientX+w,this.clientY=h.clientY+g,this.screenX=h.screenX+w,this.screenY=h.screenY+g,this.pageX=h.pageX+w,this.pageY=h.pageY+g};function o(){var l=[];return l.item=function(f){return this[f]||null},l.identifiedTouch=function(f){return this[f+1]||null},l}var r=!1;function a(l){return function(f){f.type==="mousedown"&&(r=!0),f.type==="mouseup"&&(r=!1),!(f.type==="mousemove"&&!r)&&((f.type==="mousedown"||!e||e&&!e.dispatchEvent)&&(e=f.target),e.closest("[data-no-touch-simulate]")==null&&s(l,f),f.type==="mouseup"&&(e=null))}}function s(l,f){var p=document.createEvent("Event");p.initEvent(l,!0,!0),p.altKey=f.altKey,p.ctrlKey=f.ctrlKey,p.metaKey=f.metaKey,p.shiftKey=f.shiftKey,p.touches=c(f),p.targetTouches=c(f),p.changedTouches=i(f),e.dispatchEvent(p)}function i(l){var f=o();return f.push(new n(e,1,l,0,0)),f}function c(l){return l.type==="mouseup"?o():i(l)}function u(){window.addEventListener("mousedown",a("touchstart"),!0),window.addEventListener("mousemove",a("touchmove"),!0),window.addEventListener("mouseup",a("touchend"),!0)}u.multiTouchOffset=75,t||new u})();const Oc=async()=>{const e=gn(ks);await xs(e),Ga(e),hc(e),Fa(e),_c(e),e.mount("#app")};Oc();export{ke as A,mr as B,$r as C,Rr as D,Ve as E,Ze as F,Zn as G,Es as H,bc as I,lc as J,Nc as K,Fc as L,ic as M,cc as N,Bn as O,Rn as P,Za as _,Rc as a,Ic as b,X as c,J as d,U as e,Ho as f,jc as g,Ac as h,xn as i,Te as j,Mc as k,vo as l,I as m,$ as n,Dc as o,In as p,bn as q,Uo as r,N as s,F as t,Pc as u,Zo as v,Lc as w,st as x,Bc as y,$c as z};
