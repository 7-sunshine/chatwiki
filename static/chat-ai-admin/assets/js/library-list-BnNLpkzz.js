import{a0 as g,e as M,M as p,N as _,W as t,k as a,u,F as w,a2 as L,a8 as c,Z as d,S as r,a4 as B,a5 as D}from"./vue-chunks-CN-qMzA4.js";import{g as I,d as S}from"./index-BT9_pYsQ.js";import{_ as T,at as P,M as z,E,d as O}from"../../index-DMzxB8WT.js";import{_ as $,M as F}from"./index-fy2rQic9.js";import"./index-C9vi6Cyy.js";import{D as N}from"./dropdown-DOgUTukA.js";import{P as j,M as V}from"./PlusCircleOutlined-8ASaW19F.js";import"./dayjs-BxPRU-k5.js";import"./axios-Cm0UX6qg.js";import"./qs-BLqWfGjr.js";import"./crypto-js-BPJ1YzU4.js";import"./index-CMEsCGiE.js";import"./collapseMotion-Dj56_wvK.js";import"./slide-DZgSj_bV.js";import"./index-_Zzk1L5c.js";import"./Dropdown-C-pHTp7f.js";import"./RightOutlined-C4O44dJV.js";import"./move-BZp_EDCU.js";const q=l=>(B("data-v-8609c8e9"),l=l(),D(),l),A={"bg-color":"#f5f9ff",class:"library-page"},G={class:"library-page-body"},R={class:"list-box"},W={class:"list-item-wrapper"},Z=q(()=>t("span",{class:"add-library-text"},"新增知识库",-1)),H=["onClick"],J={class:"item-header"},K={class:"library-title"},Q=["onClick"],U=["onClick"],X={class:"library-desc"},Y={class:"library-size"},tt={class:"file-size"},st={__name:"library-list",setup(l){const m=g(),f=M([]),v=()=>{I({}).then(s=>{f.value=s.data||[]})};v();const h=()=>{m.push({name:"addLibrary"})},b=s=>{m.push({name:"libraryDetails",query:{id:s.id}})},k=s=>{let e=3,i=z.confirm({title:`删除${s.library_name}`,icon:a(E),content:"您确定要删除此知识库吗？",okText:e+" 确 定",okType:"danger",okButtonProps:{disabled:!0},cancelText:"取 消",onOk(){C(s)},onCancel(){}}),n=setInterval(()=>{e==1?(i.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(n),n=void 0):(e-=1,i.update({okText:e+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},C=({id:s})=>{S({id:s}).then(()=>{O.success("删除成功"),v()})};return(s,e)=>{const i=$,n=F,x=N;return p(),_("div",A,[t("div",G,[t("div",R,[t("div",W,[t("div",{class:"list-item add-library",onClick:h},[a(u(j),{class:"add-library-icon"}),Z])]),(p(!0),_(w,null,L(f.value,o=>(p(),_("div",{class:"list-item-wrapper",key:o.id},[t("div",{class:"list-item",onClick:c(y=>b(o),["stop"])},[t("div",J,[t("div",K,d(o.library_name),1),t("span",{class:"item-action",onClick:e[1]||(e[1]=c(()=>{},["stop"]))},[a(x,null,{overlay:r(()=>[a(n,null,{default:r(()=>[a(i,null,{default:r(()=>[t("a",{href:"javascript:;",onClick:c(y=>b(o),["stop"])},"管 理",8,Q)]),_:2},1024),a(i,null,{default:r(()=>[t("a",{class:"delete-text-color",href:"javascript:;",onClick:y=>k(o)},"删 除",8,U)]),_:2},1024)]),_:2},1024)]),default:r(()=>[t("span",{class:"menu-btn",onClick:e[0]||(e[0]=c(()=>{},["prevent"]))},[a(u(V))])]),_:2},1024)])]),t("div",X,d(o.library_intro),1),t("div",Y,[t("span",null,"文档数："+d(o.file_total),1),t("span",tt,"文档大小："+d(u(P)(o.file_size)),1)])],8,H)]))),128))])])])}}},kt=T(st,[["__scopeId","data-v-8609c8e9"]]);export{kt as default};
