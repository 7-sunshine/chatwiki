import{bW as w,R as h}from"../../index-DMzxB8WT.js";import{u as O}from"./index-CMEsCGiE.js";import{f as x,B as C,h as M,x as W,y as H,D as B,w as D}from"./vue-chunks-CN-qMzA4.js";const _=x({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(i,v){let{slots:l}=v;const n=C({width:0,height:0,offsetHeight:0,offsetWidth:0});let c=null,s=null;const r=()=>{s&&(s.disconnect(),s=null)},b=e=>{const{onResize:t}=i,o=e[0].target,{width:R,height:p}=o.getBoundingClientRect(),{offsetWidth:d,offsetHeight:f}=o,g=Math.floor(R),u=Math.floor(p);if(n.width!==g||n.height!==u||n.offsetWidth!==d||n.offsetHeight!==f){const m={width:g,height:u,offsetWidth:d,offsetHeight:f};h(n,m),t&&Promise.resolve().then(()=>{t(h(h({},m),{offsetWidth:d,offsetHeight:f}),o)})}},z=M(),a=()=>{const{disabled:e}=i;if(e){r();return}const t=w(z);t!==c&&(r(),c=t),!s&&t&&(s=new O(b),s.observe(t))};return W(()=>{a()}),H(()=>{a()}),B(()=>{r()}),D(()=>i.disabled,()=>{a()},{flush:"post"}),()=>{var e;return(e=l.default)===null||e===void 0?void 0:e.call(l)[0]}}});export{_ as R};
