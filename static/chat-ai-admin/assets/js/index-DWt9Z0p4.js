import{$ as S,r as k,L as p,M as m,V as t,j as a,u as b,F as y,a1 as B,a7 as d,Y as _,Q as r,a3 as I,a4 as T}from"./vue-chunks-DrvJJrR0.js";import{A as $,_ as O}from"./add-data-sheet-CYg9qf-6.js";import{g as P,d as E}from"./index-DNTSjsaG.js";import{_ as F,M as L,E as j,d as A}from"../../index-BZ-otUXQ.js";import{_ as R,M as V}from"./index-DScws5Od.js";import"./index-CpX8cIvb.js";import{D as N}from"./dropdown-smzUeLAm.js";import{P as q}from"./PlusCircleOutlined-eVAZ_yzx.js";import{M as G}from"./MoreOutlined-C8jNUHBg.js";import"./index-7iWnygsG.js";import"./colors-pe8u-pI4.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./Input-DaBdJVmq.js";import"./FormItemContext-C7okzFJw.js";import"./index-CTwGK_Q7.js";import"./inputProps-DEMSnwmt.js";import"./responsiveObserve-COV3UDcK.js";import"./collapseMotion-DfZt1qrJ.js";import"./index-CWS8D7dl.js";import"./QuestionCircleOutlined-ClQRXQWe.js";import"./index-CkaDHcg1.js";import"./Search-RZf67srb.js";import"./SearchOutlined-BCQFmtX9.js";import"./TextArea-CdjqgDW0.js";import"./index-Bky8ceeA.js";import"./Password-DCU6JJ4D.js";import"./dayjs-Bv4VEw_C.js";import"./axios-Cm0UX6qg.js";import"./qs-QntUJHOZ.js";import"./crypto-js-BpV8n4kc.js";import"./shallowequal-CfnxU2uU.js";import"./slide-Cj9efNu7.js";import"./Dropdown-CFPB2531.js";import"./RightOutlined-CTETdq6_.js";import"./move-Dq3C5pSZ.js";const x=n=>(I("data-v-3fffbf72"),n=n(),T(),n),Q={class:"library-page"},Y={class:"library-page-body"},z={class:"list-box"},H={class:"list-item-wrapper"},J=x(()=>t("span",{class:"add-library-text"},"新增数据表",-1)),K=["onClick"],U={class:"item-header"},W=x(()=>t("img",{class:"library-icon",src:O,alt:""},null,-1)),X={class:"library-info"},Z={class:"library-title"},tt={class:"library-num"},ot=["onClick"],et=["onClick"],st={class:"library-desc"},at={__name:"index",setup(n){const C=S(),u=k([]),c=()=>{P({}).then(o=>{u.value=o.data||[]})};c();const f=k(null),v=(o={})=>{f.value.show(o)},g=o=>{C.push({path:"/database/details",query:{form_id:o.id,name:o.name}})},w=o=>{let e=3,i=L.confirm({title:"删除确认",icon:a(j),content:`删除数据表后，表中所有数据将一并被删除，不可恢复。确认删除数据表${o.name}吗?`,okText:e+" 确 定",okType:"danger",okButtonProps:{disabled:!0},cancelText:"取 消",onOk(){D(o)},onCancel(){}}),l=setInterval(()=>{e==1?(i.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(l),l=void 0):(e-=1,i.update({okText:e+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},D=({id:o})=>{E({id:o}).then(()=>{A.success("删除成功"),c()})};return(o,e)=>{const i=R,l=V,M=N;return p(),m(y,null,[t("div",Q,[t("div",Y,[t("div",z,[t("div",H,[t("div",{class:"list-item add-library",onClick:e[0]||(e[0]=s=>v())},[a(b(q),{class:"add-library-icon"}),J])]),(p(!0),m(y,null,B(u.value,s=>(p(),m("div",{class:"list-item-wrapper",key:s.id},[t("div",{class:"list-item",onClick:d(h=>g(s),["stop"])},[t("div",U,[W,t("div",X,[t("div",Z,_(s.name),1),t("div",tt,[t("span",null,"数据："+_(s.entry_count)+"条",1)])]),t("span",{class:"item-action",onClick:e[2]||(e[2]=d(()=>{},["stop"]))},[a(M,null,{overlay:r(()=>[a(l,null,{default:r(()=>[a(i,null,{default:r(()=>[t("a",{href:"javascript:;",onClick:d(h=>v(s),["stop"])},"编 辑",8,ot)]),_:2},1024),a(i,null,{default:r(()=>[t("a",{class:"delete-text-color",href:"javascript:;",onClick:h=>w(s)},"删 除",8,et)]),_:2},1024)]),_:2},1024)]),default:r(()=>[t("span",{class:"menu-btn",onClick:e[1]||(e[1]=d(()=>{},["prevent"]))},[a(b(G))])]),_:2},1024)])]),t("div",st,_(s.description),1)],8,K)]))),128))])])]),a($,{onOk:c,ref_key:"addDataSheetRef",ref:f},null,512)],64)}}},Vt=F(at,[["__scopeId","data-v-3fffbf72"]]);export{Vt as default};
